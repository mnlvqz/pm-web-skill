function bz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hL={exports:{}},dy={},pL={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p=Symbol.for("react.element"),Cz=Symbol.for("react.portal"),Ez=Symbol.for("react.fragment"),Tz=Symbol.for("react.strict_mode"),Rz=Symbol.for("react.profiler"),Pz=Symbol.for("react.provider"),Bz=Symbol.for("react.context"),Iz=Symbol.for("react.forward_ref"),Lz=Symbol.for("react.suspense"),Dz=Symbol.for("react.memo"),Fz=Symbol.for("react.lazy"),iT=Symbol.iterator;function kz(t){return t===null||typeof t!="object"?null:(t=iT&&t[iT]||t["@@iterator"],typeof t=="function"?t:null)}var mL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gL=Object.assign,vL={};function Qd(t,e,n){this.props=t,this.context=e,this.refs=vL,this.updater=n||mL}Qd.prototype.isReactComponent={};Qd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yL(){}yL.prototype=Qd.prototype;function XM(t,e,n){this.props=t,this.context=e,this.refs=vL,this.updater=n||mL}var $M=XM.prototype=new yL;$M.constructor=XM;gL($M,Qd.prototype);$M.isPureReactComponent=!0;var sT=Array.isArray,xL=Object.prototype.hasOwnProperty,JM={current:null},_L={key:!0,ref:!0,__self:!0,__source:!0};function SL(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xL.call(e,r)&&!_L.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$p,type:t,key:s,ref:o,props:i,_owner:JM.current}}function Nz(t,e){return{$$typeof:$p,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function KM(t){return typeof t=="object"&&t!==null&&t.$$typeof===$p}function Oz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oT=/\/+/g;function R_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Oz(""+t.key):e.toString(36)}function k0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $p:case Cz:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+R_(o,0):r,sT(i)?(n="",t!=null&&(n=t.replace(oT,"$&/")+"/"),k0(i,e,n,"",function(u){return u})):i!=null&&(KM(i)&&(i=Nz(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(oT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+R_(s,a);o+=k0(s,e,n,l,i)}else if(l=kz(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+R_(s,a++),o+=k0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dg(t,e,n){if(t==null)return t;var r=[],i=0;return k0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Uz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var oi={current:null},N0={transition:null},zz={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:N0,ReactCurrentOwner:JM};Pt.Children={map:dg,forEach:function(t,e,n){dg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dg(t,function(){e++}),e},toArray:function(t){return dg(t,function(e){return e})||[]},only:function(t){if(!KM(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pt.Component=Qd;Pt.Fragment=Ez;Pt.Profiler=Rz;Pt.PureComponent=XM;Pt.StrictMode=Tz;Pt.Suspense=Lz;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zz;Pt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gL({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=JM.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xL.call(e,l)&&!_L.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$p,type:t.type,key:i,ref:s,props:r,_owner:o}};Pt.createContext=function(t){return t={$$typeof:Bz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Pz,_context:t},t.Consumer=t};Pt.createElement=SL;Pt.createFactory=function(t){var e=SL.bind(null,t);return e.type=t,e};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(t){return{$$typeof:Iz,render:t}};Pt.isValidElement=KM;Pt.lazy=function(t){return{$$typeof:Fz,_payload:{_status:-1,_result:t},_init:Uz}};Pt.memo=function(t,e){return{$$typeof:Dz,type:t,compare:e===void 0?null:e}};Pt.startTransition=function(t){var e=N0.transition;N0.transition={};try{t()}finally{N0.transition=e}};Pt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pt.useCallback=function(t,e){return oi.current.useCallback(t,e)};Pt.useContext=function(t){return oi.current.useContext(t)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(t){return oi.current.useDeferredValue(t)};Pt.useEffect=function(t,e){return oi.current.useEffect(t,e)};Pt.useId=function(){return oi.current.useId()};Pt.useImperativeHandle=function(t,e,n){return oi.current.useImperativeHandle(t,e,n)};Pt.useInsertionEffect=function(t,e){return oi.current.useInsertionEffect(t,e)};Pt.useLayoutEffect=function(t,e){return oi.current.useLayoutEffect(t,e)};Pt.useMemo=function(t,e){return oi.current.useMemo(t,e)};Pt.useReducer=function(t,e,n){return oi.current.useReducer(t,e,n)};Pt.useRef=function(t){return oi.current.useRef(t)};Pt.useState=function(t){return oi.current.useState(t)};Pt.useSyncExternalStore=function(t,e,n){return oi.current.useSyncExternalStore(t,e,n)};Pt.useTransition=function(){return oi.current.useTransition()};Pt.version="18.2.0";pL.exports=Pt;var G=pL.exports;const Pd=Xp(G),aT=bz({__proto__:null,default:Pd},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hz=G,Gz=Symbol.for("react.element"),Vz=Symbol.for("react.fragment"),Wz=Object.prototype.hasOwnProperty,jz=Hz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xz={key:!0,ref:!0,__self:!0,__source:!0};function AL(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Wz.call(e,r)&&!Xz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Gz,type:t,key:s,ref:o,props:i,_owner:jz.current}}dy.Fragment=Vz;dy.jsx=AL;dy.jsxs=AL;hL.exports=dy;var ce=hL.exports,F1={},ML={exports:{}},Vi={},wL={exports:{}},bL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,j){var W=D.length;D.push(j);e:for(;0<W;){var ne=W-1>>>1,xe=D[ne];if(0<i(xe,j))D[ne]=j,D[W]=xe,W=ne;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var j=D[0],W=D.pop();if(W!==j){D[0]=W;e:for(var ne=0,xe=D.length,we=xe>>>1;ne<we;){var re=2*(ne+1)-1,Se=D[re],be=re+1,Me=D[be];if(0>i(Se,W))be<xe&&0>i(Me,Se)?(D[ne]=Me,D[be]=W,ne=be):(D[ne]=Se,D[re]=W,ne=re);else if(be<xe&&0>i(Me,W))D[ne]=Me,D[be]=W,ne=be;else break e}}return j}function i(D,j){var W=D.sortIndex-j.sortIndex;return W!==0?W:D.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,m=!1,y=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=D)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function b(D){if(S=!1,_(D),!y)if(n(l)!==null)y=!0,de(B);else{var j=n(u);j!==null&&ge(b,j.startTime-D)}}function B(D,j){y=!1,S&&(S=!1,g(L),L=-1),m=!0;var W=p;try{for(_(j),h=n(l);h!==null&&(!(h.expirationTime>j)||D&&!k());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var xe=ne(h.expirationTime<=j);j=t.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(l)&&r(l),_(j)}else r(l);h=n(l)}if(h!==null)var we=!0;else{var re=n(u);re!==null&&ge(b,re.startTime-j),we=!1}return we}finally{h=null,p=W,m=!1}}var T=!1,R=null,L=-1,P=5,C=-1;function k(){return!(t.unstable_now()-C<P)}function X(){if(R!==null){var D=t.unstable_now();C=D;var j=!0;try{j=R(!0,D)}finally{j?H():(T=!1,R=null)}}else T=!1}var H;if(typeof A=="function")H=function(){A(X)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Q=ee.port2;ee.port1.onmessage=X,H=function(){Q.postMessage(null)}}else H=function(){x(X,0)};function de(D){R=D,T||(T=!0,H())}function ge(D,j){L=x(function(){D(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,de(B))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var W=p;p=j;try{return D()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=p;p=D;try{return j()}finally{p=W}},t.unstable_scheduleCallback=function(D,j,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,D){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=W+xe,D={id:f++,callback:j,priorityLevel:D,startTime:W,expirationTime:xe,sortIndex:-1},W>ne?(D.sortIndex=W,e(u,D),n(l)===null&&D===n(u)&&(S?(g(L),L=-1):S=!0,ge(b,W-ne))):(D.sortIndex=xe,e(l,D),y||m||(y=!0,de(B))),D},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(D){var j=p;return function(){var W=p;p=j;try{return D.apply(this,arguments)}finally{p=W}}}})(bL);wL.exports=bL;var $z=wL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CL=G,zi=$z;function Ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EL=new Set,tp={};function Dc(t,e){Bd(t,e),Bd(t+"Capture",e)}function Bd(t,e){for(tp[t]=e,t=0;t<e.length;t++)EL.add(e[t])}var $o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k1=Object.prototype.hasOwnProperty,Jz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lT={},cT={};function Kz(t){return k1.call(cT,t)?!0:k1.call(lT,t)?!1:Jz.test(t)?cT[t]=!0:(lT[t]=!0,!1)}function Yz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qz(t,e,n,r){if(e===null||typeof e>"u"||Yz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ai(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cr[t]=new ai(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cr[e]=new ai(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cr[t]=new ai(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cr[t]=new ai(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cr[t]=new ai(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cr[t]=new ai(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cr[t]=new ai(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cr[t]=new ai(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cr[t]=new ai(t,5,!1,t.toLowerCase(),null,!1,!1)});var YM=/[\-:]([a-z])/g;function qM(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(YM,qM);Cr[e]=new ai(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(YM,qM);Cr[e]=new ai(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(YM,qM);Cr[e]=new ai(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cr[t]=new ai(t,1,!1,t.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cr[t]=new ai(t,1,!1,t.toLowerCase(),null,!0,!0)});function QM(t,e,n,r){var i=Cr.hasOwnProperty(e)?Cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qz(e,n,i,r)&&(n=null),r||i===null?Kz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ea=CL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fg=Symbol.for("react.element"),Vu=Symbol.for("react.portal"),Wu=Symbol.for("react.fragment"),ZM=Symbol.for("react.strict_mode"),N1=Symbol.for("react.profiler"),TL=Symbol.for("react.provider"),RL=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),U1=Symbol.for("react.suspense_list"),tw=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),PL=Symbol.for("react.offscreen"),uT=Symbol.iterator;function Of(t){return t===null||typeof t!="object"?null:(t=uT&&t[uT]||t["@@iterator"],typeof t=="function"?t:null)}var En=Object.assign,P_;function yh(t){if(P_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);P_=e&&e[1]||""}return`
`+P_+t}var B_=!1;function I_(t,e){if(!t||B_)return"";B_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{B_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yh(t):""}function Qz(t){switch(t.tag){case 5:return yh(t.type);case 16:return yh("Lazy");case 13:return yh("Suspense");case 19:return yh("SuspenseList");case 0:case 2:case 15:return t=I_(t.type,!1),t;case 11:return t=I_(t.type.render,!1),t;case 1:return t=I_(t.type,!0),t;default:return""}}function z1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wu:return"Fragment";case Vu:return"Portal";case N1:return"Profiler";case ZM:return"StrictMode";case O1:return"Suspense";case U1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RL:return(t.displayName||"Context")+".Consumer";case TL:return(t._context.displayName||"Context")+".Provider";case ew:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tw:return e=t.displayName||null,e!==null?e:z1(t.type)||"Memo";case Ba:e=t._payload,t=t._init;try{return z1(t(e))}catch{}}return null}function Zz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z1(e);case 8:return e===ZM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function el(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e4(t){var e=BL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hg(t){t._valueTracker||(t._valueTracker=e4(t))}function IL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function H1(t,e){var n=e.checked;return En({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=el(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LL(t,e){e=e.checked,e!=null&&QM(t,"checked",e,!1)}function G1(t,e){LL(t,e);var n=el(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?V1(t,e.type,n):e.hasOwnProperty("defaultValue")&&V1(t,e.type,el(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function V1(t,e,n){(e!=="number"||yv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xh=Array.isArray;function md(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+el(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function W1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return En({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ce(92));if(xh(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:el(n)}}function DL(t,e){var n=el(e.value),r=el(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function j1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pg,kL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pg=pg||document.createElement("div"),pg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function np(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ph={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t4=["Webkit","ms","Moz","O"];Object.keys(Ph).forEach(function(t){t4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ph[e]=Ph[t]})});function NL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ph.hasOwnProperty(t)&&Ph[t]?(""+e).trim():e+"px"}function OL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=NL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var n4=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function X1(t,e){if(e){if(n4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function $1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J1=null;function nw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var K1=null,gd=null,vd=null;function mT(t){if(t=Yp(t)){if(typeof K1!="function")throw Error(Ce(280));var e=t.stateNode;e&&(e=gy(e),K1(t.stateNode,t.type,e))}}function UL(t){gd?vd?vd.push(t):vd=[t]:gd=t}function zL(){if(gd){var t=gd,e=vd;if(vd=gd=null,mT(t),e)for(t=0;t<e.length;t++)mT(e[t])}}function HL(t,e){return t(e)}function GL(){}var L_=!1;function VL(t,e,n){if(L_)return t(e,n);L_=!0;try{return HL(t,e,n)}finally{L_=!1,(gd!==null||vd!==null)&&(GL(),zL())}}function rp(t,e){var n=t.stateNode;if(n===null)return null;var r=gy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ce(231,e,typeof n));return n}var Y1=!1;if($o)try{var Uf={};Object.defineProperty(Uf,"passive",{get:function(){Y1=!0}}),window.addEventListener("test",Uf,Uf),window.removeEventListener("test",Uf,Uf)}catch{Y1=!1}function r4(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Bh=!1,xv=null,_v=!1,q1=null,i4={onError:function(t){Bh=!0,xv=t}};function s4(t,e,n,r,i,s,o,a,l){Bh=!1,xv=null,r4.apply(i4,arguments)}function o4(t,e,n,r,i,s,o,a,l){if(s4.apply(this,arguments),Bh){if(Bh){var u=xv;Bh=!1,xv=null}else throw Error(Ce(198));_v||(_v=!0,q1=u)}}function Fc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gT(t){if(Fc(t)!==t)throw Error(Ce(188))}function a4(t){var e=t.alternate;if(!e){if(e=Fc(t),e===null)throw Error(Ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gT(i),t;if(s===r)return gT(i),e;s=s.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?t:e}function jL(t){return t=a4(t),t!==null?XL(t):null}function XL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XL(t);if(e!==null)return e;t=t.sibling}return null}var $L=zi.unstable_scheduleCallback,vT=zi.unstable_cancelCallback,l4=zi.unstable_shouldYield,c4=zi.unstable_requestPaint,Nn=zi.unstable_now,u4=zi.unstable_getCurrentPriorityLevel,rw=zi.unstable_ImmediatePriority,JL=zi.unstable_UserBlockingPriority,Sv=zi.unstable_NormalPriority,d4=zi.unstable_LowPriority,KL=zi.unstable_IdlePriority,fy=null,ro=null;function f4(t){if(ro&&typeof ro.onCommitFiberRoot=="function")try{ro.onCommitFiberRoot(fy,t,void 0,(t.current.flags&128)===128)}catch{}}var Ds=Math.clz32?Math.clz32:m4,h4=Math.log,p4=Math.LN2;function m4(t){return t>>>=0,t===0?32:31-(h4(t)/p4|0)|0}var mg=64,gg=4194304;function _h(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Av(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=_h(a):(s&=o,s!==0&&(r=_h(s)))}else o=n&~i,o!==0?r=_h(o):s!==0&&(r=_h(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ds(e),i=1<<n,r|=t[n],e&=~i;return r}function g4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ds(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=g4(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Q1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YL(){var t=mg;return mg<<=1,!(mg&4194240)&&(mg=64),t}function D_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ds(e),t[e]=n}function y4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ds(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ds(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var on=0;function qL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QL,sw,ZL,eD,tD,Z1=!1,vg=[],Va=null,Wa=null,ja=null,ip=new Map,sp=new Map,ka=[],x4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yT(t,e){switch(t){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":ip.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sp.delete(e.pointerId)}}function zf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yp(e),e!==null&&sw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _4(t,e,n,r,i){switch(e){case"focusin":return Va=zf(Va,t,e,n,r,i),!0;case"dragenter":return Wa=zf(Wa,t,e,n,r,i),!0;case"mouseover":return ja=zf(ja,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ip.set(s,zf(ip.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sp.set(s,zf(sp.get(s)||null,t,e,n,r,i)),!0}return!1}function nD(t){var e=ic(t.target);if(e!==null){var n=Fc(e);if(n!==null){if(e=n.tag,e===13){if(e=WL(n),e!==null){t.blockedOn=e,tD(t.priority,function(){ZL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function O0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);J1=r,n.target.dispatchEvent(r),J1=null}else return e=Yp(n),e!==null&&sw(e),t.blockedOn=n,!1;e.shift()}return!0}function xT(t,e,n){O0(t)&&n.delete(e)}function S4(){Z1=!1,Va!==null&&O0(Va)&&(Va=null),Wa!==null&&O0(Wa)&&(Wa=null),ja!==null&&O0(ja)&&(ja=null),ip.forEach(xT),sp.forEach(xT)}function Hf(t,e){t.blockedOn===e&&(t.blockedOn=null,Z1||(Z1=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,S4)))}function op(t){function e(i){return Hf(i,t)}if(0<vg.length){Hf(vg[0],t);for(var n=1;n<vg.length;n++){var r=vg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Va!==null&&Hf(Va,t),Wa!==null&&Hf(Wa,t),ja!==null&&Hf(ja,t),ip.forEach(e),sp.forEach(e),n=0;n<ka.length;n++)r=ka[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ka.length&&(n=ka[0],n.blockedOn===null);)nD(n),n.blockedOn===null&&ka.shift()}var yd=ea.ReactCurrentBatchConfig,Mv=!0;function A4(t,e,n,r){var i=on,s=yd.transition;yd.transition=null;try{on=1,ow(t,e,n,r)}finally{on=i,yd.transition=s}}function M4(t,e,n,r){var i=on,s=yd.transition;yd.transition=null;try{on=4,ow(t,e,n,r)}finally{on=i,yd.transition=s}}function ow(t,e,n,r){if(Mv){var i=eA(t,e,n,r);if(i===null)W_(t,e,r,wv,n),yT(t,r);else if(_4(i,t,e,n,r))r.stopPropagation();else if(yT(t,r),e&4&&-1<x4.indexOf(t)){for(;i!==null;){var s=Yp(i);if(s!==null&&QL(s),s=eA(t,e,n,r),s===null&&W_(t,e,r,wv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else W_(t,e,r,null,n)}}var wv=null;function eA(t,e,n,r){if(wv=null,t=nw(r),t=ic(t),t!==null)if(e=Fc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=WL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wv=t,null}function rD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u4()){case rw:return 1;case JL:return 4;case Sv:case d4:return 16;case KL:return 536870912;default:return 16}default:return 16}}var za=null,aw=null,U0=null;function iD(){if(U0)return U0;var t,e=aw,n=e.length,r,i="value"in za?za.value:za.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return U0=i.slice(t,1<r?1-r:void 0)}function z0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yg(){return!0}function _T(){return!1}function Wi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yg:_T,this.isPropagationStopped=_T,this}return En(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yg)},persist:function(){},isPersistent:yg}),e}var Zd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lw=Wi(Zd),Kp=En({},Zd,{view:0,detail:0}),w4=Wi(Kp),F_,k_,Gf,hy=En({},Kp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gf&&(Gf&&t.type==="mousemove"?(F_=t.screenX-Gf.screenX,k_=t.screenY-Gf.screenY):k_=F_=0,Gf=t),F_)},movementY:function(t){return"movementY"in t?t.movementY:k_}}),ST=Wi(hy),b4=En({},hy,{dataTransfer:0}),C4=Wi(b4),E4=En({},Kp,{relatedTarget:0}),N_=Wi(E4),T4=En({},Zd,{animationName:0,elapsedTime:0,pseudoElement:0}),R4=Wi(T4),P4=En({},Zd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B4=Wi(P4),I4=En({},Zd,{data:0}),AT=Wi(I4),L4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=F4[t])?!!e[t]:!1}function cw(){return k4}var N4=En({},Kp,{key:function(t){if(t.key){var e=L4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=z0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cw,charCode:function(t){return t.type==="keypress"?z0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?z0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O4=Wi(N4),U4=En({},hy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MT=Wi(U4),z4=En({},Kp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cw}),H4=Wi(z4),G4=En({},Zd,{propertyName:0,elapsedTime:0,pseudoElement:0}),V4=Wi(G4),W4=En({},hy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j4=Wi(W4),X4=[9,13,27,32],uw=$o&&"CompositionEvent"in window,Ih=null;$o&&"documentMode"in document&&(Ih=document.documentMode);var $4=$o&&"TextEvent"in window&&!Ih,sD=$o&&(!uw||Ih&&8<Ih&&11>=Ih),wT=" ",bT=!1;function oD(t,e){switch(t){case"keyup":return X4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ju=!1;function J4(t,e){switch(t){case"compositionend":return aD(e);case"keypress":return e.which!==32?null:(bT=!0,wT);case"textInput":return t=e.data,t===wT&&bT?null:t;default:return null}}function K4(t,e){if(ju)return t==="compositionend"||!uw&&oD(t,e)?(t=iD(),U0=aw=za=null,ju=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sD&&e.locale!=="ko"?null:e.data;default:return null}}var Y4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y4[t.type]:e==="textarea"}function lD(t,e,n,r){UL(r),e=bv(e,"onChange"),0<e.length&&(n=new lw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lh=null,ap=null;function q4(t){xD(t,0)}function py(t){var e=Ju(t);if(IL(e))return t}function Q4(t,e){if(t==="change")return e}var cD=!1;if($o){var O_;if($o){var U_="oninput"in document;if(!U_){var ET=document.createElement("div");ET.setAttribute("oninput","return;"),U_=typeof ET.oninput=="function"}O_=U_}else O_=!1;cD=O_&&(!document.documentMode||9<document.documentMode)}function TT(){Lh&&(Lh.detachEvent("onpropertychange",uD),ap=Lh=null)}function uD(t){if(t.propertyName==="value"&&py(ap)){var e=[];lD(e,ap,t,nw(t)),VL(q4,e)}}function Z4(t,e,n){t==="focusin"?(TT(),Lh=e,ap=n,Lh.attachEvent("onpropertychange",uD)):t==="focusout"&&TT()}function e5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return py(ap)}function t5(t,e){if(t==="click")return py(e)}function n5(t,e){if(t==="input"||t==="change")return py(e)}function r5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ns=typeof Object.is=="function"?Object.is:r5;function lp(t,e){if(Ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!k1.call(e,i)||!Ns(t[i],e[i]))return!1}return!0}function RT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function PT(t,e){var n=RT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RT(n)}}function dD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fD(){for(var t=window,e=yv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yv(t.document)}return e}function dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i5(t){var e=fD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dD(n.ownerDocument.documentElement,n)){if(r!==null&&dw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=PT(n,s);var o=PT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s5=$o&&"documentMode"in document&&11>=document.documentMode,Xu=null,tA=null,Dh=null,nA=!1;function BT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nA||Xu==null||Xu!==yv(r)||(r=Xu,"selectionStart"in r&&dw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dh&&lp(Dh,r)||(Dh=r,r=bv(tA,"onSelect"),0<r.length&&(e=new lw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xu)))}function xg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $u={animationend:xg("Animation","AnimationEnd"),animationiteration:xg("Animation","AnimationIteration"),animationstart:xg("Animation","AnimationStart"),transitionend:xg("Transition","TransitionEnd")},z_={},hD={};$o&&(hD=document.createElement("div").style,"AnimationEvent"in window||(delete $u.animationend.animation,delete $u.animationiteration.animation,delete $u.animationstart.animation),"TransitionEvent"in window||delete $u.transitionend.transition);function my(t){if(z_[t])return z_[t];if(!$u[t])return t;var e=$u[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hD)return z_[t]=e[n];return t}var pD=my("animationend"),mD=my("animationiteration"),gD=my("animationstart"),vD=my("transitionend"),yD=new Map,IT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ul(t,e){yD.set(t,e),Dc(e,[t])}for(var H_=0;H_<IT.length;H_++){var G_=IT[H_],o5=G_.toLowerCase(),a5=G_[0].toUpperCase()+G_.slice(1);ul(o5,"on"+a5)}ul(pD,"onAnimationEnd");ul(mD,"onAnimationIteration");ul(gD,"onAnimationStart");ul("dblclick","onDoubleClick");ul("focusin","onFocus");ul("focusout","onBlur");ul(vD,"onTransitionEnd");Bd("onMouseEnter",["mouseout","mouseover"]);Bd("onMouseLeave",["mouseout","mouseover"]);Bd("onPointerEnter",["pointerout","pointerover"]);Bd("onPointerLeave",["pointerout","pointerover"]);Dc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sh));function LT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,o4(r,e,void 0,t),t.currentTarget=null}function xD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;LT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;LT(i,a,u),s=l}}}if(_v)throw t=q1,_v=!1,q1=null,t}function pn(t,e){var n=e[aA];n===void 0&&(n=e[aA]=new Set);var r=t+"__bubble";n.has(r)||(_D(e,t,2,!1),n.add(r))}function V_(t,e,n){var r=0;e&&(r|=4),_D(n,t,r,e)}var _g="_reactListening"+Math.random().toString(36).slice(2);function cp(t){if(!t[_g]){t[_g]=!0,EL.forEach(function(n){n!=="selectionchange"&&(l5.has(n)||V_(n,!1,t),V_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_g]||(e[_g]=!0,V_("selectionchange",!1,e))}}function _D(t,e,n,r){switch(rD(e)){case 1:var i=A4;break;case 4:i=M4;break;default:i=ow}n=i.bind(null,e,n,t),i=void 0,!Y1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function W_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ic(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}VL(function(){var u=s,f=nw(n),h=[];e:{var p=yD.get(t);if(p!==void 0){var m=lw,y=t;switch(t){case"keypress":if(z0(n)===0)break e;case"keydown":case"keyup":m=O4;break;case"focusin":y="focus",m=N_;break;case"focusout":y="blur",m=N_;break;case"beforeblur":case"afterblur":m=N_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ST;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=C4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=H4;break;case pD:case mD:case gD:m=R4;break;case vD:m=V4;break;case"scroll":m=w4;break;case"wheel":m=j4;break;case"copy":case"cut":case"paste":m=B4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=MT}var S=(e&4)!==0,x=!S&&t==="scroll",g=S?p!==null?p+"Capture":null:p;S=[];for(var A=u,_;A!==null;){_=A;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,g!==null&&(b=rp(A,g),b!=null&&S.push(up(A,b,_)))),x)break;A=A.return}0<S.length&&(p=new m(p,y,null,n,f),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==J1&&(y=n.relatedTarget||n.fromElement)&&(ic(y)||y[Jo]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ic(y):null,y!==null&&(x=Fc(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(S=ST,b="onMouseLeave",g="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(S=MT,b="onPointerLeave",g="onPointerEnter",A="pointer"),x=m==null?p:Ju(m),_=y==null?p:Ju(y),p=new S(b,A+"leave",m,n,f),p.target=x,p.relatedTarget=_,b=null,ic(f)===u&&(S=new S(g,A+"enter",y,n,f),S.target=_,S.relatedTarget=x,b=S),x=b,m&&y)t:{for(S=m,g=y,A=0,_=S;_;_=cu(_))A++;for(_=0,b=g;b;b=cu(b))_++;for(;0<A-_;)S=cu(S),A--;for(;0<_-A;)g=cu(g),_--;for(;A--;){if(S===g||g!==null&&S===g.alternate)break t;S=cu(S),g=cu(g)}S=null}else S=null;m!==null&&DT(h,p,m,S,!1),y!==null&&x!==null&&DT(h,x,y,S,!0)}}e:{if(p=u?Ju(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var B=Q4;else if(CT(p))if(cD)B=n5;else{B=e5;var T=Z4}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(B=t5);if(B&&(B=B(t,u))){lD(h,B,n,f);break e}T&&T(t,p,u),t==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&V1(p,"number",p.value)}switch(T=u?Ju(u):window,t){case"focusin":(CT(T)||T.contentEditable==="true")&&(Xu=T,tA=u,Dh=null);break;case"focusout":Dh=tA=Xu=null;break;case"mousedown":nA=!0;break;case"contextmenu":case"mouseup":case"dragend":nA=!1,BT(h,n,f);break;case"selectionchange":if(s5)break;case"keydown":case"keyup":BT(h,n,f)}var R;if(uw)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ju?oD(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(sD&&n.locale!=="ko"&&(ju||L!=="onCompositionStart"?L==="onCompositionEnd"&&ju&&(R=iD()):(za=f,aw="value"in za?za.value:za.textContent,ju=!0)),T=bv(u,L),0<T.length&&(L=new AT(L,t,null,n,f),h.push({event:L,listeners:T}),R?L.data=R:(R=aD(n),R!==null&&(L.data=R)))),(R=$4?J4(t,n):K4(t,n))&&(u=bv(u,"onBeforeInput"),0<u.length&&(f=new AT("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=R))}xD(h,e)})}function up(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rp(t,n),s!=null&&r.unshift(up(t,s,i)),s=rp(t,e),s!=null&&r.push(up(t,s,i))),t=t.return}return r}function cu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=rp(n,s),l!=null&&o.unshift(up(n,l,a))):i||(l=rp(n,s),l!=null&&o.push(up(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var c5=/\r\n?/g,u5=/\u0000|\uFFFD/g;function FT(t){return(typeof t=="string"?t:""+t).replace(c5,`
`).replace(u5,"")}function Sg(t,e,n){if(e=FT(e),FT(t)!==e&&n)throw Error(Ce(425))}function Cv(){}var rA=null,iA=null;function sA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oA=typeof setTimeout=="function"?setTimeout:void 0,d5=typeof clearTimeout=="function"?clearTimeout:void 0,kT=typeof Promise=="function"?Promise:void 0,f5=typeof queueMicrotask=="function"?queueMicrotask:typeof kT<"u"?function(t){return kT.resolve(null).then(t).catch(h5)}:oA;function h5(t){setTimeout(function(){throw t})}function j_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),op(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);op(e)}function Xa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ef=Math.random().toString(36).slice(2),eo="__reactFiber$"+ef,dp="__reactProps$"+ef,Jo="__reactContainer$"+ef,aA="__reactEvents$"+ef,p5="__reactListeners$"+ef,m5="__reactHandles$"+ef;function ic(t){var e=t[eo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jo]||n[eo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=NT(t);t!==null;){if(n=t[eo])return n;t=NT(t)}return e}t=n,n=t.parentNode}return null}function Yp(t){return t=t[eo]||t[Jo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ju(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ce(33))}function gy(t){return t[dp]||null}var lA=[],Ku=-1;function dl(t){return{current:t}}function vn(t){0>Ku||(t.current=lA[Ku],lA[Ku]=null,Ku--)}function fn(t,e){Ku++,lA[Ku]=t.current,t.current=e}var tl={},Vr=dl(tl),gi=dl(!1),Cc=tl;function Id(t,e){var n=t.type.contextTypes;if(!n)return tl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vi(t){return t=t.childContextTypes,t!=null}function Ev(){vn(gi),vn(Vr)}function OT(t,e,n){if(Vr.current!==tl)throw Error(Ce(168));fn(Vr,e),fn(gi,n)}function SD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ce(108,Zz(t)||"Unknown",i));return En({},n,r)}function Tv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tl,Cc=Vr.current,fn(Vr,t),fn(gi,gi.current),!0}function UT(t,e,n){var r=t.stateNode;if(!r)throw Error(Ce(169));n?(t=SD(t,e,Cc),r.__reactInternalMemoizedMergedChildContext=t,vn(gi),vn(Vr),fn(Vr,t)):vn(gi),fn(gi,n)}var Po=null,vy=!1,X_=!1;function AD(t){Po===null?Po=[t]:Po.push(t)}function g5(t){vy=!0,AD(t)}function fl(){if(!X_&&Po!==null){X_=!0;var t=0,e=on;try{var n=Po;for(on=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Po=null,vy=!1}catch(i){throw Po!==null&&(Po=Po.slice(t+1)),$L(rw,fl),i}finally{on=e,X_=!1}}return null}var Yu=[],qu=0,Rv=null,Pv=0,us=[],ds=0,Ec=null,Fo=1,ko="";function $l(t,e){Yu[qu++]=Pv,Yu[qu++]=Rv,Rv=t,Pv=e}function MD(t,e,n){us[ds++]=Fo,us[ds++]=ko,us[ds++]=Ec,Ec=t;var r=Fo;t=ko;var i=32-Ds(r)-1;r&=~(1<<i),n+=1;var s=32-Ds(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fo=1<<32-Ds(e)+i|n<<i|r,ko=s+t}else Fo=1<<s|n<<i|r,ko=t}function fw(t){t.return!==null&&($l(t,1),MD(t,1,0))}function hw(t){for(;t===Rv;)Rv=Yu[--qu],Yu[qu]=null,Pv=Yu[--qu],Yu[qu]=null;for(;t===Ec;)Ec=us[--ds],us[ds]=null,ko=us[--ds],us[ds]=null,Fo=us[--ds],us[ds]=null}var ki=null,Li=null,Sn=!1,Ps=null;function wD(t,e){var n=fs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ki=t,Li=Xa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ki=t,Li=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ec!==null?{id:Fo,overflow:ko}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ki=t,Li=null,!0):!1;default:return!1}}function cA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uA(t){if(Sn){var e=Li;if(e){var n=e;if(!zT(t,e)){if(cA(t))throw Error(Ce(418));e=Xa(n.nextSibling);var r=ki;e&&zT(t,e)?wD(r,n):(t.flags=t.flags&-4097|2,Sn=!1,ki=t)}}else{if(cA(t))throw Error(Ce(418));t.flags=t.flags&-4097|2,Sn=!1,ki=t}}}function HT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ki=t}function Ag(t){if(t!==ki)return!1;if(!Sn)return HT(t),Sn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sA(t.type,t.memoizedProps)),e&&(e=Li)){if(cA(t))throw bD(),Error(Ce(418));for(;e;)wD(t,e),e=Xa(e.nextSibling)}if(HT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Li=Xa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Li=null}}else Li=ki?Xa(t.stateNode.nextSibling):null;return!0}function bD(){for(var t=Li;t;)t=Xa(t.nextSibling)}function Ld(){Li=ki=null,Sn=!1}function pw(t){Ps===null?Ps=[t]:Ps.push(t)}var v5=ea.ReactCurrentBatchConfig;function Es(t,e){if(t&&t.defaultProps){e=En({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bv=dl(null),Iv=null,Qu=null,mw=null;function gw(){mw=Qu=Iv=null}function vw(t){var e=Bv.current;vn(Bv),t._currentValue=e}function dA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xd(t,e){Iv=t,mw=Qu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pi=!0),t.firstContext=null)}function gs(t){var e=t._currentValue;if(mw!==t)if(t={context:t,memoizedValue:e,next:null},Qu===null){if(Iv===null)throw Error(Ce(308));Qu=t,Iv.dependencies={lanes:0,firstContext:t}}else Qu=Qu.next=t;return e}var sc=null;function yw(t){sc===null?sc=[t]:sc.push(t)}function CD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ko(t,r)}function Ko(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ia=!1;function xw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ED(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ho(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $a(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ko(t,n)}return i=r.interleaved,i===null?(e.next=e,yw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ko(t,n)}function H0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iw(t,n)}}function GT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lv(t,e,n,r){var i=t.updateQueue;Ia=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,S=a;switch(p=e,m=n,S.tag){case 1:if(y=S.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=En({},h,p);break e;case 2:Ia=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=h):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Rc|=o,t.lanes=o,t.memoizedState=h}}function VT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ce(191,i));i.call(r)}}}var TD=new CL.Component().refs;function fA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:En({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yy={isMounted:function(t){return(t=t._reactInternals)?Fc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ri(),i=Ka(t),s=Ho(r,i);s.payload=e,n!=null&&(s.callback=n),e=$a(t,s,i),e!==null&&(Fs(e,t,i,r),H0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ri(),i=Ka(t),s=Ho(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$a(t,s,i),e!==null&&(Fs(e,t,i,r),H0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ri(),r=Ka(t),i=Ho(n,r);i.tag=2,e!=null&&(i.callback=e),e=$a(t,i,r),e!==null&&(Fs(e,t,r,n),H0(e,t,r))}};function WT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!lp(n,r)||!lp(i,s):!0}function RD(t,e,n){var r=!1,i=tl,s=e.contextType;return typeof s=="object"&&s!==null?s=gs(s):(i=vi(e)?Cc:Vr.current,r=e.contextTypes,s=(r=r!=null)?Id(t,i):tl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yy.enqueueReplaceState(e,e.state,null)}function hA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=TD,xw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gs(s):(s=vi(e)?Cc:Vr.current,i.context=Id(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fA(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yy.enqueueReplaceState(i,i.state,null),Lv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===TD&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,t))}return t}function Mg(t,e){throw t=Object.prototype.toString.call(e),Error(Ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function XT(t){var e=t._init;return e(t._payload)}function PD(t){function e(g,A){if(t){var _=g.deletions;_===null?(g.deletions=[A],g.flags|=16):_.push(A)}}function n(g,A){if(!t)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function r(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function i(g,A){return g=Ya(g,A),g.index=0,g.sibling=null,g}function s(g,A,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<A?(g.flags|=2,A):_):(g.flags|=2,A)):(g.flags|=1048576,A)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,A,_,b){return A===null||A.tag!==6?(A=Z_(_,g.mode,b),A.return=g,A):(A=i(A,_),A.return=g,A)}function l(g,A,_,b){var B=_.type;return B===Wu?f(g,A,_.props.children,b,_.key):A!==null&&(A.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ba&&XT(B)===A.type)?(b=i(A,_.props),b.ref=Vf(g,A,_),b.return=g,b):(b=$0(_.type,_.key,_.props,null,g.mode,b),b.ref=Vf(g,A,_),b.return=g,b)}function u(g,A,_,b){return A===null||A.tag!==4||A.stateNode.containerInfo!==_.containerInfo||A.stateNode.implementation!==_.implementation?(A=eS(_,g.mode,b),A.return=g,A):(A=i(A,_.children||[]),A.return=g,A)}function f(g,A,_,b,B){return A===null||A.tag!==7?(A=gc(_,g.mode,b,B),A.return=g,A):(A=i(A,_),A.return=g,A)}function h(g,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Z_(""+A,g.mode,_),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case fg:return _=$0(A.type,A.key,A.props,null,g.mode,_),_.ref=Vf(g,null,A),_.return=g,_;case Vu:return A=eS(A,g.mode,_),A.return=g,A;case Ba:var b=A._init;return h(g,b(A._payload),_)}if(xh(A)||Of(A))return A=gc(A,g.mode,_,null),A.return=g,A;Mg(g,A)}return null}function p(g,A,_,b){var B=A!==null?A.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return B!==null?null:a(g,A,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fg:return _.key===B?l(g,A,_,b):null;case Vu:return _.key===B?u(g,A,_,b):null;case Ba:return B=_._init,p(g,A,B(_._payload),b)}if(xh(_)||Of(_))return B!==null?null:f(g,A,_,b,null);Mg(g,_)}return null}function m(g,A,_,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(_)||null,a(A,g,""+b,B);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fg:return g=g.get(b.key===null?_:b.key)||null,l(A,g,b,B);case Vu:return g=g.get(b.key===null?_:b.key)||null,u(A,g,b,B);case Ba:var T=b._init;return m(g,A,_,T(b._payload),B)}if(xh(b)||Of(b))return g=g.get(_)||null,f(A,g,b,B,null);Mg(A,b)}return null}function y(g,A,_,b){for(var B=null,T=null,R=A,L=A=0,P=null;R!==null&&L<_.length;L++){R.index>L?(P=R,R=null):P=R.sibling;var C=p(g,R,_[L],b);if(C===null){R===null&&(R=P);break}t&&R&&C.alternate===null&&e(g,R),A=s(C,A,L),T===null?B=C:T.sibling=C,T=C,R=P}if(L===_.length)return n(g,R),Sn&&$l(g,L),B;if(R===null){for(;L<_.length;L++)R=h(g,_[L],b),R!==null&&(A=s(R,A,L),T===null?B=R:T.sibling=R,T=R);return Sn&&$l(g,L),B}for(R=r(g,R);L<_.length;L++)P=m(R,g,L,_[L],b),P!==null&&(t&&P.alternate!==null&&R.delete(P.key===null?L:P.key),A=s(P,A,L),T===null?B=P:T.sibling=P,T=P);return t&&R.forEach(function(k){return e(g,k)}),Sn&&$l(g,L),B}function S(g,A,_,b){var B=Of(_);if(typeof B!="function")throw Error(Ce(150));if(_=B.call(_),_==null)throw Error(Ce(151));for(var T=B=null,R=A,L=A=0,P=null,C=_.next();R!==null&&!C.done;L++,C=_.next()){R.index>L?(P=R,R=null):P=R.sibling;var k=p(g,R,C.value,b);if(k===null){R===null&&(R=P);break}t&&R&&k.alternate===null&&e(g,R),A=s(k,A,L),T===null?B=k:T.sibling=k,T=k,R=P}if(C.done)return n(g,R),Sn&&$l(g,L),B;if(R===null){for(;!C.done;L++,C=_.next())C=h(g,C.value,b),C!==null&&(A=s(C,A,L),T===null?B=C:T.sibling=C,T=C);return Sn&&$l(g,L),B}for(R=r(g,R);!C.done;L++,C=_.next())C=m(R,g,L,C.value,b),C!==null&&(t&&C.alternate!==null&&R.delete(C.key===null?L:C.key),A=s(C,A,L),T===null?B=C:T.sibling=C,T=C);return t&&R.forEach(function(X){return e(g,X)}),Sn&&$l(g,L),B}function x(g,A,_,b){if(typeof _=="object"&&_!==null&&_.type===Wu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case fg:e:{for(var B=_.key,T=A;T!==null;){if(T.key===B){if(B=_.type,B===Wu){if(T.tag===7){n(g,T.sibling),A=i(T,_.props.children),A.return=g,g=A;break e}}else if(T.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ba&&XT(B)===T.type){n(g,T.sibling),A=i(T,_.props),A.ref=Vf(g,T,_),A.return=g,g=A;break e}n(g,T);break}else e(g,T);T=T.sibling}_.type===Wu?(A=gc(_.props.children,g.mode,b,_.key),A.return=g,g=A):(b=$0(_.type,_.key,_.props,null,g.mode,b),b.ref=Vf(g,A,_),b.return=g,g=b)}return o(g);case Vu:e:{for(T=_.key;A!==null;){if(A.key===T)if(A.tag===4&&A.stateNode.containerInfo===_.containerInfo&&A.stateNode.implementation===_.implementation){n(g,A.sibling),A=i(A,_.children||[]),A.return=g,g=A;break e}else{n(g,A);break}else e(g,A);A=A.sibling}A=eS(_,g.mode,b),A.return=g,g=A}return o(g);case Ba:return T=_._init,x(g,A,T(_._payload),b)}if(xh(_))return y(g,A,_,b);if(Of(_))return S(g,A,_,b);Mg(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,A!==null&&A.tag===6?(n(g,A.sibling),A=i(A,_),A.return=g,g=A):(n(g,A),A=Z_(_,g.mode,b),A.return=g,g=A),o(g)):n(g,A)}return x}var Dd=PD(!0),BD=PD(!1),qp={},io=dl(qp),fp=dl(qp),hp=dl(qp);function oc(t){if(t===qp)throw Error(Ce(174));return t}function _w(t,e){switch(fn(hp,e),fn(fp,t),fn(io,qp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:j1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=j1(e,t)}vn(io),fn(io,e)}function Fd(){vn(io),vn(fp),vn(hp)}function ID(t){oc(hp.current);var e=oc(io.current),n=j1(e,t.type);e!==n&&(fn(fp,t),fn(io,n))}function Sw(t){fp.current===t&&(vn(io),vn(fp))}var Mn=dl(0);function Dv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $_=[];function Aw(){for(var t=0;t<$_.length;t++)$_[t]._workInProgressVersionPrimary=null;$_.length=0}var G0=ea.ReactCurrentDispatcher,J_=ea.ReactCurrentBatchConfig,Tc=0,Cn=null,qn=null,fr=null,Fv=!1,Fh=!1,pp=0,y5=0;function Ir(){throw Error(Ce(321))}function Mw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ns(t[n],e[n]))return!1;return!0}function ww(t,e,n,r,i,s){if(Tc=s,Cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G0.current=t===null||t.memoizedState===null?A5:M5,t=n(r,i),Fh){s=0;do{if(Fh=!1,pp=0,25<=s)throw Error(Ce(301));s+=1,fr=qn=null,e.updateQueue=null,G0.current=w5,t=n(r,i)}while(Fh)}if(G0.current=kv,e=qn!==null&&qn.next!==null,Tc=0,fr=qn=Cn=null,Fv=!1,e)throw Error(Ce(300));return t}function bw(){var t=pp!==0;return pp=0,t}function Ys(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Cn.memoizedState=fr=t:fr=fr.next=t,fr}function vs(){if(qn===null){var t=Cn.alternate;t=t!==null?t.memoizedState:null}else t=qn.next;var e=fr===null?Cn.memoizedState:fr.next;if(e!==null)fr=e,qn=t;else{if(t===null)throw Error(Ce(310));qn=t,t={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},fr===null?Cn.memoizedState=fr=t:fr=fr.next=t}return fr}function mp(t,e){return typeof e=="function"?e(t):e}function K_(t){var e=vs(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=qn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((Tc&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Cn.lanes|=f,Rc|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ns(r,e.memoizedState)||(pi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Cn.lanes|=s,Rc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Y_(t){var e=vs(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ns(s,e.memoizedState)||(pi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function LD(){}function DD(t,e){var n=Cn,r=vs(),i=e(),s=!Ns(r.memoizedState,i);if(s&&(r.memoizedState=i,pi=!0),r=r.queue,Cw(ND.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||fr!==null&&fr.memoizedState.tag&1){if(n.flags|=2048,gp(9,kD.bind(null,n,r,i,e),void 0,null),hr===null)throw Error(Ce(349));Tc&30||FD(n,e,i)}return i}function FD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kD(t,e,n,r){e.value=n,e.getSnapshot=r,OD(e)&&UD(t)}function ND(t,e,n){return n(function(){OD(e)&&UD(t)})}function OD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ns(t,n)}catch{return!0}}function UD(t){var e=Ko(t,1);e!==null&&Fs(e,t,1,-1)}function $T(t){var e=Ys();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:t},e.queue=t,t=t.dispatch=S5.bind(null,Cn,t),[e.memoizedState,t]}function gp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zD(){return vs().memoizedState}function V0(t,e,n,r){var i=Ys();Cn.flags|=t,i.memoizedState=gp(1|e,n,void 0,r===void 0?null:r)}function xy(t,e,n,r){var i=vs();r=r===void 0?null:r;var s=void 0;if(qn!==null){var o=qn.memoizedState;if(s=o.destroy,r!==null&&Mw(r,o.deps)){i.memoizedState=gp(e,n,s,r);return}}Cn.flags|=t,i.memoizedState=gp(1|e,n,s,r)}function JT(t,e){return V0(8390656,8,t,e)}function Cw(t,e){return xy(2048,8,t,e)}function HD(t,e){return xy(4,2,t,e)}function GD(t,e){return xy(4,4,t,e)}function VD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WD(t,e,n){return n=n!=null?n.concat([t]):null,xy(4,4,VD.bind(null,e,t),n)}function Ew(){}function jD(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XD(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $D(t,e,n){return Tc&21?(Ns(n,e)||(n=YL(),Cn.lanes|=n,Rc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pi=!0),t.memoizedState=n)}function x5(t,e){var n=on;on=n!==0&&4>n?n:4,t(!0);var r=J_.transition;J_.transition={};try{t(!1),e()}finally{on=n,J_.transition=r}}function JD(){return vs().memoizedState}function _5(t,e,n){var r=Ka(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KD(t))YD(e,n);else if(n=CD(t,e,n,r),n!==null){var i=ri();Fs(n,t,r,i),qD(n,e,r)}}function S5(t,e,n){var r=Ka(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KD(t))YD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ns(a,o)){var l=e.interleaved;l===null?(i.next=i,yw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=CD(t,e,i,r),n!==null&&(i=ri(),Fs(n,t,r,i),qD(n,e,r))}}function KD(t){var e=t.alternate;return t===Cn||e!==null&&e===Cn}function YD(t,e){Fh=Fv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iw(t,n)}}var kv={readContext:gs,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},A5={readContext:gs,useCallback:function(t,e){return Ys().memoizedState=[t,e===void 0?null:e],t},useContext:gs,useEffect:JT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,V0(4194308,4,VD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return V0(4194308,4,t,e)},useInsertionEffect:function(t,e){return V0(4,2,t,e)},useMemo:function(t,e){var n=Ys();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ys();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_5.bind(null,Cn,t),[r.memoizedState,t]},useRef:function(t){var e=Ys();return t={current:t},e.memoizedState=t},useState:$T,useDebugValue:Ew,useDeferredValue:function(t){return Ys().memoizedState=t},useTransition:function(){var t=$T(!1),e=t[0];return t=x5.bind(null,t[1]),Ys().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Cn,i=Ys();if(Sn){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=e(),hr===null)throw Error(Ce(349));Tc&30||FD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,JT(ND.bind(null,r,s,t),[t]),r.flags|=2048,gp(9,kD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ys(),e=hr.identifierPrefix;if(Sn){var n=ko,r=Fo;n=(r&~(1<<32-Ds(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},M5={readContext:gs,useCallback:jD,useContext:gs,useEffect:Cw,useImperativeHandle:WD,useInsertionEffect:HD,useLayoutEffect:GD,useMemo:XD,useReducer:K_,useRef:zD,useState:function(){return K_(mp)},useDebugValue:Ew,useDeferredValue:function(t){var e=vs();return $D(e,qn.memoizedState,t)},useTransition:function(){var t=K_(mp)[0],e=vs().memoizedState;return[t,e]},useMutableSource:LD,useSyncExternalStore:DD,useId:JD,unstable_isNewReconciler:!1},w5={readContext:gs,useCallback:jD,useContext:gs,useEffect:Cw,useImperativeHandle:WD,useInsertionEffect:HD,useLayoutEffect:GD,useMemo:XD,useReducer:Y_,useRef:zD,useState:function(){return Y_(mp)},useDebugValue:Ew,useDeferredValue:function(t){var e=vs();return qn===null?e.memoizedState=t:$D(e,qn.memoizedState,t)},useTransition:function(){var t=Y_(mp)[0],e=vs().memoizedState;return[t,e]},useMutableSource:LD,useSyncExternalStore:DD,useId:JD,unstable_isNewReconciler:!1};function kd(t,e){try{var n="",r=e;do n+=Qz(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function q_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b5=typeof WeakMap=="function"?WeakMap:Map;function QD(t,e,n){n=Ho(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ov||(Ov=!0,wA=r),pA(t,e)},n}function ZD(t,e,n){n=Ho(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pA(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pA(t,e),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function KT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U5.bind(null,t,e,n),e.then(t,t))}function YT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ho(-1,1),e.tag=2,$a(n,e,1))),n.lanes|=1),t)}var C5=ea.ReactCurrentOwner,pi=!1;function ei(t,e,n,r){e.child=t===null?BD(e,null,n,r):Dd(e,t.child,n,r)}function QT(t,e,n,r,i){n=n.render;var s=e.ref;return xd(e,i),r=ww(t,e,n,r,s,i),n=bw(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yo(t,e,i)):(Sn&&n&&fw(e),e.flags|=1,ei(t,e,r,i),e.child)}function ZT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Fw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,e3(t,e,s,r,i)):(t=$0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:lp,n(o,r)&&t.ref===e.ref)return Yo(t,e,i)}return e.flags|=1,t=Ya(s,r),t.ref=e.ref,t.return=e,e.child=t}function e3(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(lp(s,r)&&t.ref===e.ref)if(pi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pi=!0);else return e.lanes=t.lanes,Yo(t,e,i)}return mA(t,e,n,r,i)}function t3(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(ed,Bi),Bi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fn(ed,Bi),Bi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fn(ed,Bi),Bi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,fn(ed,Bi),Bi|=r;return ei(t,e,i,n),e.child}function n3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mA(t,e,n,r,i){var s=vi(n)?Cc:Vr.current;return s=Id(e,s),xd(e,i),n=ww(t,e,n,r,s,i),r=bw(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yo(t,e,i)):(Sn&&r&&fw(e),e.flags|=1,ei(t,e,n,i),e.child)}function eR(t,e,n,r,i){if(vi(n)){var s=!0;Tv(e)}else s=!1;if(xd(e,i),e.stateNode===null)W0(t,e),RD(e,n,r),hA(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gs(u):(u=vi(n)?Cc:Vr.current,u=Id(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&jT(e,o,r,u),Ia=!1;var p=e.memoizedState;o.state=p,Lv(e,r,o,i),l=e.memoizedState,a!==r||p!==l||gi.current||Ia?(typeof f=="function"&&(fA(e,n,f,r),l=e.memoizedState),(a=Ia||WT(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ED(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Es(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gs(l):(l=vi(n)?Cc:Vr.current,l=Id(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&jT(e,o,r,l),Ia=!1,p=e.memoizedState,o.state=p,Lv(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||gi.current||Ia?(typeof m=="function"&&(fA(e,n,m,r),y=e.memoizedState),(u=Ia||WT(e,n,u,r,p,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return gA(t,e,n,r,s,i)}function gA(t,e,n,r,i,s){n3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&UT(e,n,!1),Yo(t,e,s);r=e.stateNode,C5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dd(e,t.child,null,s),e.child=Dd(e,null,a,s)):ei(t,e,a,s),e.memoizedState=r.state,i&&UT(e,n,!0),e.child}function r3(t){var e=t.stateNode;e.pendingContext?OT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OT(t,e.context,!1),_w(t,e.containerInfo)}function tR(t,e,n,r,i){return Ld(),pw(i),e.flags|=256,ei(t,e,n,r),e.child}var vA={dehydrated:null,treeContext:null,retryLane:0};function yA(t){return{baseLanes:t,cachePool:null,transitions:null}}function i3(t,e,n){var r=e.pendingProps,i=Mn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fn(Mn,i&1),t===null)return uA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ay(o,r,0,null),t=gc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yA(n),e.memoizedState=vA,t):Tw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return E5(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ya(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ya(a,s):(s=gc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yA(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=vA,r}return s=t.child,t=s.sibling,r=Ya(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tw(t,e){return e=Ay({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wg(t,e,n,r){return r!==null&&pw(r),Dd(e,t.child,null,n),t=Tw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function E5(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=q_(Error(Ce(422))),wg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ay({mode:"visible",children:r.children},i,0,null),s=gc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Dd(e,t.child,null,o),e.child.memoizedState=yA(o),e.memoizedState=vA,s);if(!(e.mode&1))return wg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ce(419)),r=q_(s,r,void 0),wg(t,e,o,r)}if(a=(o&t.childLanes)!==0,pi||a){if(r=hr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ko(t,i),Fs(r,t,i,-1))}return Dw(),r=q_(Error(Ce(421))),wg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z5.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Li=Xa(i.nextSibling),ki=e,Sn=!0,Ps=null,t!==null&&(us[ds++]=Fo,us[ds++]=ko,us[ds++]=Ec,Fo=t.id,ko=t.overflow,Ec=e),e=Tw(e,r.children),e.flags|=4096,e)}function nR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dA(t.return,e,n)}function Q_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function s3(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ei(t,e,r.children,n),r=Mn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nR(t,n,e);else if(t.tag===19)nR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fn(Mn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Q_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Q_(e,!0,n,null,s);break;case"together":Q_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function W0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ce(153));if(e.child!==null){for(t=e.child,n=Ya(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ya(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T5(t,e,n){switch(e.tag){case 3:r3(e),Ld();break;case 5:ID(e);break;case 1:vi(e.type)&&Tv(e);break;case 4:_w(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fn(Bv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fn(Mn,Mn.current&1),e.flags|=128,null):n&e.child.childLanes?i3(t,e,n):(fn(Mn,Mn.current&1),t=Yo(t,e,n),t!==null?t.sibling:null);fn(Mn,Mn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fn(Mn,Mn.current),r)break;return null;case 22:case 23:return e.lanes=0,t3(t,e,n)}return Yo(t,e,n)}var o3,xA,a3,l3;o3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xA=function(){};a3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,oc(io.current);var s=null;switch(n){case"input":i=H1(t,i),r=H1(t,r),s=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),s=[];break;case"textarea":i=W1(t,i),r=W1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cv)}X1(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};l3=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wf(t,e){if(!Sn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function R5(t,e,n){var r=e.pendingProps;switch(hw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(e),null;case 1:return vi(e.type)&&Ev(),Lr(e),null;case 3:return r=e.stateNode,Fd(),vn(gi),vn(Vr),Aw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ag(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ps!==null&&(EA(Ps),Ps=null))),xA(t,e),Lr(e),null;case 5:Sw(e);var i=oc(hp.current);if(n=e.type,t!==null&&e.stateNode!=null)a3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ce(166));return Lr(e),null}if(t=oc(io.current),Ag(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[eo]=e,r[dp]=s,t=(e.mode&1)!==0,n){case"dialog":pn("cancel",r),pn("close",r);break;case"iframe":case"object":case"embed":pn("load",r);break;case"video":case"audio":for(i=0;i<Sh.length;i++)pn(Sh[i],r);break;case"source":pn("error",r);break;case"img":case"image":case"link":pn("error",r),pn("load",r);break;case"details":pn("toggle",r);break;case"input":dT(r,s),pn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pn("invalid",r);break;case"textarea":hT(r,s),pn("invalid",r)}X1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sg(r.textContent,a,t),i=["children",""+a]):tp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pn("scroll",r)}switch(n){case"input":hg(r),fT(r,s,!0);break;case"textarea":hg(r),pT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[eo]=e,t[dp]=r,o3(t,e,!1,!1),e.stateNode=t;e:{switch(o=$1(n,r),n){case"dialog":pn("cancel",t),pn("close",t),i=r;break;case"iframe":case"object":case"embed":pn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sh.length;i++)pn(Sh[i],t);i=r;break;case"source":pn("error",t),i=r;break;case"img":case"image":case"link":pn("error",t),pn("load",t),i=r;break;case"details":pn("toggle",t),i=r;break;case"input":dT(t,r),i=H1(t,r),pn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),pn("invalid",t);break;case"textarea":hT(t,r),i=W1(t,r),pn("invalid",t);break;default:i=r}X1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?OL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&np(t,l):typeof l=="number"&&np(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(tp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pn("scroll",t):l!=null&&QM(t,s,l,o))}switch(n){case"input":hg(t),fT(t,r,!1);break;case"textarea":hg(t),pT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+el(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?md(t,!!r.multiple,s,!1):r.defaultValue!=null&&md(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lr(e),null;case 6:if(t&&e.stateNode!=null)l3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ce(166));if(n=oc(hp.current),oc(io.current),Ag(e)){if(r=e.stateNode,n=e.memoizedProps,r[eo]=e,(s=r.nodeValue!==n)&&(t=ki,t!==null))switch(t.tag){case 3:Sg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sg(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[eo]=e,e.stateNode=r}return Lr(e),null;case 13:if(vn(Mn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Sn&&Li!==null&&e.mode&1&&!(e.flags&128))bD(),Ld(),e.flags|=98560,s=!1;else if(s=Ag(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ce(317));s[eo]=e}else Ld(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lr(e),s=!1}else Ps!==null&&(EA(Ps),Ps=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Mn.current&1?Zn===0&&(Zn=3):Dw())),e.updateQueue!==null&&(e.flags|=4),Lr(e),null);case 4:return Fd(),xA(t,e),t===null&&cp(e.stateNode.containerInfo),Lr(e),null;case 10:return vw(e.type._context),Lr(e),null;case 17:return vi(e.type)&&Ev(),Lr(e),null;case 19:if(vn(Mn),s=e.memoizedState,s===null)return Lr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Wf(s,!1);else{if(Zn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dv(t),o!==null){for(e.flags|=128,Wf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fn(Mn,Mn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Nn()>Nd&&(e.flags|=128,r=!0,Wf(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dv(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Sn)return Lr(e),null}else 2*Nn()-s.renderingStartTime>Nd&&n!==1073741824&&(e.flags|=128,r=!0,Wf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nn(),e.sibling=null,n=Mn.current,fn(Mn,r?n&1|2:n&1),e):(Lr(e),null);case 22:case 23:return Lw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bi&1073741824&&(Lr(e),e.subtreeFlags&6&&(e.flags|=8192)):Lr(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function P5(t,e){switch(hw(e),e.tag){case 1:return vi(e.type)&&Ev(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fd(),vn(gi),vn(Vr),Aw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sw(e),null;case 13:if(vn(Mn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));Ld()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vn(Mn),null;case 4:return Fd(),null;case 10:return vw(e.type._context),null;case 22:case 23:return Lw(),null;case 24:return null;default:return null}}var bg=!1,Ur=!1,B5=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Zu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(t,e,r)}else n.current=null}function _A(t,e,n){try{n()}catch(r){Pn(t,e,r)}}var rR=!1;function I5(t,e){if(rA=Mv,t=fD(),dw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++f===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iA={focusedElem:t,selectionRange:n},Mv=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,x=y.memoizedState,g=e.stateNode,A=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:Es(e.type,S),x);g.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(b){Pn(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return y=rR,rR=!1,y}function kh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_A(e,n,s)}i=i.next}while(i!==r)}}function _y(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function SA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c3(t){var e=t.alternate;e!==null&&(t.alternate=null,c3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[eo],delete e[dp],delete e[aA],delete e[p5],delete e[m5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u3(t){return t.tag===5||t.tag===3||t.tag===4}function iR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function AA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cv));else if(r!==4&&(t=t.child,t!==null))for(AA(t,e,n),t=t.sibling;t!==null;)AA(t,e,n),t=t.sibling}function MA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(MA(t,e,n),t=t.sibling;t!==null;)MA(t,e,n),t=t.sibling}var Sr=null,Rs=!1;function ma(t,e,n){for(n=n.child;n!==null;)d3(t,e,n),n=n.sibling}function d3(t,e,n){if(ro&&typeof ro.onCommitFiberUnmount=="function")try{ro.onCommitFiberUnmount(fy,n)}catch{}switch(n.tag){case 5:Ur||Zu(n,e);case 6:var r=Sr,i=Rs;Sr=null,ma(t,e,n),Sr=r,Rs=i,Sr!==null&&(Rs?(t=Sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sr.removeChild(n.stateNode));break;case 18:Sr!==null&&(Rs?(t=Sr,n=n.stateNode,t.nodeType===8?j_(t.parentNode,n):t.nodeType===1&&j_(t,n),op(t)):j_(Sr,n.stateNode));break;case 4:r=Sr,i=Rs,Sr=n.stateNode.containerInfo,Rs=!0,ma(t,e,n),Sr=r,Rs=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_A(n,e,o),i=i.next}while(i!==r)}ma(t,e,n);break;case 1:if(!Ur&&(Zu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pn(n,e,a)}ma(t,e,n);break;case 21:ma(t,e,n);break;case 22:n.mode&1?(Ur=(r=Ur)||n.memoizedState!==null,ma(t,e,n),Ur=r):ma(t,e,n);break;default:ma(t,e,n)}}function sR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new B5),e.forEach(function(r){var i=H5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ss(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Sr=a.stateNode,Rs=!1;break e;case 3:Sr=a.stateNode.containerInfo,Rs=!0;break e;case 4:Sr=a.stateNode.containerInfo,Rs=!0;break e}a=a.return}if(Sr===null)throw Error(Ce(160));d3(s,o,i),Sr=null,Rs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f3(e,t),e=e.sibling}function f3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ss(e,t),Js(t),r&4){try{kh(3,t,t.return),_y(3,t)}catch(S){Pn(t,t.return,S)}try{kh(5,t,t.return)}catch(S){Pn(t,t.return,S)}}break;case 1:Ss(e,t),Js(t),r&512&&n!==null&&Zu(n,n.return);break;case 5:if(Ss(e,t),Js(t),r&512&&n!==null&&Zu(n,n.return),t.flags&32){var i=t.stateNode;try{np(i,"")}catch(S){Pn(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&LL(i,s),$1(a,o);var u=$1(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?OL(i,h):f==="dangerouslySetInnerHTML"?kL(i,h):f==="children"?np(i,h):QM(i,f,h,u)}switch(a){case"input":G1(i,s);break;case"textarea":DL(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?md(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?md(i,!!s.multiple,s.defaultValue,!0):md(i,!!s.multiple,s.multiple?[]:"",!1))}i[dp]=s}catch(S){Pn(t,t.return,S)}}break;case 6:if(Ss(e,t),Js(t),r&4){if(t.stateNode===null)throw Error(Ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Pn(t,t.return,S)}}break;case 3:if(Ss(e,t),Js(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{op(e.containerInfo)}catch(S){Pn(t,t.return,S)}break;case 4:Ss(e,t),Js(t);break;case 13:Ss(e,t),Js(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bw=Nn())),r&4&&sR(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ur=(u=Ur)||f,Ss(e,t),Ur=u):Ss(e,t),Js(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Ge=t,f=t.child;f!==null;){for(h=Ge=f;Ge!==null;){switch(p=Ge,m=p.child,p.tag){case 0:case 11:case 14:case 15:kh(4,p,p.return);break;case 1:Zu(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(S){Pn(r,n,S)}}break;case 5:Zu(p,p.return);break;case 22:if(p.memoizedState!==null){aR(h);continue}}m!==null?(m.return=p,Ge=m):aR(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=NL("display",o))}catch(S){Pn(t,t.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){Pn(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ss(e,t),Js(t),r&4&&sR(t);break;case 21:break;default:Ss(e,t),Js(t)}}function Js(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u3(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(np(i,""),r.flags&=-33);var s=iR(t);MA(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=iR(t);AA(t,a,o);break;default:throw Error(Ce(161))}}catch(l){Pn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L5(t,e,n){Ge=t,h3(t)}function h3(t,e,n){for(var r=(t.mode&1)!==0;Ge!==null;){var i=Ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ur;a=bg;var u=Ur;if(bg=o,(Ur=l)&&!u)for(Ge=i;Ge!==null;)o=Ge,l=o.child,o.tag===22&&o.memoizedState!==null?lR(i):l!==null?(l.return=o,Ge=l):lR(i);for(;s!==null;)Ge=s,h3(s),s=s.sibling;Ge=i,bg=a,Ur=u}oR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ge=s):oR(t)}}function oR(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ur||_y(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ur)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Es(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&VT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}VT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&op(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Ur||e.flags&512&&SA(e)}catch(p){Pn(e,e.return,p)}}if(e===t){Ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function aR(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function lR(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_y(4,e)}catch(l){Pn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pn(e,i,l)}}var s=e.return;try{SA(e)}catch(l){Pn(e,s,l)}break;case 5:var o=e.return;try{SA(e)}catch(l){Pn(e,o,l)}}}catch(l){Pn(e,e.return,l)}if(e===t){Ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ge=a;break}Ge=e.return}}var D5=Math.ceil,Nv=ea.ReactCurrentDispatcher,Rw=ea.ReactCurrentOwner,ms=ea.ReactCurrentBatchConfig,Wt=0,hr=null,Xn=null,wr=0,Bi=0,ed=dl(0),Zn=0,vp=null,Rc=0,Sy=0,Pw=0,Nh=null,fi=null,Bw=0,Nd=1/0,Ro=null,Ov=!1,wA=null,Ja=null,Cg=!1,Ha=null,Uv=0,Oh=0,bA=null,j0=-1,X0=0;function ri(){return Wt&6?Nn():j0!==-1?j0:j0=Nn()}function Ka(t){return t.mode&1?Wt&2&&wr!==0?wr&-wr:v5.transition!==null?(X0===0&&(X0=YL()),X0):(t=on,t!==0||(t=window.event,t=t===void 0?16:rD(t.type)),t):1}function Fs(t,e,n,r){if(50<Oh)throw Oh=0,bA=null,Error(Ce(185));Jp(t,n,r),(!(Wt&2)||t!==hr)&&(t===hr&&(!(Wt&2)&&(Sy|=n),Zn===4&&Na(t,wr)),yi(t,r),n===1&&Wt===0&&!(e.mode&1)&&(Nd=Nn()+500,vy&&fl()))}function yi(t,e){var n=t.callbackNode;v4(t,e);var r=Av(t,t===hr?wr:0);if(r===0)n!==null&&vT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vT(n),e===1)t.tag===0?g5(cR.bind(null,t)):AD(cR.bind(null,t)),f5(function(){!(Wt&6)&&fl()}),n=null;else{switch(qL(r)){case 1:n=rw;break;case 4:n=JL;break;case 16:n=Sv;break;case 536870912:n=KL;break;default:n=Sv}n=S3(n,p3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function p3(t,e){if(j0=-1,X0=0,Wt&6)throw Error(Ce(327));var n=t.callbackNode;if(_d()&&t.callbackNode!==n)return null;var r=Av(t,t===hr?wr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zv(t,r);else{e=r;var i=Wt;Wt|=2;var s=g3();(hr!==t||wr!==e)&&(Ro=null,Nd=Nn()+500,mc(t,e));do try{N5();break}catch(a){m3(t,a)}while(!0);gw(),Nv.current=s,Wt=i,Xn!==null?e=0:(hr=null,wr=0,e=Zn)}if(e!==0){if(e===2&&(i=Q1(t),i!==0&&(r=i,e=CA(t,i))),e===1)throw n=vp,mc(t,0),Na(t,r),yi(t,Nn()),n;if(e===6)Na(t,r);else{if(i=t.current.alternate,!(r&30)&&!F5(i)&&(e=zv(t,r),e===2&&(s=Q1(t),s!==0&&(r=s,e=CA(t,s))),e===1))throw n=vp,mc(t,0),Na(t,r),yi(t,Nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ce(345));case 2:Jl(t,fi,Ro);break;case 3:if(Na(t,r),(r&130023424)===r&&(e=Bw+500-Nn(),10<e)){if(Av(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ri(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oA(Jl.bind(null,t,fi,Ro),e);break}Jl(t,fi,Ro);break;case 4:if(Na(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ds(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D5(r/1960))-r,10<r){t.timeoutHandle=oA(Jl.bind(null,t,fi,Ro),r);break}Jl(t,fi,Ro);break;case 5:Jl(t,fi,Ro);break;default:throw Error(Ce(329))}}}return yi(t,Nn()),t.callbackNode===n?p3.bind(null,t):null}function CA(t,e){var n=Nh;return t.current.memoizedState.isDehydrated&&(mc(t,e).flags|=256),t=zv(t,e),t!==2&&(e=fi,fi=n,e!==null&&EA(e)),t}function EA(t){fi===null?fi=t:fi.push.apply(fi,t)}function F5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ns(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Na(t,e){for(e&=~Pw,e&=~Sy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ds(e),r=1<<n;t[n]=-1,e&=~r}}function cR(t){if(Wt&6)throw Error(Ce(327));_d();var e=Av(t,0);if(!(e&1))return yi(t,Nn()),null;var n=zv(t,e);if(t.tag!==0&&n===2){var r=Q1(t);r!==0&&(e=r,n=CA(t,r))}if(n===1)throw n=vp,mc(t,0),Na(t,e),yi(t,Nn()),n;if(n===6)throw Error(Ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jl(t,fi,Ro),yi(t,Nn()),null}function Iw(t,e){var n=Wt;Wt|=1;try{return t(e)}finally{Wt=n,Wt===0&&(Nd=Nn()+500,vy&&fl())}}function Pc(t){Ha!==null&&Ha.tag===0&&!(Wt&6)&&_d();var e=Wt;Wt|=1;var n=ms.transition,r=on;try{if(ms.transition=null,on=1,t)return t()}finally{on=r,ms.transition=n,Wt=e,!(Wt&6)&&fl()}}function Lw(){Bi=ed.current,vn(ed)}function mc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,d5(n)),Xn!==null)for(n=Xn.return;n!==null;){var r=n;switch(hw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ev();break;case 3:Fd(),vn(gi),vn(Vr),Aw();break;case 5:Sw(r);break;case 4:Fd();break;case 13:vn(Mn);break;case 19:vn(Mn);break;case 10:vw(r.type._context);break;case 22:case 23:Lw()}n=n.return}if(hr=t,Xn=t=Ya(t.current,null),wr=Bi=e,Zn=0,vp=null,Pw=Sy=Rc=0,fi=Nh=null,sc!==null){for(e=0;e<sc.length;e++)if(n=sc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}sc=null}return t}function m3(t,e){do{var n=Xn;try{if(gw(),G0.current=kv,Fv){for(var r=Cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fv=!1}if(Tc=0,fr=qn=Cn=null,Fh=!1,pp=0,Rw.current=null,n===null||n.return===null){Zn=1,vp=e,Xn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=wr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=YT(o);if(m!==null){m.flags&=-257,qT(m,o,a,s,e),m.mode&1&&KT(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var S=new Set;S.add(l),e.updateQueue=S}else y.add(l);break e}else{if(!(e&1)){KT(s,u,e),Dw();break e}l=Error(Ce(426))}}else if(Sn&&a.mode&1){var x=YT(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),qT(x,o,a,s,e),pw(kd(l,a));break e}}s=l=kd(l,a),Zn!==4&&(Zn=2),Nh===null?Nh=[s]:Nh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=QD(s,l,e);GT(s,g);break e;case 1:a=l;var A=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ja===null||!Ja.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=ZD(s,a,e);GT(s,b);break e}}s=s.return}while(s!==null)}y3(n)}catch(B){e=B,Xn===n&&n!==null&&(Xn=n=n.return);continue}break}while(!0)}function g3(){var t=Nv.current;return Nv.current=kv,t===null?kv:t}function Dw(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),hr===null||!(Rc&268435455)&&!(Sy&268435455)||Na(hr,wr)}function zv(t,e){var n=Wt;Wt|=2;var r=g3();(hr!==t||wr!==e)&&(Ro=null,mc(t,e));do try{k5();break}catch(i){m3(t,i)}while(!0);if(gw(),Wt=n,Nv.current=r,Xn!==null)throw Error(Ce(261));return hr=null,wr=0,Zn}function k5(){for(;Xn!==null;)v3(Xn)}function N5(){for(;Xn!==null&&!l4();)v3(Xn)}function v3(t){var e=_3(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,e===null?y3(t):Xn=e,Rw.current=null}function y3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=P5(n,e),n!==null){n.flags&=32767,Xn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zn=6,Xn=null;return}}else if(n=R5(n,e,Bi),n!==null){Xn=n;return}if(e=e.sibling,e!==null){Xn=e;return}Xn=e=t}while(e!==null);Zn===0&&(Zn=5)}function Jl(t,e,n){var r=on,i=ms.transition;try{ms.transition=null,on=1,O5(t,e,n,r)}finally{ms.transition=i,on=r}return null}function O5(t,e,n,r){do _d();while(Ha!==null);if(Wt&6)throw Error(Ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ce(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(y4(t,s),t===hr&&(Xn=hr=null,wr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cg||(Cg=!0,S3(Sv,function(){return _d(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ms.transition,ms.transition=null;var o=on;on=1;var a=Wt;Wt|=4,Rw.current=null,I5(t,n),f3(n,t),i5(iA),Mv=!!rA,iA=rA=null,t.current=n,L5(n),c4(),Wt=a,on=o,ms.transition=s}else t.current=n;if(Cg&&(Cg=!1,Ha=t,Uv=i),s=t.pendingLanes,s===0&&(Ja=null),f4(n.stateNode),yi(t,Nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ov)throw Ov=!1,t=wA,wA=null,t;return Uv&1&&t.tag!==0&&_d(),s=t.pendingLanes,s&1?t===bA?Oh++:(Oh=0,bA=t):Oh=0,fl(),null}function _d(){if(Ha!==null){var t=qL(Uv),e=ms.transition,n=on;try{if(ms.transition=null,on=16>t?16:t,Ha===null)var r=!1;else{if(t=Ha,Ha=null,Uv=0,Wt&6)throw Error(Ce(331));var i=Wt;for(Wt|=4,Ge=t.current;Ge!==null;){var s=Ge,o=s.child;if(Ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ge=u;Ge!==null;){var f=Ge;switch(f.tag){case 0:case 11:case 15:kh(8,f,s)}var h=f.child;if(h!==null)h.return=f,Ge=h;else for(;Ge!==null;){f=Ge;var p=f.sibling,m=f.return;if(c3(f),f===u){Ge=null;break}if(p!==null){p.return=m,Ge=p;break}Ge=m}}}var y=s.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var x=S.sibling;S.sibling=null,S=x}while(S!==null)}}Ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kh(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ge=g;break e}Ge=s.return}}var A=t.current;for(Ge=A;Ge!==null;){o=Ge;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ge=_;else e:for(o=A;Ge!==null;){if(a=Ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_y(9,a)}}catch(B){Pn(a,a.return,B)}if(a===o){Ge=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Ge=b;break e}Ge=a.return}}if(Wt=i,fl(),ro&&typeof ro.onPostCommitFiberRoot=="function")try{ro.onPostCommitFiberRoot(fy,t)}catch{}r=!0}return r}finally{on=n,ms.transition=e}}return!1}function uR(t,e,n){e=kd(n,e),e=QD(t,e,1),t=$a(t,e,1),e=ri(),t!==null&&(Jp(t,1,e),yi(t,e))}function Pn(t,e,n){if(t.tag===3)uR(t,t,n);else for(;e!==null;){if(e.tag===3){uR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ja===null||!Ja.has(r))){t=kd(n,t),t=ZD(e,t,1),e=$a(e,t,1),t=ri(),e!==null&&(Jp(e,1,t),yi(e,t));break}}e=e.return}}function U5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ri(),t.pingedLanes|=t.suspendedLanes&n,hr===t&&(wr&n)===n&&(Zn===4||Zn===3&&(wr&130023424)===wr&&500>Nn()-Bw?mc(t,0):Pw|=n),yi(t,e)}function x3(t,e){e===0&&(t.mode&1?(e=gg,gg<<=1,!(gg&130023424)&&(gg=4194304)):e=1);var n=ri();t=Ko(t,e),t!==null&&(Jp(t,e,n),yi(t,n))}function z5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),x3(t,n)}function H5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(e),x3(t,n)}var _3;_3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gi.current)pi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pi=!1,T5(t,e,n);pi=!!(t.flags&131072)}else pi=!1,Sn&&e.flags&1048576&&MD(e,Pv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;W0(t,e),t=e.pendingProps;var i=Id(e,Vr.current);xd(e,n),i=ww(null,e,r,t,i,n);var s=bw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(s=!0,Tv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xw(e),i.updater=yy,e.stateNode=i,i._reactInternals=e,hA(e,r,t,n),e=gA(null,e,r,!0,s,n)):(e.tag=0,Sn&&s&&fw(e),ei(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(W0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=V5(r),t=Es(r,t),i){case 0:e=mA(null,e,r,t,n);break e;case 1:e=eR(null,e,r,t,n);break e;case 11:e=QT(null,e,r,t,n);break e;case 14:e=ZT(null,e,r,Es(r.type,t),n);break e}throw Error(Ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),mA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),eR(t,e,r,i,n);case 3:e:{if(r3(e),t===null)throw Error(Ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ED(t,e),Lv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=kd(Error(Ce(423)),e),e=tR(t,e,r,n,i);break e}else if(r!==i){i=kd(Error(Ce(424)),e),e=tR(t,e,r,n,i);break e}else for(Li=Xa(e.stateNode.containerInfo.firstChild),ki=e,Sn=!0,Ps=null,n=BD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ld(),r===i){e=Yo(t,e,n);break e}ei(t,e,r,n)}e=e.child}return e;case 5:return ID(e),t===null&&uA(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sA(r,i)?o=null:s!==null&&sA(r,s)&&(e.flags|=32),n3(t,e),ei(t,e,o,n),e.child;case 6:return t===null&&uA(e),null;case 13:return i3(t,e,n);case 4:return _w(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dd(e,null,r,n):ei(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),QT(t,e,r,i,n);case 7:return ei(t,e,e.pendingProps,n),e.child;case 8:return ei(t,e,e.pendingProps.children,n),e.child;case 12:return ei(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fn(Bv,r._currentValue),r._currentValue=o,s!==null)if(Ns(s.value,o)){if(s.children===i.children&&!gi.current){e=Yo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ho(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),dA(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ce(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dA(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ei(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xd(e,n),i=gs(i),r=r(i),e.flags|=1,ei(t,e,r,n),e.child;case 14:return r=e.type,i=Es(r,e.pendingProps),i=Es(r.type,i),ZT(t,e,r,i,n);case 15:return e3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),W0(t,e),e.tag=1,vi(r)?(t=!0,Tv(e)):t=!1,xd(e,n),RD(e,r,i),hA(e,r,i,n),gA(null,e,r,!0,t,n);case 19:return s3(t,e,n);case 22:return t3(t,e,n)}throw Error(Ce(156,e.tag))};function S3(t,e){return $L(t,e)}function G5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(t,e,n,r){return new G5(t,e,n,r)}function Fw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V5(t){if(typeof t=="function")return Fw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ew)return 11;if(t===tw)return 14}return 2}function Ya(t,e){var n=t.alternate;return n===null?(n=fs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $0(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Fw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wu:return gc(n.children,i,s,e);case ZM:o=8,i|=8;break;case N1:return t=fs(12,n,e,i|2),t.elementType=N1,t.lanes=s,t;case O1:return t=fs(13,n,e,i),t.elementType=O1,t.lanes=s,t;case U1:return t=fs(19,n,e,i),t.elementType=U1,t.lanes=s,t;case PL:return Ay(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TL:o=10;break e;case RL:o=9;break e;case ew:o=11;break e;case tw:o=14;break e;case Ba:o=16,r=null;break e}throw Error(Ce(130,t==null?t:typeof t,""))}return e=fs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gc(t,e,n,r){return t=fs(7,t,r,e),t.lanes=n,t}function Ay(t,e,n,r){return t=fs(22,t,r,e),t.elementType=PL,t.lanes=n,t.stateNode={isHidden:!1},t}function Z_(t,e,n){return t=fs(6,t,null,e),t.lanes=n,t}function eS(t,e,n){return e=fs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D_(0),this.expirationTimes=D_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kw(t,e,n,r,i,s,o,a,l){return t=new W5(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xw(s),t}function j5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function A3(t){if(!t)return tl;t=t._reactInternals;e:{if(Fc(t)!==t||t.tag!==1)throw Error(Ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(t.tag===1){var n=t.type;if(vi(n))return SD(t,n,e)}return e}function M3(t,e,n,r,i,s,o,a,l){return t=kw(n,r,!0,t,i,s,o,a,l),t.context=A3(null),n=t.current,r=ri(),i=Ka(n),s=Ho(r,i),s.callback=e??null,$a(n,s,i),t.current.lanes=i,Jp(t,i,r),yi(t,r),t}function My(t,e,n,r){var i=e.current,s=ri(),o=Ka(i);return n=A3(n),e.context===null?e.context=n:e.pendingContext=n,e=Ho(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$a(i,e,o),t!==null&&(Fs(t,i,o,s),H0(t,i,o)),o}function Hv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nw(t,e){dR(t,e),(t=t.alternate)&&dR(t,e)}function X5(){return null}var w3=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ow(t){this._internalRoot=t}wy.prototype.render=Ow.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ce(409));My(t,e,null,null)};wy.prototype.unmount=Ow.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pc(function(){My(null,t,null,null)}),e[Jo]=null}};function wy(t){this._internalRoot=t}wy.prototype.unstable_scheduleHydration=function(t){if(t){var e=eD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ka.length&&e!==0&&e<ka[n].priority;n++);ka.splice(n,0,t),n===0&&nD(t)}};function Uw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function by(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fR(){}function $5(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Hv(o);s.call(u)}}var o=M3(e,r,t,0,null,!1,!1,"",fR);return t._reactRootContainer=o,t[Jo]=o.current,cp(t.nodeType===8?t.parentNode:t),Pc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Hv(l);a.call(u)}}var l=kw(t,0,!1,null,null,!1,!1,"",fR);return t._reactRootContainer=l,t[Jo]=l.current,cp(t.nodeType===8?t.parentNode:t),Pc(function(){My(e,l,n,r)}),l}function Cy(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Hv(o);a.call(l)}}My(e,o,t,i)}else o=$5(n,e,t,i,r);return Hv(o)}QL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_h(e.pendingLanes);n!==0&&(iw(e,n|1),yi(e,Nn()),!(Wt&6)&&(Nd=Nn()+500,fl()))}break;case 13:Pc(function(){var r=Ko(t,1);if(r!==null){var i=ri();Fs(r,t,1,i)}}),Nw(t,1)}};sw=function(t){if(t.tag===13){var e=Ko(t,134217728);if(e!==null){var n=ri();Fs(e,t,134217728,n)}Nw(t,134217728)}};ZL=function(t){if(t.tag===13){var e=Ka(t),n=Ko(t,e);if(n!==null){var r=ri();Fs(n,t,e,r)}Nw(t,e)}};eD=function(){return on};tD=function(t,e){var n=on;try{return on=t,e()}finally{on=n}};K1=function(t,e,n){switch(e){case"input":if(G1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gy(r);if(!i)throw Error(Ce(90));IL(r),G1(r,i)}}}break;case"textarea":DL(t,n);break;case"select":e=n.value,e!=null&&md(t,!!n.multiple,e,!1)}};HL=Iw;GL=Pc;var J5={usingClientEntryPoint:!1,Events:[Yp,Ju,gy,UL,zL,Iw]},jf={findFiberByHostInstance:ic,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},K5={bundleType:jf.bundleType,version:jf.version,rendererPackageName:jf.rendererPackageName,rendererConfig:jf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jL(t),t===null?null:t.stateNode},findFiberByHostInstance:jf.findFiberByHostInstance||X5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eg.isDisabled&&Eg.supportsFiber)try{fy=Eg.inject(K5),ro=Eg}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J5;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uw(e))throw Error(Ce(200));return j5(t,e,null,n)};Vi.createRoot=function(t,e){if(!Uw(t))throw Error(Ce(299));var n=!1,r="",i=w3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kw(t,1,!1,null,null,n,!1,r,i),t[Jo]=e.current,cp(t.nodeType===8?t.parentNode:t),new Ow(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ce(188)):(t=Object.keys(t).join(","),Error(Ce(268,t)));return t=jL(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return Pc(t)};Vi.hydrate=function(t,e,n){if(!by(e))throw Error(Ce(200));return Cy(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!Uw(t))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=w3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=M3(e,null,t,1,n??null,i,!1,s,o),t[Jo]=e.current,cp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wy(e)};Vi.render=function(t,e,n){if(!by(e))throw Error(Ce(200));return Cy(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!by(t))throw Error(Ce(40));return t._reactRootContainer?(Pc(function(){Cy(null,null,t,!1,function(){t._reactRootContainer=null,t[Jo]=null})}),!0):!1};Vi.unstable_batchedUpdates=Iw;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!by(n))throw Error(Ce(200));if(t==null||t._reactInternals===void 0)throw Error(Ce(38));return Cy(t,e,n,!1,r)};Vi.version="18.2.0-next-9e3b772b8-20220608";function b3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b3)}catch(t){console.error(t)}}b3(),ML.exports=Vi;var zw=ML.exports,C3,hR=zw;C3=F1.createRoot=hR.createRoot,F1.hydrateRoot=hR.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Qp="163",Y5={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},q5={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},E3=0,TA=1,T3=2,Q5=3,R3=0,Ey=1,Uh=2,Ts=3,ho=0,ii=1,Is=2,Go=0,vc=1,RA=2,PA=3,BA=4,P3=5,Oa=100,B3=101,I3=102,L3=103,D3=104,F3=200,k3=201,N3=202,O3=203,Gv=204,Vv=205,U3=206,z3=207,H3=208,G3=209,V3=210,W3=211,j3=212,X3=213,$3=214,J3=0,K3=1,Y3=2,yp=3,q3=4,Q3=5,Z3=6,eF=7,Zp=0,tF=1,nF=2,so=0,rF=1,iF=2,sF=3,Hw=4,oF=5,aF=6,lF=7,IA="attached",cF="detached",Ty=300,qo=301,nl=302,xp=303,_p=304,tf=306,rl=1e3,Di=1001,Od=1002,er=1003,Ry=1004,Z5=1004,ac=1005,eH=1005,In=1006,Sd=1007,tH=1007,hs=1008,nH=1008,oo=1009,uF=1010,dF=1011,Gw=1012,Vw=1013,Bc=1014,ps=1015,Sp=1016,Ww=1017,jw=1018,nf=1020,fF=35902,hF=1021,pF=1022,mi=1023,mF=1024,gF=1025,yc=1026,Ud=1027,Xw=1028,$w=1029,vF=1030,Jw=1031,Kw=1033,J0=33776,K0=33777,Y0=33778,q0=33779,LA=35840,DA=35841,FA=35842,kA=35843,Yw=36196,NA=37492,OA=37496,UA=37808,zA=37809,HA=37810,GA=37811,VA=37812,WA=37813,jA=37814,XA=37815,$A=37816,JA=37817,KA=37818,YA=37819,qA=37820,QA=37821,Q0=36492,ZA=36494,eM=36495,yF=36283,tM=36284,nM=36285,rM=36286,xF=2200,_F=2201,SF=2202,zd=2300,Ic=2301,Z0=2302,lc=2400,cc=2401,Ap=2402,Py=2500,qw=2501,AF=0,Qw=1,Wv=2,MF=3200,wF=3201,hl=0,bF=1,Bo="",cs="srgb",ta="srgb-linear",By="display-p3",em="display-p3-linear",Mp="linear",dn="srgb",wp="rec709",bp="p3",rH=0,Kl=7680,iH=7681,sH=7682,oH=7683,aH=34055,lH=34056,cH=5386,uH=512,dH=513,fH=514,hH=515,pH=516,mH=517,gH=518,iM=519,CF=512,EF=513,TF=514,Zw=515,RF=516,PF=517,BF=518,IF=519,Cp=35044,vH=35048,yH=35040,xH=35045,_H=35049,SH=35041,AH=35046,MH=35050,wH=35042,bH="100",sM="300 es",to=2e3,Ep=2001;class na{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Dr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let pR=1234567;const xc=Math.PI/180,Hd=180/Math.PI;function Ni(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Dr[t&255]+Dr[t>>8&255]+Dr[t>>16&255]+Dr[t>>24&255]+"-"+Dr[e&255]+Dr[e>>8&255]+"-"+Dr[e>>16&15|64]+Dr[e>>24&255]+"-"+Dr[n&63|128]+Dr[n>>8&255]+"-"+Dr[n>>16&255]+Dr[n>>24&255]+Dr[r&255]+Dr[r>>8&255]+Dr[r>>16&255]+Dr[r>>24&255]).toLowerCase()}function Bn(t,e,n){return Math.max(e,Math.min(n,t))}function eb(t,e){return(t%e+e)%e}function CH(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function EH(t,e,n){return t!==e?(n-t)/(e-t):0}function zh(t,e,n){return(1-n)*t+n*e}function TH(t,e,n,r){return zh(t,e,1-Math.exp(-n*r))}function RH(t,e=1){return e-Math.abs(eb(t,e*2)-e)}function PH(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function BH(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function IH(t,e){return t+Math.floor(Math.random()*(e-t+1))}function LH(t,e){return t+Math.random()*(e-t)}function DH(t){return t*(.5-Math.random())}function FH(t){t!==void 0&&(pR=t);let e=pR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function kH(t){return t*xc}function NH(t){return t*Hd}function OH(t){return(t&t-1)===0&&t!==0}function UH(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function zH(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function HH(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),f=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(a*f,l*h,l*p,a*u);break;case"YZY":t.set(l*p,a*f,l*h,a*u);break;case"ZXZ":t.set(l*h,l*p,a*f,a*u);break;case"XZX":t.set(a*f,l*y,l*m,a*u);break;case"YXY":t.set(l*m,a*f,l*y,a*u);break;case"ZYZ":t.set(l*y,l*m,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ti(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function St(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const LF={DEG2RAD:xc,RAD2DEG:Hd,generateUUID:Ni,clamp:Bn,euclideanModulo:eb,mapLinear:CH,inverseLerp:EH,lerp:zh,damp:TH,pingpong:RH,smoothstep:PH,smootherstep:BH,randInt:IH,randFloat:LH,randFloatSpread:DH,seededRandom:FH,degToRad:kH,radToDeg:NH,isPowerOfTwo:OH,ceilPowerOfTwo:UH,floorPowerOfTwo:zH,setQuaternionFromProperEuler:HH,normalize:St,denormalize:ti};class ve{constructor(e=0,n=0){ve.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _t{constructor(e,n,r,i,s,o,a,l,u){_t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=n,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],f=r[4],h=r[7],p=r[2],m=r[5],y=r[8],S=i[0],x=i[3],g=i[6],A=i[1],_=i[4],b=i[7],B=i[2],T=i[5],R=i[8];return s[0]=o*S+a*A+l*B,s[3]=o*x+a*_+l*T,s[6]=o*g+a*b+l*R,s[1]=u*S+f*A+h*B,s[4]=u*x+f*_+h*T,s[7]=u*g+f*b+h*R,s[2]=p*S+m*A+y*B,s[5]=p*x+m*_+y*T,s[8]=p*g+m*b+y*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return n*o*f-n*a*u-r*s*f+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],h=f*o-a*u,p=a*l-f*s,m=u*s-o*l,y=n*h+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/y;return e[0]=h*S,e[1]=(i*u-f*r)*S,e[2]=(a*r-i*o)*S,e[3]=p*S,e[4]=(f*n-i*l)*S,e[5]=(i*s-a*n)*S,e[6]=m*S,e[7]=(r*l-u*n)*S,e[8]=(o*n-r*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(tS.makeScale(e,n)),this}rotate(e){return this.premultiply(tS.makeRotation(-e)),this}translate(e,n){return this.premultiply(tS.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const tS=new _t;function DF(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const GH={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function td(t,e){return new GH[t](e)}function Tp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function FF(){const t=Tp("canvas");return t.style.display="block",t}const mR={};function kF(t){t in mR||(mR[t]=!0,console.warn(t))}const gR=new _t().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),vR=new _t().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Tg={[ta]:{transfer:Mp,primaries:wp,toReference:t=>t,fromReference:t=>t},[cs]:{transfer:dn,primaries:wp,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[em]:{transfer:Mp,primaries:bp,toReference:t=>t.applyMatrix3(vR),fromReference:t=>t.applyMatrix3(gR)},[By]:{transfer:dn,primaries:bp,toReference:t=>t.convertSRGBToLinear().applyMatrix3(vR),fromReference:t=>t.applyMatrix3(gR).convertLinearToSRGB()}},VH=new Set([ta,em]),sn={enabled:!0,_workingColorSpace:ta,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!VH.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Tg[e].toReference,i=Tg[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Tg[t].primaries},getTransfer:function(t){return t===Bo?Mp:Tg[t].transfer}};function Ad(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function nS(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let uu;class NF{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{uu===void 0&&(uu=Tp("canvas")),uu.width=e.width,uu.height=e.height;const r=uu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=uu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Tp("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Ad(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ad(n[r]/255)*255):n[r]=Ad(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let WH=0;class uc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:WH++}),this.uuid=Ni(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(rS(i[o].image)):s.push(rS(i[o]))}else s=rS(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function rS(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?NF.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let jH=0;class yn extends na{constructor(e=yn.DEFAULT_IMAGE,n=yn.DEFAULT_MAPPING,r=Di,i=Di,s=In,o=hs,a=mi,l=oo,u=yn.DEFAULT_ANISOTROPY,f=Bo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:jH++}),this.uuid=Ni(),this.name="",this.source=new uc(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ve(0,0),this.repeat=new ve(1,1),this.center=new ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _t,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ty)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case rl:e.x=e.x-Math.floor(e.x);break;case Di:e.x=e.x<0?0:1;break;case Od:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case rl:e.y=e.y-Math.floor(e.y);break;case Di:e.y=e.y<0?0:1;break;case Od:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}yn.DEFAULT_IMAGE=null;yn.DEFAULT_MAPPING=Ty;yn.DEFAULT_ANISOTROPY=1;class Vt{constructor(e=0,n=0,r=0,i=1){Vt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],f=l[4],h=l[8],p=l[1],m=l[5],y=l[9],S=l[2],x=l[6],g=l[10];if(Math.abs(f-p)<.01&&Math.abs(h-S)<.01&&Math.abs(y-x)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+S)<.1&&Math.abs(y+x)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,b=(m+1)/2,B=(g+1)/2,T=(f+p)/4,R=(h+S)/4,L=(y+x)/4;return _>b&&_>B?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=T/r,s=R/r):b>B?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=T/i,s=L/i):B<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(B),r=R/s,i=L/s),this.set(r,i,s,n),this}let A=Math.sqrt((x-y)*(x-y)+(h-S)*(h-S)+(p-f)*(p-f));return Math.abs(A)<.001&&(A=1),this.x=(x-y)/A,this.y=(h-S)/A,this.z=(p-f)/A,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class OF extends na{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Vt(0,0,e,n),this.scissorTest=!1,this.viewport=new Vt(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:In,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},r);const s=new yn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new uc(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Os extends OF{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Iy extends yn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=er,this.minFilter=er,this.wrapR=Di,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class XH extends Os{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Iy(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class tb extends yn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=er,this.minFilter=er,this.wrapR=Di,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $H extends Os{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new tb(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class zn{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],f=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],y=s[o+2],S=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=f,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=y,e[n+3]=S;return}if(h!==S||l!==p||u!==m||f!==y){let x=1-a;const g=l*p+u*m+f*y+h*S,A=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const B=Math.sqrt(_),T=Math.atan2(B,g*A);x=Math.sin(x*T)/B,a=Math.sin(a*T)/B}const b=a*A;if(l=l*x+p*b,u=u*x+m*b,f=f*x+y*b,h=h*x+S*b,x===1-a){const B=1/Math.sqrt(l*l+u*u+f*f+h*h);l*=B,u*=B,f*=B,h*=B}}e[n]=l,e[n+1]=u,e[n+2]=f,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],f=r[i+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[n]=a*y+f*h+l*m-u*p,e[n+1]=l*y+f*p+u*h-a*m,e[n+2]=u*y+f*m+a*p-l*h,e[n+3]=f*y-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),f=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*f*h+u*m*y,this._y=u*m*h-p*f*y,this._z=u*f*y+p*m*h,this._w=u*f*h-p*m*y;break;case"YXZ":this._x=p*f*h+u*m*y,this._y=u*m*h-p*f*y,this._z=u*f*y-p*m*h,this._w=u*f*h+p*m*y;break;case"ZXY":this._x=p*f*h-u*m*y,this._y=u*m*h+p*f*y,this._z=u*f*y+p*m*h,this._w=u*f*h-p*m*y;break;case"ZYX":this._x=p*f*h-u*m*y,this._y=u*m*h+p*f*y,this._z=u*f*y-p*m*h,this._w=u*f*h+p*m*y;break;case"YZX":this._x=p*f*h+u*m*y,this._y=u*m*h+p*f*y,this._z=u*f*y-p*m*h,this._w=u*f*h-p*m*y;break;case"XZY":this._x=p*f*h-u*m*y,this._y=u*m*h-p*f*y,this._z=u*f*y+p*m*h,this._w=u*f*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],f=n[6],h=n[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(f-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Bn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,f=n._w;return this._x=r*f+o*a+i*u-s*l,this._y=i*f+o*l+s*a-r*u,this._z=s*f+o*u+r*l-i*a,this._w=o*f-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),h=Math.sin((1-n)*f)/u,p=Math.sin(n*f)/u;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,n=0,r=0){N.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(yR.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(yR.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*r),f=2*(a*n-s*i),h=2*(s*r-o*n);return this.x=n+l*u+o*h-a*f,this.y=r+l*f+a*u-s*h,this.z=i+l*h+s*f-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return iS.copy(this).projectOnVector(e),this.sub(iS)}reflect(e){return this.sub(iS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const iS=new N,yR=new zn;class Hr{constructor(e=new N(1/0,1/0,1/0),n=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(As.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(As.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=As.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,As):As.fromBufferAttribute(s,o),As.applyMatrix4(e.matrixWorld),this.expandByPoint(As);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Rg.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Rg.copy(r.boundingBox)),Rg.applyMatrix4(e.matrixWorld),this.union(Rg)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,As),As.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xf),Pg.subVectors(this.max,Xf),du.subVectors(e.a,Xf),fu.subVectors(e.b,Xf),hu.subVectors(e.c,Xf),ga.subVectors(fu,du),va.subVectors(hu,fu),Il.subVectors(du,hu);let n=[0,-ga.z,ga.y,0,-va.z,va.y,0,-Il.z,Il.y,ga.z,0,-ga.x,va.z,0,-va.x,Il.z,0,-Il.x,-ga.y,ga.x,0,-va.y,va.x,0,-Il.y,Il.x,0];return!sS(n,du,fu,hu,Pg)||(n=[1,0,0,0,1,0,0,0,1],!sS(n,du,fu,hu,Pg))?!1:(Bg.crossVectors(ga,va),n=[Bg.x,Bg.y,Bg.z],sS(n,du,fu,hu,Pg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,As).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(As).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(So[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),So[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),So[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),So[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),So[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),So[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),So[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),So[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(So),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const So=[new N,new N,new N,new N,new N,new N,new N,new N],As=new N,Rg=new Hr,du=new N,fu=new N,hu=new N,ga=new N,va=new N,Il=new N,Xf=new N,Pg=new N,Bg=new N,Ll=new N;function sS(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Ll.fromArray(t,s);const a=i.x*Math.abs(Ll.x)+i.y*Math.abs(Ll.y)+i.z*Math.abs(Ll.z),l=e.dot(Ll),u=n.dot(Ll),f=r.dot(Ll);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const JH=new Hr,$f=new N,oS=new N;class br{constructor(e=new N,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):JH.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;$f.subVectors(e,this.center);const n=$f.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector($f,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(oS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint($f.copy(e.center).add(oS)),this.expandByPoint($f.copy(e.center).sub(oS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ao=new N,aS=new N,Ig=new N,ya=new N,lS=new N,Lg=new N,cS=new N;class rf{constructor(e=new N,n=new N(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ao)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ao.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ao.copy(this.origin).addScaledVector(this.direction,n),Ao.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){aS.copy(e).add(n).multiplyScalar(.5),Ig.copy(n).sub(e).normalize(),ya.copy(this.origin).sub(aS);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Ig),a=ya.dot(this.direction),l=-ya.dot(Ig),u=ya.lengthSq(),f=Math.abs(1-o*o);let h,p,m,y;if(f>0)if(h=o*l-a,p=o*a-l,y=s*f,h>=0)if(p>=-y)if(p<=y){const S=1/f;h*=S,p*=S,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(aS).addScaledVector(Ig,p),m}intersectSphere(e,n){Ao.subVectors(e.center,this.origin);const r=Ao.dot(this.direction),i=Ao.dot(Ao)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ao)!==null}intersectTriangle(e,n,r,i,s){lS.subVectors(n,e),Lg.subVectors(r,e),cS.crossVectors(lS,Lg);let o=this.direction.dot(cS),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ya.subVectors(this.origin,e);const l=a*this.direction.dot(Lg.crossVectors(ya,Lg));if(l<0)return null;const u=a*this.direction.dot(lS.cross(ya));if(u<0||l+u>o)return null;const f=-a*ya.dot(cS);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class tt{constructor(e,n,r,i,s,o,a,l,u,f,h,p,m,y,S,x){tt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,f,h,p,m,y,S,x)}set(e,n,r,i,s,o,a,l,u,f,h,p,m,y,S,x){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=f,g[10]=h,g[14]=p,g[3]=m,g[7]=y,g[11]=S,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new tt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/pu.setFromMatrixColumn(e,0).length(),s=1/pu.setFromMatrixColumn(e,1).length(),o=1/pu.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*h,y=a*f,S=a*h;n[0]=l*f,n[4]=-l*h,n[8]=u,n[1]=m+y*u,n[5]=p-S*u,n[9]=-a*l,n[2]=S-p*u,n[6]=y+m*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*h,y=u*f,S=u*h;n[0]=p+S*a,n[4]=y*a-m,n[8]=o*u,n[1]=o*h,n[5]=o*f,n[9]=-a,n[2]=m*a-y,n[6]=S+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*h,y=u*f,S=u*h;n[0]=p-S*a,n[4]=-o*h,n[8]=y+m*a,n[1]=m+y*a,n[5]=o*f,n[9]=S-p*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*h,y=a*f,S=a*h;n[0]=l*f,n[4]=y*u-m,n[8]=p*u+S,n[1]=l*h,n[5]=S*u+p,n[9]=m*u-y,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,y=a*l,S=a*u;n[0]=l*f,n[4]=S-p*h,n[8]=y*h+m,n[1]=h,n[5]=o*f,n[9]=-a*f,n[2]=-u*f,n[6]=m*h+y,n[10]=p-S*h}else if(e.order==="XZY"){const p=o*l,m=o*u,y=a*l,S=a*u;n[0]=l*f,n[4]=-h,n[8]=u*f,n[1]=p*h+S,n[5]=o*f,n[9]=m*h-y,n[2]=y*h-m,n[6]=a*f,n[10]=S*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(KH,e,YH)}lookAt(e,n,r){const i=this.elements;return Ri.subVectors(e,n),Ri.lengthSq()===0&&(Ri.z=1),Ri.normalize(),xa.crossVectors(r,Ri),xa.lengthSq()===0&&(Math.abs(r.z)===1?Ri.x+=1e-4:Ri.z+=1e-4,Ri.normalize(),xa.crossVectors(r,Ri)),xa.normalize(),Dg.crossVectors(Ri,xa),i[0]=xa.x,i[4]=Dg.x,i[8]=Ri.x,i[1]=xa.y,i[5]=Dg.y,i[9]=Ri.y,i[2]=xa.z,i[6]=Dg.z,i[10]=Ri.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],f=r[1],h=r[5],p=r[9],m=r[13],y=r[2],S=r[6],x=r[10],g=r[14],A=r[3],_=r[7],b=r[11],B=r[15],T=i[0],R=i[4],L=i[8],P=i[12],C=i[1],k=i[5],X=i[9],H=i[13],ee=i[2],Q=i[6],de=i[10],ge=i[14],D=i[3],j=i[7],W=i[11],ne=i[15];return s[0]=o*T+a*C+l*ee+u*D,s[4]=o*R+a*k+l*Q+u*j,s[8]=o*L+a*X+l*de+u*W,s[12]=o*P+a*H+l*ge+u*ne,s[1]=f*T+h*C+p*ee+m*D,s[5]=f*R+h*k+p*Q+m*j,s[9]=f*L+h*X+p*de+m*W,s[13]=f*P+h*H+p*ge+m*ne,s[2]=y*T+S*C+x*ee+g*D,s[6]=y*R+S*k+x*Q+g*j,s[10]=y*L+S*X+x*de+g*W,s[14]=y*P+S*H+x*ge+g*ne,s[3]=A*T+_*C+b*ee+B*D,s[7]=A*R+_*k+b*Q+B*j,s[11]=A*L+_*X+b*de+B*W,s[15]=A*P+_*H+b*ge+B*ne,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],h=e[6],p=e[10],m=e[14],y=e[3],S=e[7],x=e[11],g=e[15];return y*(+s*l*h-i*u*h-s*a*p+r*u*p+i*a*m-r*l*m)+S*(+n*l*m-n*u*p+s*o*p-i*o*m+i*u*f-s*l*f)+x*(+n*u*h-n*a*m-s*o*h+r*o*m+s*a*f-r*u*f)+g*(-i*a*f-n*l*h+n*a*p+i*o*h-r*o*p+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],h=e[9],p=e[10],m=e[11],y=e[12],S=e[13],x=e[14],g=e[15],A=h*x*u-S*p*u+S*l*m-a*x*m-h*l*g+a*p*g,_=y*p*u-f*x*u-y*l*m+o*x*m+f*l*g-o*p*g,b=f*S*u-y*h*u+y*a*m-o*S*m-f*a*g+o*h*g,B=y*h*l-f*S*l-y*a*p+o*S*p+f*a*x-o*h*x,T=n*A+r*_+i*b+s*B;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/T;return e[0]=A*R,e[1]=(S*p*s-h*x*s-S*i*m+r*x*m+h*i*g-r*p*g)*R,e[2]=(a*x*s-S*l*s+S*i*u-r*x*u-a*i*g+r*l*g)*R,e[3]=(h*l*s-a*p*s-h*i*u+r*p*u+a*i*m-r*l*m)*R,e[4]=_*R,e[5]=(f*x*s-y*p*s+y*i*m-n*x*m-f*i*g+n*p*g)*R,e[6]=(y*l*s-o*x*s-y*i*u+n*x*u+o*i*g-n*l*g)*R,e[7]=(o*p*s-f*l*s+f*i*u-n*p*u-o*i*m+n*l*m)*R,e[8]=b*R,e[9]=(y*h*s-f*S*s-y*r*m+n*S*m+f*r*g-n*h*g)*R,e[10]=(o*S*s-y*a*s+y*r*u-n*S*u-o*r*g+n*a*g)*R,e[11]=(f*a*s-o*h*s-f*r*u+n*h*u+o*r*m-n*a*m)*R,e[12]=B*R,e[13]=(f*S*i-y*h*i+y*r*p-n*S*p-f*r*x+n*h*x)*R,e[14]=(y*a*i-o*S*i-y*r*l+n*S*l+o*r*x-n*a*x)*R,e[15]=(o*h*i-f*a*i+f*r*l-n*h*l-o*r*p+n*a*p)*R,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,f*a+r,f*l-i*o,0,u*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,f=o+o,h=a+a,p=s*u,m=s*f,y=s*h,S=o*f,x=o*h,g=a*h,A=l*u,_=l*f,b=l*h,B=r.x,T=r.y,R=r.z;return i[0]=(1-(S+g))*B,i[1]=(m+b)*B,i[2]=(y-_)*B,i[3]=0,i[4]=(m-b)*T,i[5]=(1-(p+g))*T,i[6]=(x+A)*T,i[7]=0,i[8]=(y+_)*R,i[9]=(x-A)*R,i[10]=(1-(p+S))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=pu.set(i[0],i[1],i[2]).length();const o=pu.set(i[4],i[5],i[6]).length(),a=pu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ms.copy(this);const u=1/s,f=1/o,h=1/a;return Ms.elements[0]*=u,Ms.elements[1]*=u,Ms.elements[2]*=u,Ms.elements[4]*=f,Ms.elements[5]*=f,Ms.elements[6]*=f,Ms.elements[8]*=h,Ms.elements[9]*=h,Ms.elements[10]*=h,n.setFromRotationMatrix(Ms),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=to){const l=this.elements,u=2*s/(n-e),f=2*s/(r-i),h=(n+e)/(n-e),p=(r+i)/(r-i);let m,y;if(a===to)m=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===Ep)m=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=to){const l=this.elements,u=1/(n-e),f=1/(r-i),h=1/(o-s),p=(n+e)*u,m=(r+i)*f;let y,S;if(a===to)y=(o+s)*h,S=-2*h;else if(a===Ep)y=s*h,S=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=S,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const pu=new N,Ms=new tt,KH=new N(0,0,0),YH=new N(1,1,1),xa=new N,Dg=new N,Ri=new N,xR=new tt,_R=new zn;class xi{constructor(e=0,n=0,r=0,i=xi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],f=i[9],h=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Bn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Bn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Bn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Bn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Bn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return xR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(xR,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return _R.setFromEuler(this),this.setFromQuaternion(_R,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xi.DEFAULT_ORDER="XYZ";class _c{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let qH=0;const SR=new N,mu=new zn,Mo=new tt,Fg=new N,Jf=new N,QH=new N,ZH=new zn,AR=new N(1,0,0),MR=new N(0,1,0),wR=new N(0,0,1),bR={type:"added"},eG={type:"removed"},gu={type:"childadded",child:null},uS={type:"childremoved",child:null};class Ut extends na{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qH++}),this.uuid=Ni(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ut.DEFAULT_UP.clone();const e=new N,n=new xi,r=new zn,i=new N(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new tt},normalMatrix:{value:new _t}}),this.matrix=new tt,this.matrixWorld=new tt,this.matrixAutoUpdate=Ut.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ut.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _c,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return mu.setFromAxisAngle(e,n),this.quaternion.multiply(mu),this}rotateOnWorldAxis(e,n){return mu.setFromAxisAngle(e,n),this.quaternion.premultiply(mu),this}rotateX(e){return this.rotateOnAxis(AR,e)}rotateY(e){return this.rotateOnAxis(MR,e)}rotateZ(e){return this.rotateOnAxis(wR,e)}translateOnAxis(e,n){return SR.copy(e).applyQuaternion(this.quaternion),this.position.add(SR.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(AR,e)}translateY(e){return this.translateOnAxis(MR,e)}translateZ(e){return this.translateOnAxis(wR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Mo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Fg.copy(e):Fg.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Jf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mo.lookAt(Jf,Fg,this.up):Mo.lookAt(Fg,Jf,this.up),this.quaternion.setFromRotationMatrix(Mo),i&&(Mo.extractRotation(i.matrixWorld),mu.setFromRotationMatrix(Mo),this.quaternion.premultiply(mu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(bR),gu.child=e,this.dispatchEvent(gu),gu.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(eG),uS.child=e,this.dispatchEvent(uS),uS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Mo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Mo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Mo),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(bR),gu.child=e,this.dispatchEvent(gu),gu.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jf,e,QH),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jf,ZH,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ut.DEFAULT_UP=new N(0,1,0);Ut.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ut.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ws=new N,wo=new N,dS=new N,bo=new N,vu=new N,yu=new N,CR=new N,fS=new N,hS=new N,pS=new N;class Ii{constructor(e=new N,n=new N,r=new N){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ws.subVectors(e,n),i.cross(ws);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){ws.subVectors(i,n),wo.subVectors(r,n),dS.subVectors(e,n);const o=ws.dot(ws),a=ws.dot(wo),l=ws.dot(dS),u=wo.dot(wo),f=wo.dot(dS),h=o*u-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,m=(u*l-a*f)*p,y=(o*f-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,bo)===null?!1:bo.x>=0&&bo.y>=0&&bo.x+bo.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,bo)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,bo.x),l.addScaledVector(o,bo.y),l.addScaledVector(a,bo.z),l)}static isFrontFacing(e,n,r,i){return ws.subVectors(r,n),wo.subVectors(e,n),ws.cross(wo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ws.subVectors(this.c,this.b),wo.subVectors(this.a,this.b),ws.cross(wo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ii.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ii.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Ii.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Ii.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ii.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;vu.subVectors(i,r),yu.subVectors(s,r),fS.subVectors(e,r);const l=vu.dot(fS),u=yu.dot(fS);if(l<=0&&u<=0)return n.copy(r);hS.subVectors(e,i);const f=vu.dot(hS),h=yu.dot(hS);if(f>=0&&h<=f)return n.copy(i);const p=l*h-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(vu,o);pS.subVectors(e,s);const m=vu.dot(pS),y=yu.dot(pS);if(y>=0&&m<=y)return n.copy(s);const S=m*u-l*y;if(S<=0&&u>=0&&y<=0)return a=u/(u-y),n.copy(r).addScaledVector(yu,a);const x=f*y-m*h;if(x<=0&&h-f>=0&&m-y>=0)return CR.subVectors(s,i),a=(h-f)/(h-f+(m-y)),n.copy(i).addScaledVector(CR,a);const g=1/(x+S+p);return o=S*g,a=p*g,n.copy(r).addScaledVector(vu,o).addScaledVector(yu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const UF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_a={h:0,s:0,l:0},kg={h:0,s:0,l:0};function mS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class De{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=cs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,sn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=sn.workingColorSpace){return this.r=e,this.g=n,this.b=r,sn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=sn.workingColorSpace){if(e=eb(e,1),n=Bn(n,0,1),r=Bn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=mS(o,s,e+1/3),this.g=mS(o,s,e),this.b=mS(o,s,e-1/3)}return sn.toWorkingColorSpace(this,i),this}setStyle(e,n=cs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=cs){const r=UF[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ad(e.r),this.g=Ad(e.g),this.b=Ad(e.b),this}copyLinearToSRGB(e){return this.r=nS(e.r),this.g=nS(e.g),this.b=nS(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=cs){return sn.fromWorkingColorSpace(Fr.copy(this),e),Math.round(Bn(Fr.r*255,0,255))*65536+Math.round(Bn(Fr.g*255,0,255))*256+Math.round(Bn(Fr.b*255,0,255))}getHexString(e=cs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=sn.workingColorSpace){sn.fromWorkingColorSpace(Fr.copy(this),n);const r=Fr.r,i=Fr.g,s=Fr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=f<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,n=sn.workingColorSpace){return sn.fromWorkingColorSpace(Fr.copy(this),n),e.r=Fr.r,e.g=Fr.g,e.b=Fr.b,e}getStyle(e=cs){sn.fromWorkingColorSpace(Fr.copy(this),e);const n=Fr.r,r=Fr.g,i=Fr.b;return e!==cs?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(_a),this.setHSL(_a.h+e,_a.s+n,_a.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(_a),e.getHSL(kg);const r=zh(_a.h,kg.h,n),i=zh(_a.s,kg.s,n),s=zh(_a.l,kg.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Fr=new De;De.NAMES=UF;let tG=0;class $n extends na{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:tG++}),this.uuid=Ni(),this.name="",this.type="Material",this.blending=vc,this.side=ho,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Gv,this.blendDst=Vv,this.blendEquation=Oa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new De(0,0,0),this.blendAlpha=0,this.depthFunc=yp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=iM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Kl,this.stencilZFail=Kl,this.stencilZPass=Kl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==vc&&(r.blending=this.blending),this.side!==ho&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Gv&&(r.blendSrc=this.blendSrc),this.blendDst!==Vv&&(r.blendDst=this.blendDst),this.blendEquation!==Oa&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==yp&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==iM&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Kl&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Kl&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Kl&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Fi extends $n{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xi,this.combine=Zp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Io=nG();function nG(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;!(u&8388608);)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function di(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Bn(t,-65504,65504),Io.floatView[0]=t;const e=Io.uint32View[0],n=e>>23&511;return Io.baseTable[n]+((e&8388607)>>Io.shiftTable[n])}function Ah(t){const e=t>>10;return Io.uint32View[0]=Io.mantissaTable[Io.offsetTable[e]+(t&1023)]+Io.exponentTable[e],Io.floatView[0]}const rG={toHalfFloat:di,fromHalfFloat:Ah},Wn=new N,Ng=new ve;class zt{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Cp,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ps,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return kF("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Ng.fromBufferAttribute(this,n),Ng.applyMatrix3(e),this.setXY(n,Ng.x,Ng.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Wn.fromBufferAttribute(this,n),Wn.applyMatrix3(e),this.setXYZ(n,Wn.x,Wn.y,Wn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Wn.fromBufferAttribute(this,n),Wn.applyMatrix4(e),this.setXYZ(n,Wn.x,Wn.y,Wn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Wn.fromBufferAttribute(this,n),Wn.applyNormalMatrix(e),this.setXYZ(n,Wn.x,Wn.y,Wn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Wn.fromBufferAttribute(this,n),Wn.transformDirection(e),this.setXYZ(n,Wn.x,Wn.y,Wn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ti(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=St(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ti(n,this.array)),n}setX(e,n){return this.normalized&&(n=St(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ti(n,this.array)),n}setY(e,n){return this.normalized&&(n=St(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ti(n,this.array)),n}setZ(e,n){return this.normalized&&(n=St(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ti(n,this.array)),n}setW(e,n){return this.normalized&&(n=St(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=St(n,this.array),r=St(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=St(n,this.array),r=St(r,this.array),i=St(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=St(n,this.array),r=St(r,this.array),i=St(i,this.array),s=St(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Cp&&(e.usage=this.usage),e}}class iG extends zt{constructor(e,n,r){super(new Int8Array(e),n,r)}}class sG extends zt{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class oG extends zt{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class aG extends zt{constructor(e,n,r){super(new Int16Array(e),n,r)}}class nb extends zt{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class lG extends zt{constructor(e,n,r){super(new Int32Array(e),n,r)}}class rb extends zt{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class cG extends zt{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Ah(this.array[e*this.itemSize]);return this.normalized&&(n=ti(n,this.array)),n}setX(e,n){return this.normalized&&(n=St(n,this.array)),this.array[e*this.itemSize]=di(n),this}getY(e){let n=Ah(this.array[e*this.itemSize+1]);return this.normalized&&(n=ti(n,this.array)),n}setY(e,n){return this.normalized&&(n=St(n,this.array)),this.array[e*this.itemSize+1]=di(n),this}getZ(e){let n=Ah(this.array[e*this.itemSize+2]);return this.normalized&&(n=ti(n,this.array)),n}setZ(e,n){return this.normalized&&(n=St(n,this.array)),this.array[e*this.itemSize+2]=di(n),this}getW(e){let n=Ah(this.array[e*this.itemSize+3]);return this.normalized&&(n=ti(n,this.array)),n}setW(e,n){return this.normalized&&(n=St(n,this.array)),this.array[e*this.itemSize+3]=di(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=St(n,this.array),r=St(r,this.array)),this.array[e+0]=di(n),this.array[e+1]=di(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=St(n,this.array),r=St(r,this.array),i=St(i,this.array)),this.array[e+0]=di(n),this.array[e+1]=di(r),this.array[e+2]=di(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=St(n,this.array),r=St(r,this.array),i=St(i,this.array),s=St(s,this.array)),this.array[e+0]=di(n),this.array[e+1]=di(r),this.array[e+2]=di(i),this.array[e+3]=di(s),this}}class Je extends zt{constructor(e,n,r){super(new Float32Array(e),n,r)}}let uG=0;const ns=new tt,gS=new Ut,xu=new N,Pi=new Hr,Kf=new Hr,dr=new N;class xt extends na{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:uG++}),this.uuid=Ni(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(DF(e)?rb:nb)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new _t().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ns.makeRotationFromQuaternion(e),this.applyMatrix4(ns),this}rotateX(e){return ns.makeRotationX(e),this.applyMatrix4(ns),this}rotateY(e){return ns.makeRotationY(e),this.applyMatrix4(ns),this}rotateZ(e){return ns.makeRotationZ(e),this.applyMatrix4(ns),this}translate(e,n,r){return ns.makeTranslation(e,n,r),this.applyMatrix4(ns),this}scale(e,n,r){return ns.makeScale(e,n,r),this.applyMatrix4(ns),this}lookAt(e){return gS.lookAt(e),gS.updateMatrix(),this.applyMatrix4(gS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xu).negate(),this.translate(xu.x,xu.y,xu.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Je(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Hr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Pi.setFromBufferAttribute(s),this.morphTargetsRelative?(dr.addVectors(this.boundingBox.min,Pi.min),this.boundingBox.expandByPoint(dr),dr.addVectors(this.boundingBox.max,Pi.max),this.boundingBox.expandByPoint(dr)):(this.boundingBox.expandByPoint(Pi.min),this.boundingBox.expandByPoint(Pi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new br);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new N,1/0);return}if(e){const r=this.boundingSphere.center;if(Pi.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Kf.setFromBufferAttribute(a),this.morphTargetsRelative?(dr.addVectors(Pi.min,Kf.min),Pi.expandByPoint(dr),dr.addVectors(Pi.max,Kf.max),Pi.expandByPoint(dr)):(Pi.expandByPoint(Kf.min),Pi.expandByPoint(Kf.max))}Pi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)dr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(dr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)dr.fromBufferAttribute(a,u),l&&(xu.fromBufferAttribute(e,u),dr.add(xu)),i=Math.max(i,r.distanceToSquared(dr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zt(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let L=0;L<r.count;L++)a[L]=new N,l[L]=new N;const u=new N,f=new N,h=new N,p=new ve,m=new ve,y=new ve,S=new N,x=new N;function g(L,P,C){u.fromBufferAttribute(r,L),f.fromBufferAttribute(r,P),h.fromBufferAttribute(r,C),p.fromBufferAttribute(s,L),m.fromBufferAttribute(s,P),y.fromBufferAttribute(s,C),f.sub(u),h.sub(u),m.sub(p),y.sub(p);const k=1/(m.x*y.y-y.x*m.y);isFinite(k)&&(S.copy(f).multiplyScalar(y.y).addScaledVector(h,-m.y).multiplyScalar(k),x.copy(h).multiplyScalar(m.x).addScaledVector(f,-y.x).multiplyScalar(k),a[L].add(S),a[P].add(S),a[C].add(S),l[L].add(x),l[P].add(x),l[C].add(x))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let L=0,P=A.length;L<P;++L){const C=A[L],k=C.start,X=C.count;for(let H=k,ee=k+X;H<ee;H+=3)g(e.getX(H+0),e.getX(H+1),e.getX(H+2))}const _=new N,b=new N,B=new N,T=new N;function R(L){B.fromBufferAttribute(i,L),T.copy(B);const P=a[L];_.copy(P),_.sub(B.multiplyScalar(B.dot(P))).normalize(),b.crossVectors(T,P);const k=b.dot(l[L])<0?-1:1;o.setXYZW(L,_.x,_.y,_.z,k)}for(let L=0,P=A.length;L<P;++L){const C=A[L],k=C.start,X=C.count;for(let H=k,ee=k+X;H<ee;H+=3)R(e.getX(H+0)),R(e.getX(H+1)),R(e.getX(H+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new zt(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new N,s=new N,o=new N,a=new N,l=new N,u=new N,f=new N,h=new N;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),S=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(n,y),s.fromBufferAttribute(n,S),o.fromBufferAttribute(n,x),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,S),u.fromBufferAttribute(r,x),a.add(f),l.add(f),u.add(f),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)dr.fromBufferAttribute(e,n),dr.normalize(),e.setXYZ(n,dr.x,dr.y,dr.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,h=a.normalized,p=new u.constructor(l.length*f);let m=0,y=0;for(let S=0,x=l.length;S<x;S++){a.isInterleavedBufferAttribute?m=l[S]*a.data.stride+a.offset:m=l[S]*f;for(let g=0;g<f;g++)p[y++]=u[m++]}return new zt(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new xt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,h=u.length;f<h;f++){const p=u[f],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];f.push(m.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(n))}const s=e.morphAttributes;for(const u in s){const f=[],h=s[u];for(let p=0,m=h.length;p<m;p++)f.push(h[p].clone(n));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ER=new tt,Dl=new rf,Og=new br,TR=new N,_u=new N,Su=new N,Au=new N,vS=new N,Ug=new N,zg=new ve,Hg=new ve,Gg=new ve,RR=new N,PR=new N,BR=new N,Vg=new N,Wg=new N;class On extends Ut{constructor(e=new xt,n=new Fi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Ug.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const f=a[l],h=s[l];f!==0&&(vS.fromBufferAttribute(h,e),o?Ug.addScaledVector(vS,f):Ug.addScaledVector(vS.sub(n),f))}n.add(Ug)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Og.copy(r.boundingSphere),Og.applyMatrix4(s),Dl.copy(e.ray).recast(e.near),!(Og.containsPoint(Dl.origin)===!1&&(Dl.intersectSphere(Og,TR)===null||Dl.origin.distanceToSquared(TR)>(e.far-e.near)**2))&&(ER.copy(s).invert(),Dl.copy(e.ray).applyMatrix4(ER),!(r.boundingBox!==null&&Dl.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Dl)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,f=s.attributes.uv1,h=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,S=p.length;y<S;y++){const x=p[y],g=o[x.materialIndex],A=Math.max(x.start,m.start),_=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let b=A,B=_;b<B;b+=3){const T=a.getX(b),R=a.getX(b+1),L=a.getX(b+2);i=jg(this,g,e,r,u,f,h,T,R,L),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const y=Math.max(0,m.start),S=Math.min(a.count,m.start+m.count);for(let x=y,g=S;x<g;x+=3){const A=a.getX(x),_=a.getX(x+1),b=a.getX(x+2);i=jg(this,o,e,r,u,f,h,A,_,b),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,S=p.length;y<S;y++){const x=p[y],g=o[x.materialIndex],A=Math.max(x.start,m.start),_=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let b=A,B=_;b<B;b+=3){const T=b,R=b+1,L=b+2;i=jg(this,g,e,r,u,f,h,T,R,L),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const y=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let x=y,g=S;x<g;x+=3){const A=x,_=x+1,b=x+2;i=jg(this,o,e,r,u,f,h,A,_,b),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function dG(t,e,n,r,i,s,o,a){let l;if(e.side===ii?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ho,a),l===null)return null;Wg.copy(a),Wg.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Wg);return u<n.near||u>n.far?null:{distance:u,point:Wg.clone(),object:t}}function jg(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,_u),t.getVertexPosition(l,Su),t.getVertexPosition(u,Au);const f=dG(t,e,n,r,_u,Su,Au,Vg);if(f){i&&(zg.fromBufferAttribute(i,a),Hg.fromBufferAttribute(i,l),Gg.fromBufferAttribute(i,u),f.uv=Ii.getInterpolation(Vg,_u,Su,Au,zg,Hg,Gg,new ve)),s&&(zg.fromBufferAttribute(s,a),Hg.fromBufferAttribute(s,l),Gg.fromBufferAttribute(s,u),f.uv1=Ii.getInterpolation(Vg,_u,Su,Au,zg,Hg,Gg,new ve)),o&&(RR.fromBufferAttribute(o,a),PR.fromBufferAttribute(o,l),BR.fromBufferAttribute(o,u),f.normal=Ii.getInterpolation(Vg,_u,Su,Au,RR,PR,BR,new N),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const h={a,b:l,c:u,normal:new N,materialIndex:0};Ii.getNormal(_u,Su,Au,h.normal),f.face=h}return f}class kc extends xt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,r,n,e,o,s,0),y("z","y","x",1,-1,r,n,-e,o,s,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,s,4),y("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Je(u,3)),this.setAttribute("normal",new Je(f,3)),this.setAttribute("uv",new Je(h,2));function y(S,x,g,A,_,b,B,T,R,L,P){const C=b/R,k=B/L,X=b/2,H=B/2,ee=T/2,Q=R+1,de=L+1;let ge=0,D=0;const j=new N;for(let W=0;W<de;W++){const ne=W*k-H;for(let xe=0;xe<Q;xe++){const we=xe*C-X;j[S]=we*A,j[x]=ne*_,j[g]=ee,u.push(j.x,j.y,j.z),j[S]=0,j[x]=0,j[g]=T>0?1:-1,f.push(j.x,j.y,j.z),h.push(xe/R),h.push(1-W/L),ge+=1}}for(let W=0;W<L;W++)for(let ne=0;ne<R;ne++){const xe=p+ne+Q*W,we=p+ne+Q*(W+1),re=p+(ne+1)+Q*(W+1),Se=p+(ne+1)+Q*W;l.push(xe,we,Se),l.push(we,re,Se),D+=6}a.addGroup(m,D,P),m+=D,p+=ge}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gd(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Zr(t){const e={};for(let n=0;n<t.length;n++){const r=Gd(t[n]);for(const i in r)e[i]=r[i]}return e}function fG(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function zF(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:sn.workingColorSpace}const HF={clone:Gd,merge:Zr};var hG=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,pG=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Us extends $n{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hG,this.fragmentShader=pG,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gd(e.uniforms),this.uniformsGroups=fG(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class tm extends Ut{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new tt,this.projectionMatrix=new tt,this.projectionMatrixInverse=new tt,this.coordinateSystem=to}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Sa=new N,IR=new ve,LR=new ve;class Qn extends tm{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Hd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(xc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Hd*2*Math.atan(Math.tan(xc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Sa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Sa.x,Sa.y).multiplyScalar(-e/Sa.z),Sa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Sa.x,Sa.y).multiplyScalar(-e/Sa.z)}getViewSize(e,n){return this.getViewBounds(e,IR,LR),n.subVectors(LR,IR)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(xc*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Mu=-90,wu=1;class GF extends Ut{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Qn(Mu,wu,e,n);i.layers=this.layers,this.add(i);const s=new Qn(Mu,wu,e,n);s.layers=this.layers,this.add(s);const o=new Qn(Mu,wu,e,n);o.layers=this.layers,this.add(o);const a=new Qn(Mu,wu,e,n);a.layers=this.layers,this.add(a);const l=new Qn(Mu,wu,e,n);l.layers=this.layers,this.add(l);const u=new Qn(Mu,wu,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===to)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ep)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,f]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(h,p,m),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class nm extends yn{constructor(e,n,r,i,s,o,a,l,u,f){e=e!==void 0?e:[],n=n!==void 0?n:qo,super(e,n,r,i,s,o,a,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class VF extends Os{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new nm(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:In}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new kc(5,5,5),s=new Us({name:"CubemapFromEquirect",uniforms:Gd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ii,blending:Go});s.uniforms.tEquirect.value=n;const o=new On(i,s),a=n.minFilter;return n.minFilter===hs&&(n.minFilter=In),new GF(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const yS=new N,mG=new N,gG=new _t;class La{constructor(e=new N(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=yS.subVectors(r,n).cross(mG.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(yS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||gG.getNormalMatrix(e),i=this.coplanarPoint(yS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Fl=new br,Xg=new N;class rm{constructor(e=new La,n=new La,r=new La,i=new La,s=new La,o=new La){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=to){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],f=i[5],h=i[6],p=i[7],m=i[8],y=i[9],S=i[10],x=i[11],g=i[12],A=i[13],_=i[14],b=i[15];if(r[0].setComponents(l-s,p-u,x-m,b-g).normalize(),r[1].setComponents(l+s,p+u,x+m,b+g).normalize(),r[2].setComponents(l+o,p+f,x+y,b+A).normalize(),r[3].setComponents(l-o,p-f,x-y,b-A).normalize(),r[4].setComponents(l-a,p-h,x-S,b-_).normalize(),n===to)r[5].setComponents(l+a,p+h,x+S,b+_).normalize();else if(n===Ep)r[5].setComponents(a,h,S,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Fl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Fl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Fl)}intersectsSprite(e){return Fl.center.set(0,0,0),Fl.radius=.7071067811865476,Fl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Fl)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Xg.x=i.normal.x>0?e.max.x:e.min.x,Xg.y=i.normal.y>0?e.max.y:e.min.y,Xg.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Xg)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WF(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function vG(t){const e=new WeakMap;function n(a,l){const u=a.array,f=a.usage,h=u.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,u,f),a.onUploadCallback();let m;if(u instanceof Float32Array)m=t.FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=t.SHORT;else if(u instanceof Uint32Array)m=t.UNSIGNED_INT;else if(u instanceof Int32Array)m=t.INT;else if(u instanceof Int8Array)m=t.BYTE;else if(u instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:h}}function r(a,l,u){const f=l.array,h=l._updateRange,p=l.updateRanges;if(t.bindBuffer(u,a),h.count===-1&&p.length===0&&t.bufferSubData(u,0,f),p.length!==0){for(let m=0,y=p.length;m<y;m++){const S=p[m];t.bufferSubData(u,S.start*f.BYTES_PER_ELEMENT,f,S.start,S.count)}l.clearUpdateRanges()}h.count!==-1&&(t.bufferSubData(u,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count),h.count=-1),l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const u=e.get(a);if(u===void 0)e.set(a,n(a,l));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,a,l),u.version=a.version}}return{get:i,remove:s,update:o}}class sf extends xt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,f=l+1,h=e/a,p=n/l,m=[],y=[],S=[],x=[];for(let g=0;g<f;g++){const A=g*p-o;for(let _=0;_<u;_++){const b=_*h-s;y.push(b,-A,0),S.push(0,0,1),x.push(_/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let A=0;A<a;A++){const _=A+u*g,b=A+u*(g+1),B=A+1+u*(g+1),T=A+1+u*g;m.push(_,b,T),m.push(b,B,T)}this.setIndex(m),this.setAttribute("position",new Je(y,3)),this.setAttribute("normal",new Je(S,3)),this.setAttribute("uv",new Je(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sf(e.width,e.height,e.widthSegments,e.heightSegments)}}var yG=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,xG=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,_G=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,SG=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,AG=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,MG=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,wG=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,bG=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,CG=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,EG=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,TG=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,RG=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,PG=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,BG=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,IG=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,LG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,DG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,FG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,kG=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NG=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,OG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,UG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,zG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,HG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,GG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,VG=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,WG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,XG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,$G=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,JG="gl_FragColor = linearToOutputTexel( gl_FragColor );",KG=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,YG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,qG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,QG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,ZG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,eV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,tV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,nV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,rV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,iV=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,sV=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,oV=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,aV=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lV=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,cV=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,uV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,dV=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,fV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,hV=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,pV=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mV=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,gV=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,vV=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,yV=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_V=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,SV=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,AV=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,MV=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wV=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,bV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,CV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,EV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,TV=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,RV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,PV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,BV=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,IV=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,LV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,DV=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,FV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,kV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,NV=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,OV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,UV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,HV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,GV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,VV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,WV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,jV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,XV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$V=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,JV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,KV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,YV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,qV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,QV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,ZV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,e9=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,t9=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,n9=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,r9=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,i9=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,s9=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,o9=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,a9=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,l9=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,c9=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,u9=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,d9=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, newPeak * vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,f9=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,h9=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,p9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,m9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,g9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,v9=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const y9=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,x9=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,S9=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,A9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,M9=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,w9=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,b9=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,C9=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,E9=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,T9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,R9=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,P9=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,B9=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,I9=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,L9=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,D9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,F9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k9=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,N9=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,O9=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,U9=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,z9=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,H9=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,G9=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,V9=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,W9=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,j9=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,X9=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,J9=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K9=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Y9=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,q9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,At={alphahash_fragment:yG,alphahash_pars_fragment:xG,alphamap_fragment:_G,alphamap_pars_fragment:SG,alphatest_fragment:AG,alphatest_pars_fragment:MG,aomap_fragment:wG,aomap_pars_fragment:bG,batching_pars_vertex:CG,batching_vertex:EG,begin_vertex:TG,beginnormal_vertex:RG,bsdfs:PG,iridescence_fragment:BG,bumpmap_pars_fragment:IG,clipping_planes_fragment:LG,clipping_planes_pars_fragment:DG,clipping_planes_pars_vertex:FG,clipping_planes_vertex:kG,color_fragment:NG,color_pars_fragment:OG,color_pars_vertex:UG,color_vertex:zG,common:HG,cube_uv_reflection_fragment:GG,defaultnormal_vertex:VG,displacementmap_pars_vertex:WG,displacementmap_vertex:jG,emissivemap_fragment:XG,emissivemap_pars_fragment:$G,colorspace_fragment:JG,colorspace_pars_fragment:KG,envmap_fragment:YG,envmap_common_pars_fragment:qG,envmap_pars_fragment:QG,envmap_pars_vertex:ZG,envmap_physical_pars_fragment:dV,envmap_vertex:eV,fog_vertex:tV,fog_pars_vertex:nV,fog_fragment:rV,fog_pars_fragment:iV,gradientmap_pars_fragment:sV,lightmap_fragment:oV,lightmap_pars_fragment:aV,lights_lambert_fragment:lV,lights_lambert_pars_fragment:cV,lights_pars_begin:uV,lights_toon_fragment:fV,lights_toon_pars_fragment:hV,lights_phong_fragment:pV,lights_phong_pars_fragment:mV,lights_physical_fragment:gV,lights_physical_pars_fragment:vV,lights_fragment_begin:yV,lights_fragment_maps:xV,lights_fragment_end:_V,logdepthbuf_fragment:SV,logdepthbuf_pars_fragment:AV,logdepthbuf_pars_vertex:MV,logdepthbuf_vertex:wV,map_fragment:bV,map_pars_fragment:CV,map_particle_fragment:EV,map_particle_pars_fragment:TV,metalnessmap_fragment:RV,metalnessmap_pars_fragment:PV,morphinstance_vertex:BV,morphcolor_vertex:IV,morphnormal_vertex:LV,morphtarget_pars_vertex:DV,morphtarget_vertex:FV,normal_fragment_begin:kV,normal_fragment_maps:NV,normal_pars_fragment:OV,normal_pars_vertex:UV,normal_vertex:zV,normalmap_pars_fragment:HV,clearcoat_normal_fragment_begin:GV,clearcoat_normal_fragment_maps:VV,clearcoat_pars_fragment:WV,iridescence_pars_fragment:jV,opaque_fragment:XV,packing:$V,premultiplied_alpha_fragment:JV,project_vertex:KV,dithering_fragment:YV,dithering_pars_fragment:qV,roughnessmap_fragment:QV,roughnessmap_pars_fragment:ZV,shadowmap_pars_fragment:e9,shadowmap_pars_vertex:t9,shadowmap_vertex:n9,shadowmask_pars_fragment:r9,skinbase_vertex:i9,skinning_pars_vertex:s9,skinning_vertex:o9,skinnormal_vertex:a9,specularmap_fragment:l9,specularmap_pars_fragment:c9,tonemapping_fragment:u9,tonemapping_pars_fragment:d9,transmission_fragment:f9,transmission_pars_fragment:h9,uv_pars_fragment:p9,uv_pars_vertex:m9,uv_vertex:g9,worldpos_vertex:v9,background_vert:y9,background_frag:x9,backgroundCube_vert:_9,backgroundCube_frag:S9,cube_vert:A9,cube_frag:M9,depth_vert:w9,depth_frag:b9,distanceRGBA_vert:C9,distanceRGBA_frag:E9,equirect_vert:T9,equirect_frag:R9,linedashed_vert:P9,linedashed_frag:B9,meshbasic_vert:I9,meshbasic_frag:L9,meshlambert_vert:D9,meshlambert_frag:F9,meshmatcap_vert:k9,meshmatcap_frag:N9,meshnormal_vert:O9,meshnormal_frag:U9,meshphong_vert:z9,meshphong_frag:H9,meshphysical_vert:G9,meshphysical_frag:V9,meshtoon_vert:W9,meshtoon_frag:j9,points_vert:X9,points_frag:$9,shadow_vert:J9,shadow_frag:K9,sprite_vert:Y9,sprite_frag:q9},Fe={common:{diffuse:{value:new De(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _t},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _t}},envmap:{envMap:{value:null},envMapRotation:{value:new _t},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _t}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _t}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _t},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _t},normalScale:{value:new ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _t},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _t}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _t}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _t}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new De(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new De(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0},uvTransform:{value:new _t}},sprite:{diffuse:{value:new De(16777215)},opacity:{value:1},center:{value:new ve(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _t},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0}}},Bs={basic:{uniforms:Zr([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:At.meshbasic_vert,fragmentShader:At.meshbasic_frag},lambert:{uniforms:Zr([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new De(0)}}]),vertexShader:At.meshlambert_vert,fragmentShader:At.meshlambert_frag},phong:{uniforms:Zr([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new De(0)},specular:{value:new De(1118481)},shininess:{value:30}}]),vertexShader:At.meshphong_vert,fragmentShader:At.meshphong_frag},standard:{uniforms:Zr([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new De(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag},toon:{uniforms:Zr([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new De(0)}}]),vertexShader:At.meshtoon_vert,fragmentShader:At.meshtoon_frag},matcap:{uniforms:Zr([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:At.meshmatcap_vert,fragmentShader:At.meshmatcap_frag},points:{uniforms:Zr([Fe.points,Fe.fog]),vertexShader:At.points_vert,fragmentShader:At.points_frag},dashed:{uniforms:Zr([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:At.linedashed_vert,fragmentShader:At.linedashed_frag},depth:{uniforms:Zr([Fe.common,Fe.displacementmap]),vertexShader:At.depth_vert,fragmentShader:At.depth_frag},normal:{uniforms:Zr([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:At.meshnormal_vert,fragmentShader:At.meshnormal_frag},sprite:{uniforms:Zr([Fe.sprite,Fe.fog]),vertexShader:At.sprite_vert,fragmentShader:At.sprite_frag},background:{uniforms:{uvTransform:{value:new _t},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:At.background_vert,fragmentShader:At.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new _t}},vertexShader:At.backgroundCube_vert,fragmentShader:At.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:At.cube_vert,fragmentShader:At.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:At.equirect_vert,fragmentShader:At.equirect_frag},distanceRGBA:{uniforms:Zr([Fe.common,Fe.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:At.distanceRGBA_vert,fragmentShader:At.distanceRGBA_frag},shadow:{uniforms:Zr([Fe.lights,Fe.fog,{color:{value:new De(0)},opacity:{value:1}}]),vertexShader:At.shadow_vert,fragmentShader:At.shadow_frag}};Bs.physical={uniforms:Zr([Bs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _t},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _t},clearcoatNormalScale:{value:new ve(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _t},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _t},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _t},sheen:{value:0},sheenColor:{value:new De(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _t},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _t},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _t},transmissionSamplerSize:{value:new ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _t},attenuationDistance:{value:0},attenuationColor:{value:new De(0)},specularColor:{value:new De(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _t},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _t},anisotropyVector:{value:new ve},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _t}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag};const $g={r:0,b:0,g:0},kl=new xi,Q9=new tt;function Z9(t,e,n,r,i,s,o){const a=new De(0);let l=s===!0?0:1,u,f,h=null,p=0,m=null;function y(x,g){let A=!1,_=g.isScene===!0?g.background:null;_&&_.isTexture&&(_=(g.backgroundBlurriness>0?n:e).get(_)),_===null?S(a,l):_&&_.isColor&&(S(_,1),A=!0);const b=t.xr.getEnvironmentBlendMode();b==="additive"?r.buffers.color.setClear(0,0,0,1,o):b==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||A)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===tf)?(f===void 0&&(f=new On(new kc(1,1,1),new Us({name:"BackgroundCubeMaterial",uniforms:Gd(Bs.backgroundCube.uniforms),vertexShader:Bs.backgroundCube.vertexShader,fragmentShader:Bs.backgroundCube.fragmentShader,side:ii,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(B,T,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),kl.copy(g.backgroundRotation),kl.x*=-1,kl.y*=-1,kl.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(kl.y*=-1,kl.z*=-1),f.material.uniforms.envMap.value=_,f.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(Q9.makeRotationFromEuler(kl)),f.material.toneMapped=sn.getTransfer(_.colorSpace)!==dn,(h!==_||p!==_.version||m!==t.toneMapping)&&(f.material.needsUpdate=!0,h=_,p=_.version,m=t.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new On(new sf(2,2),new Us({name:"BackgroundMaterial",uniforms:Gd(Bs.background.uniforms),vertexShader:Bs.background.vertexShader,fragmentShader:Bs.background.fragmentShader,side:ho,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=_,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=sn.getTransfer(_.colorSpace)!==dn,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(h!==_||p!==_.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,h=_,p=_.version,m=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function S(x,g){x.getRGB($g,zF(t)),r.buffers.color.setClear($g.r,$g.g,$g.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,S(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,S(a,l)},render:y}}function e8(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,o=!1;function a(C,k,X,H,ee){let Q=!1;const de=h(H,X,k);s!==de&&(s=de,u(s.object)),Q=m(C,H,X,ee),Q&&y(C,H,X,ee),ee!==null&&e.update(ee,t.ELEMENT_ARRAY_BUFFER),(Q||o)&&(o=!1,b(C,k,X,H),ee!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(ee).buffer))}function l(){return t.createVertexArray()}function u(C){return t.bindVertexArray(C)}function f(C){return t.deleteVertexArray(C)}function h(C,k,X){const H=X.wireframe===!0;let ee=r[C.id];ee===void 0&&(ee={},r[C.id]=ee);let Q=ee[k.id];Q===void 0&&(Q={},ee[k.id]=Q);let de=Q[H];return de===void 0&&(de=p(l()),Q[H]=de),de}function p(C){const k=[],X=[],H=[];for(let ee=0;ee<n;ee++)k[ee]=0,X[ee]=0,H[ee]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:X,attributeDivisors:H,object:C,attributes:{},index:null}}function m(C,k,X,H){const ee=s.attributes,Q=k.attributes;let de=0;const ge=X.getAttributes();for(const D in ge)if(ge[D].location>=0){const W=ee[D];let ne=Q[D];if(ne===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(ne=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(ne=C.instanceColor)),W===void 0||W.attribute!==ne||ne&&W.data!==ne.data)return!0;de++}return s.attributesNum!==de||s.index!==H}function y(C,k,X,H){const ee={},Q=k.attributes;let de=0;const ge=X.getAttributes();for(const D in ge)if(ge[D].location>=0){let W=Q[D];W===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(W=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(W=C.instanceColor));const ne={};ne.attribute=W,W&&W.data&&(ne.data=W.data),ee[D]=ne,de++}s.attributes=ee,s.attributesNum=de,s.index=H}function S(){const C=s.newAttributes;for(let k=0,X=C.length;k<X;k++)C[k]=0}function x(C){g(C,0)}function g(C,k){const X=s.newAttributes,H=s.enabledAttributes,ee=s.attributeDivisors;X[C]=1,H[C]===0&&(t.enableVertexAttribArray(C),H[C]=1),ee[C]!==k&&(t.vertexAttribDivisor(C,k),ee[C]=k)}function A(){const C=s.newAttributes,k=s.enabledAttributes;for(let X=0,H=k.length;X<H;X++)k[X]!==C[X]&&(t.disableVertexAttribArray(X),k[X]=0)}function _(C,k,X,H,ee,Q,de){de===!0?t.vertexAttribIPointer(C,k,X,ee,Q):t.vertexAttribPointer(C,k,X,H,ee,Q)}function b(C,k,X,H){S();const ee=H.attributes,Q=X.getAttributes(),de=k.defaultAttributeValues;for(const ge in Q){const D=Q[ge];if(D.location>=0){let j=ee[ge];if(j===void 0&&(ge==="instanceMatrix"&&C.instanceMatrix&&(j=C.instanceMatrix),ge==="instanceColor"&&C.instanceColor&&(j=C.instanceColor)),j!==void 0){const W=j.normalized,ne=j.itemSize,xe=e.get(j);if(xe===void 0)continue;const we=xe.buffer,re=xe.type,Se=xe.bytesPerElement,be=re===t.INT||re===t.UNSIGNED_INT||j.gpuType===Vw;if(j.isInterleavedBufferAttribute){const Me=j.data,rt=Me.stride,pt=j.offset;if(Me.isInstancedInterleavedBuffer){for(let st=0;st<D.locationSize;st++)g(D.location+st,Me.meshPerAttribute);C.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let st=0;st<D.locationSize;st++)x(D.location+st);t.bindBuffer(t.ARRAY_BUFFER,we);for(let st=0;st<D.locationSize;st++)_(D.location+st,ne/D.locationSize,re,W,rt*Se,(pt+ne/D.locationSize*st)*Se,be)}else{if(j.isInstancedBufferAttribute){for(let Me=0;Me<D.locationSize;Me++)g(D.location+Me,j.meshPerAttribute);C.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let Me=0;Me<D.locationSize;Me++)x(D.location+Me);t.bindBuffer(t.ARRAY_BUFFER,we);for(let Me=0;Me<D.locationSize;Me++)_(D.location+Me,ne/D.locationSize,re,W,ne*Se,ne/D.locationSize*Me*Se,be)}}else if(de!==void 0){const W=de[ge];if(W!==void 0)switch(W.length){case 2:t.vertexAttrib2fv(D.location,W);break;case 3:t.vertexAttrib3fv(D.location,W);break;case 4:t.vertexAttrib4fv(D.location,W);break;default:t.vertexAttrib1fv(D.location,W)}}}}A()}function B(){L();for(const C in r){const k=r[C];for(const X in k){const H=k[X];for(const ee in H)f(H[ee].object),delete H[ee];delete k[X]}delete r[C]}}function T(C){if(r[C.id]===void 0)return;const k=r[C.id];for(const X in k){const H=k[X];for(const ee in H)f(H[ee].object),delete H[ee];delete k[X]}delete r[C.id]}function R(C){for(const k in r){const X=r[k];if(X[C.id]===void 0)continue;const H=X[C.id];for(const ee in H)f(H[ee].object),delete H[ee];delete X[C.id]}}function L(){P(),o=!0,s!==i&&(s=i,u(s.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:L,resetDefaultState:P,dispose:B,releaseStatesOfGeometry:T,releaseStatesOfProgram:R,initAttributes:S,enableAttribute:x,disableUnusedAttributes:A}}function t8(t,e,n){let r;function i(l){r=l}function s(l,u){t.drawArrays(r,l,u),n.update(u,r,1)}function o(l,u,f){f!==0&&(t.drawArraysInstanced(r,l,u,f),n.update(u,r,f))}function a(l,u,f){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<f;p++)this.render(l[p],u[p]);else{h.multiDrawArraysWEBGL(r,l,0,u,0,f);let p=0;for(let m=0;m<f;m++)p+=u[m];n.update(p,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a}function n8(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const _=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(_){if(_==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";_="mediump"}return _==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=n.precision!==void 0?n.precision:"highp";const a=s(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);const l=n.logarithmicDepthBuffer===!0,u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),S=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=f>0,A=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:y,maxVaryings:S,maxFragmentUniforms:x,vertexTextures:g,maxSamples:A}}function r8(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new La,a=new _t,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||r!==0||i;return i=p,r=h.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){n=f(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,S=h.clipIntersection,x=h.clipShadows,g=t.get(h);if(!i||y===null||y.length===0||s&&!x)s?f(null):u();else{const A=s?0:r,_=A*4;let b=g.clippingState||null;l.value=b,b=f(y,p,_,m);for(let B=0;B!==_;++B)b[B]=n[B];g.clippingState=b,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=A}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(h,p,m,y){const S=h!==null?h.length:0;let x=null;if(S!==0){if(x=l.value,y!==!0||x===null){const g=m+S*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(x===null||x.length<g)&&(x=new Float32Array(g));for(let _=0,b=m;_!==S;++_,b+=4)o.copy(h[_]).applyMatrix4(A,a),o.normal.toArray(x,b),x[b+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,x}}function i8(t){let e=new WeakMap;function n(o,a){return a===xp?o.mapping=qo:a===_p&&(o.mapping=nl),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===xp||a===_p)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new VF(l.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class of extends tm{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const nd=4,DR=[.125,.215,.35,.446,.526,.582],ec=20,xS=new of,FR=new De;let _S=null,SS=0,AS=0,MS=!1;const Yl=(1+Math.sqrt(5))/2,bu=1/Yl,kR=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,Yl,bu),new N(0,Yl,-bu),new N(bu,0,Yl),new N(-bu,0,Yl),new N(Yl,bu,0),new N(-Yl,bu,0)];class oM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){_S=this._renderer.getRenderTarget(),SS=this._renderer.getActiveCubeFace(),AS=this._renderer.getActiveMipmapLevel(),MS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=UR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=OR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_S,SS,AS),this._renderer.xr.enabled=MS,e.scissorTest=!1,Jg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===qo||e.mapping===nl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_S=this._renderer.getRenderTarget(),SS=this._renderer.getActiveCubeFace(),AS=this._renderer.getActiveMipmapLevel(),MS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:In,minFilter:In,generateMipmaps:!1,type:Sp,format:mi,colorSpace:ta,depthBuffer:!1},i=NR(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=NR(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=s8(s)),this._blurMaterial=o8(s,e,n)}return i}_compileMaterial(e){const n=new On(this._lodPlanes[0],e);this._renderer.compile(n,xS)}_sceneToCubeUV(e,n,r,i){const a=new Qn(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(FR),f.toneMapping=so,f.autoClear=!1;const m=new Fi({name:"PMREM.Background",side:ii,depthWrite:!1,depthTest:!1}),y=new On(new kc,m);let S=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,S=!0):(m.color.copy(FR),S=!0);for(let g=0;g<6;g++){const A=g%3;A===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):A===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const _=this._cubeSize;Jg(i,A*_,g>2?_:0,_,_),f.setRenderTarget(i),S&&f.render(y,a),f.render(e,a)}y.geometry.dispose(),y.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===qo||e.mapping===nl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=UR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=OR());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new On(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Jg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,xS)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=kR[(i-1)%kR.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new On(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ec-1),S=s/y,x=isFinite(s)?1+Math.floor(f*S):ec;x>ec&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${ec}`);const g=[];let A=0;for(let R=0;R<ec;++R){const L=R/S,P=Math.exp(-L*L/2);g.push(P),R===0?A+=P:R<x&&(A+=2*P)}for(let R=0;R<g.length;R++)g[R]=g[R]/A;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:_}=this;p.dTheta.value=y,p.mipInt.value=_-r;const b=this._sizeLods[i],B=3*b*(i>_-nd?i-_+nd:0),T=4*(this._cubeSize-b);Jg(n,B,T,3*b,2*b),l.setRenderTarget(n),l.render(h,xS)}}function s8(t){const e=[],n=[],r=[];let i=t;const s=t-nd+1+DR.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-nd?l=DR[o-t+nd-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),f=-u,h=1+u,p=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,y=6,S=3,x=2,g=1,A=new Float32Array(S*y*m),_=new Float32Array(x*y*m),b=new Float32Array(g*y*m);for(let T=0;T<m;T++){const R=T%3*2/3-1,L=T>2?0:-1,P=[R,L,0,R+2/3,L,0,R+2/3,L+1,0,R,L,0,R+2/3,L+1,0,R,L+1,0];A.set(P,S*y*T),_.set(p,x*y*T);const C=[T,T,T,T,T,T];b.set(C,g*y*T)}const B=new xt;B.setAttribute("position",new zt(A,S)),B.setAttribute("uv",new zt(_,x)),B.setAttribute("faceIndex",new zt(b,g)),e.push(B),i>nd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function NR(t,e,n){const r=new Os(t,e,n);return r.texture.mapping=tf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Jg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function o8(t,e,n){const r=new Float32Array(ec),i=new N(0,1,0);return new Us({name:"SphericalGaussianBlur",defines:{n:ec,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:ib(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Go,depthTest:!1,depthWrite:!1})}function OR(){return new Us({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ib(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Go,depthTest:!1,depthWrite:!1})}function UR(){return new Us({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ib(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Go,depthTest:!1,depthWrite:!1})}function ib(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function a8(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===xp||l===_p,f=l===qo||l===nl;if(u||f){let h=e.get(a);const p=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new oM(t)),h=u?n.fromEquirectangular(a,h):n.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const m=a.image;return u&&m&&m.height>0||f&&m&&i(m)?(n===null&&(n=new oM(t)),h=u?n.fromEquirectangular(a):n.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a}function i(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function l8(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function c8(t,e,n,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const S=p.morphAttributes[y];for(let x=0,g=S.length;x<g;x++)e.remove(S[x])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],t.ARRAY_BUFFER);const m=h.morphAttributes;for(const y in m){const S=m[y];for(let x=0,g=S.length;x<g;x++)e.update(S[x],t.ARRAY_BUFFER)}}function u(h){const p=[],m=h.index,y=h.attributes.position;let S=0;if(m!==null){const A=m.array;S=m.version;for(let _=0,b=A.length;_<b;_+=3){const B=A[_+0],T=A[_+1],R=A[_+2];p.push(B,T,T,R,R,B)}}else if(y!==void 0){const A=y.array;S=y.version;for(let _=0,b=A.length/3-1;_<b;_+=3){const B=_+0,T=_+1,R=_+2;p.push(B,T,T,R,R,B)}}else return;const x=new(DF(p)?rb:nb)(p,1);x.version=S;const g=s.get(h);g&&e.remove(g),s.set(h,x)}function f(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:f}}function u8(t,e,n){let r;function i(h){r=h}let s,o;function a(h){s=h.type,o=h.bytesPerElement}function l(h,p){t.drawElements(r,p,s,h*o),n.update(p,r,1)}function u(h,p,m){m!==0&&(t.drawElementsInstanced(r,p,s,h*o,m),n.update(p,r,m))}function f(h,p,m){if(m===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let S=0;S<m;S++)this.render(h[S]/o,p[S]);else{y.multiDrawElementsWEBGL(r,p,0,s,h,0,m);let S=0;for(let x=0;x<m;x++)S+=p[x];n.update(S,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=u,this.renderMultiDraw=f}function d8(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function f8(t,e,n){const r=new WeakMap,i=new Vt;function s(o,a,l){const u=o.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=f!==void 0?f.length:0;let p=r.get(a);if(p===void 0||p.count!==h){let C=function(){L.dispose(),r.delete(a),a.removeEventListener("dispose",C)};var m=C;p!==void 0&&p.texture.dispose();const y=a.morphAttributes.position!==void 0,S=a.morphAttributes.normal!==void 0,x=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],A=a.morphAttributes.normal||[],_=a.morphAttributes.color||[];let b=0;y===!0&&(b=1),S===!0&&(b=2),x===!0&&(b=3);let B=a.attributes.position.count*b,T=1;B>e.maxTextureSize&&(T=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const R=new Float32Array(B*T*4*h),L=new Iy(R,B,T,h);L.type=ps,L.needsUpdate=!0;const P=b*4;for(let k=0;k<h;k++){const X=g[k],H=A[k],ee=_[k],Q=B*T*4*k;for(let de=0;de<X.count;de++){const ge=de*P;y===!0&&(i.fromBufferAttribute(X,de),R[Q+ge+0]=i.x,R[Q+ge+1]=i.y,R[Q+ge+2]=i.z,R[Q+ge+3]=0),S===!0&&(i.fromBufferAttribute(H,de),R[Q+ge+4]=i.x,R[Q+ge+5]=i.y,R[Q+ge+6]=i.z,R[Q+ge+7]=0),x===!0&&(i.fromBufferAttribute(ee,de),R[Q+ge+8]=i.x,R[Q+ge+9]=i.y,R[Q+ge+10]=i.z,R[Q+ge+11]=ee.itemSize===4?i.w:1)}}p={count:h,texture:L,size:new ve(B,T)},r.set(a,p),a.addEventListener("dispose",C)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let y=0;for(let x=0;x<u.length;x++)y+=u[x];const S=a.morphTargetsRelative?1:1-y;l.getUniforms().setValue(t,"morphTargetBaseInfluence",S),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:s}}function h8(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,f=l.geometry,h=e.get(l,f);if(i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return h}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}class sb extends yn{constructor(e,n,r,i,s,o,a,l,u,f){if(f=f!==void 0?f:yc,f!==yc&&f!==Ud)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===yc&&(r=Bc),r===void 0&&f===Ud&&(r=nf),super(null,i,s,o,a,l,f,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:er,this.minFilter=l!==void 0?l:er,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const jF=new yn,XF=new sb(1,1);XF.compareFunction=Zw;const $F=new Iy,JF=new tb,KF=new nm,zR=[],HR=[],GR=new Float32Array(16),VR=new Float32Array(9),WR=new Float32Array(4);function af(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=zR[i];if(s===void 0&&(s=new Float32Array(i),zR[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function nr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function rr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Ly(t,e){let n=HR[e];n===void 0&&(n=new Int32Array(e),HR[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function p8(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function m8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2fv(this.addr,e),rr(n,e)}}function g8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(nr(n,e))return;t.uniform3fv(this.addr,e),rr(n,e)}}function v8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4fv(this.addr,e),rr(n,e)}}function y8(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;WR.set(r),t.uniformMatrix2fv(this.addr,!1,WR),rr(n,r)}}function x8(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;VR.set(r),t.uniformMatrix3fv(this.addr,!1,VR),rr(n,r)}}function _8(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;GR.set(r),t.uniformMatrix4fv(this.addr,!1,GR),rr(n,r)}}function S8(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function A8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2iv(this.addr,e),rr(n,e)}}function M8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nr(n,e))return;t.uniform3iv(this.addr,e),rr(n,e)}}function w8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4iv(this.addr,e),rr(n,e)}}function b8(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function C8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2uiv(this.addr,e),rr(n,e)}}function E8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nr(n,e))return;t.uniform3uiv(this.addr,e),rr(n,e)}}function T8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4uiv(this.addr,e),rr(n,e)}}function R8(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?XF:jF;n.setTexture2D(e||s,i)}function P8(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||JF,i)}function B8(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||KF,i)}function I8(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||$F,i)}function L8(t){switch(t){case 5126:return p8;case 35664:return m8;case 35665:return g8;case 35666:return v8;case 35674:return y8;case 35675:return x8;case 35676:return _8;case 5124:case 35670:return S8;case 35667:case 35671:return A8;case 35668:case 35672:return M8;case 35669:case 35673:return w8;case 5125:return b8;case 36294:return C8;case 36295:return E8;case 36296:return T8;case 35678:case 36198:case 36298:case 36306:case 35682:return R8;case 35679:case 36299:case 36307:return P8;case 35680:case 36300:case 36308:case 36293:return B8;case 36289:case 36303:case 36311:case 36292:return I8}}function D8(t,e){t.uniform1fv(this.addr,e)}function F8(t,e){const n=af(e,this.size,2);t.uniform2fv(this.addr,n)}function k8(t,e){const n=af(e,this.size,3);t.uniform3fv(this.addr,n)}function N8(t,e){const n=af(e,this.size,4);t.uniform4fv(this.addr,n)}function O8(t,e){const n=af(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function U8(t,e){const n=af(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function z8(t,e){const n=af(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function H8(t,e){t.uniform1iv(this.addr,e)}function G8(t,e){t.uniform2iv(this.addr,e)}function V8(t,e){t.uniform3iv(this.addr,e)}function W8(t,e){t.uniform4iv(this.addr,e)}function j8(t,e){t.uniform1uiv(this.addr,e)}function X8(t,e){t.uniform2uiv(this.addr,e)}function $8(t,e){t.uniform3uiv(this.addr,e)}function J8(t,e){t.uniform4uiv(this.addr,e)}function K8(t,e,n){const r=this.cache,i=e.length,s=Ly(n,i);nr(r,s)||(t.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||jF,s[o])}function Y8(t,e,n){const r=this.cache,i=e.length,s=Ly(n,i);nr(r,s)||(t.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||JF,s[o])}function q8(t,e,n){const r=this.cache,i=e.length,s=Ly(n,i);nr(r,s)||(t.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||KF,s[o])}function Q8(t,e,n){const r=this.cache,i=e.length,s=Ly(n,i);nr(r,s)||(t.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||$F,s[o])}function Z8(t){switch(t){case 5126:return D8;case 35664:return F8;case 35665:return k8;case 35666:return N8;case 35674:return O8;case 35675:return U8;case 35676:return z8;case 5124:case 35670:return H8;case 35667:case 35671:return G8;case 35668:case 35672:return V8;case 35669:case 35673:return W8;case 5125:return j8;case 36294:return X8;case 36295:return $8;case 36296:return J8;case 35678:case 36198:case 36298:case 36306:case 35682:return K8;case 35679:case 36299:case 36307:return Y8;case 35680:case 36300:case 36308:case 36293:return q8;case 36289:case 36303:case 36311:case 36292:return Q8}}class e6{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=L8(n.type)}}class t6{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Z8(n.type)}}class n6{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const wS=/(\w+)(\])?(\[|\.)?/g;function jR(t,e){t.seq.push(e),t.map[e.id]=e}function r6(t,e,n){const r=t.name,i=r.length;for(wS.lastIndex=0;;){const s=wS.exec(r),o=wS.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){jR(n,u===void 0?new e6(a,t,e):new t6(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new n6(a),jR(n,h)),n=h}}}class ev{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);r6(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function XR(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const i6=37297;let s6=0;function o6(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function a6(t){const e=sn.getPrimaries(sn.workingColorSpace),n=sn.getPrimaries(t);let r;switch(e===n?r="":e===bp&&n===wp?r="LinearDisplayP3ToLinearSRGB":e===wp&&n===bp&&(r="LinearSRGBToLinearDisplayP3"),t){case ta:case em:return[r,"LinearTransferOETF"];case cs:case By:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function $R(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+o6(t.getShaderSource(e),o)}else return i}function l6(t,e){const n=a6(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function c6(t,e){let n;switch(e){case rF:n="Linear";break;case iF:n="Reinhard";break;case sF:n="OptimizedCineon";break;case Hw:n="ACESFilmic";break;case aF:n="AgX";break;case lF:n="Neutral";break;case oF:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function u6(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Mh).join(`
`)}function d6(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function f6(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Mh(t){return t!==""}function JR(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function KR(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const h6=/^[ \t]*#include +<([\w\d./]+)>/gm;function aM(t){return t.replace(h6,m6)}const p6=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function m6(t,e){let n=At[e];if(n===void 0){const r=p6.get(e);if(r!==void 0)n=At[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return aM(n)}const g6=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function YR(t){return t.replace(g6,v6)}function v6(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function qR(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function y6(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Ey?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Uh?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ts&&(e="SHADOWMAP_TYPE_VSM"),e}function x6(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case qo:case nl:e="ENVMAP_TYPE_CUBE";break;case tf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function _6(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case nl:e="ENVMAP_MODE_REFRACTION";break}return e}function S6(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Zp:e="ENVMAP_BLENDING_MULTIPLY";break;case tF:e="ENVMAP_BLENDING_MIX";break;case nF:e="ENVMAP_BLENDING_ADD";break}return e}function A6(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function M6(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=y6(n),u=x6(n),f=_6(n),h=S6(n),p=A6(n),m=u6(n),y=d6(s),S=i.createProgram();let x,g,A=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Mh).join(`
`),x.length>0&&(x+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Mh).join(`
`),g.length>0&&(g+=`
`)):(x=[qR(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Mh).join(`
`),g=[qR(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==so?"#define TONE_MAPPING":"",n.toneMapping!==so?At.tonemapping_pars_fragment:"",n.toneMapping!==so?c6("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",At.colorspace_pars_fragment,l6("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Mh).join(`
`)),o=aM(o),o=JR(o,n),o=KR(o,n),a=aM(a),a=JR(a,n),a=KR(a,n),o=YR(o),a=YR(a),n.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,x=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",n.glslVersion===sM?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===sM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=A+x+o,b=A+g+a,B=XR(i,i.VERTEX_SHADER,_),T=XR(i,i.FRAGMENT_SHADER,b);i.attachShader(S,B),i.attachShader(S,T),n.index0AttributeName!==void 0?i.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function R(k){if(t.debug.checkShaderErrors){const X=i.getProgramInfoLog(S).trim(),H=i.getShaderInfoLog(B).trim(),ee=i.getShaderInfoLog(T).trim();let Q=!0,de=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(Q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,S,B,T);else{const ge=$R(i,B,"vertex"),D=$R(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+X+`
`+ge+`
`+D)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):(H===""||ee==="")&&(de=!1);de&&(k.diagnostics={runnable:Q,programLog:X,vertexShader:{log:H,prefix:x},fragmentShader:{log:ee,prefix:g}})}i.deleteShader(B),i.deleteShader(T),L=new ev(i,S),P=f6(i,S)}let L;this.getUniforms=function(){return L===void 0&&R(this),L};let P;this.getAttributes=function(){return P===void 0&&R(this),P};let C=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=i.getProgramParameter(S,i6)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=s6++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=B,this.fragmentShader=T,this}let w6=0;class b6{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new C6(e),n.set(e,r)),r}}class C6{constructor(e){this.id=w6++,this.code=e,this.usedTimes=0}}function E6(t,e,n,r,i,s,o){const a=new _c,l=new b6,u=new Set,f=[],h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(P){return u.add(P),P===0?"uv":`uv${P}`}function x(P,C,k,X,H){const ee=X.fog,Q=H.geometry,de=P.isMeshStandardMaterial?X.environment:null,ge=(P.isMeshStandardMaterial?n:e).get(P.envMap||de),D=ge&&ge.mapping===tf?ge.image.height:null,j=y[P.type];P.precision!==null&&(m=i.getMaxPrecision(P.precision),m!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const W=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,ne=W!==void 0?W.length:0;let xe=0;Q.morphAttributes.position!==void 0&&(xe=1),Q.morphAttributes.normal!==void 0&&(xe=2),Q.morphAttributes.color!==void 0&&(xe=3);let we,re,Se,be;if(j){const Hn=Bs[j];we=Hn.vertexShader,re=Hn.fragmentShader}else we=P.vertexShader,re=P.fragmentShader,l.update(P),Se=l.getVertexShaderID(P),be=l.getFragmentShaderID(P);const Me=t.getRenderTarget(),rt=H.isInstancedMesh===!0,pt=H.isBatchedMesh===!0,st=!!P.map,q=!!P.matcap,ye=!!ge,pe=!!P.aoMap,Pe=!!P.lightMap,Ee=!!P.bumpMap,Te=!!P.normalMap,U=!!P.displacementMap,I=!!P.emissiveMap,te=!!P.metalnessMap,fe=!!P.roughnessMap,me=P.anisotropy>0,_e=P.clearcoat>0,Xe=P.iridescence>0,Ae=P.sheen>0,Ke=P.transmission>0,it=me&&!!P.anisotropyMap,Be=_e&&!!P.clearcoatMap,Ue=_e&&!!P.clearcoatNormalMap,ft=_e&&!!P.clearcoatRoughnessMap,Ve=Xe&&!!P.iridescenceMap,je=Xe&&!!P.iridescenceThicknessMap,wt=Ae&&!!P.sheenColorMap,Ct=Ae&&!!P.sheenRoughnessMap,Ht=!!P.specularMap,Ft=!!P.specularColorMap,kt=!!P.specularIntensityMap,$e=Ke&&!!P.transmissionMap,V=Ke&&!!P.thicknessMap,Le=!!P.gradientMap,Ie=!!P.alphaMap,qe=P.alphaTest>0,Qe=!!P.alphaHash,Zt=!!P.extensions;let Bt=so;P.toneMapped&&(Me===null||Me.isXRRenderTarget===!0)&&(Bt=t.toneMapping);const ln={shaderID:j,shaderType:P.type,shaderName:P.name,vertexShader:we,fragmentShader:re,defines:P.defines,customVertexShaderID:Se,customFragmentShaderID:be,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,batching:pt,instancing:rt,instancingColor:rt&&H.instanceColor!==null,instancingMorph:rt&&H.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Me===null?t.outputColorSpace:Me.isXRRenderTarget===!0?Me.texture.colorSpace:ta,alphaToCoverage:!!P.alphaToCoverage,map:st,matcap:q,envMap:ye,envMapMode:ye&&ge.mapping,envMapCubeUVHeight:D,aoMap:pe,lightMap:Pe,bumpMap:Ee,normalMap:Te,displacementMap:p&&U,emissiveMap:I,normalMapObjectSpace:Te&&P.normalMapType===bF,normalMapTangentSpace:Te&&P.normalMapType===hl,metalnessMap:te,roughnessMap:fe,anisotropy:me,anisotropyMap:it,clearcoat:_e,clearcoatMap:Be,clearcoatNormalMap:Ue,clearcoatRoughnessMap:ft,iridescence:Xe,iridescenceMap:Ve,iridescenceThicknessMap:je,sheen:Ae,sheenColorMap:wt,sheenRoughnessMap:Ct,specularMap:Ht,specularColorMap:Ft,specularIntensityMap:kt,transmission:Ke,transmissionMap:$e,thicknessMap:V,gradientMap:Le,opaque:P.transparent===!1&&P.blending===vc&&P.alphaToCoverage===!1,alphaMap:Ie,alphaTest:qe,alphaHash:Qe,combine:P.combine,mapUv:st&&S(P.map.channel),aoMapUv:pe&&S(P.aoMap.channel),lightMapUv:Pe&&S(P.lightMap.channel),bumpMapUv:Ee&&S(P.bumpMap.channel),normalMapUv:Te&&S(P.normalMap.channel),displacementMapUv:U&&S(P.displacementMap.channel),emissiveMapUv:I&&S(P.emissiveMap.channel),metalnessMapUv:te&&S(P.metalnessMap.channel),roughnessMapUv:fe&&S(P.roughnessMap.channel),anisotropyMapUv:it&&S(P.anisotropyMap.channel),clearcoatMapUv:Be&&S(P.clearcoatMap.channel),clearcoatNormalMapUv:Ue&&S(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ft&&S(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Ve&&S(P.iridescenceMap.channel),iridescenceThicknessMapUv:je&&S(P.iridescenceThicknessMap.channel),sheenColorMapUv:wt&&S(P.sheenColorMap.channel),sheenRoughnessMapUv:Ct&&S(P.sheenRoughnessMap.channel),specularMapUv:Ht&&S(P.specularMap.channel),specularColorMapUv:Ft&&S(P.specularColorMap.channel),specularIntensityMapUv:kt&&S(P.specularIntensityMap.channel),transmissionMapUv:$e&&S(P.transmissionMap.channel),thicknessMapUv:V&&S(P.thicknessMap.channel),alphaMapUv:Ie&&S(P.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Te||me),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:H.isPoints===!0&&!!Q.attributes.uv&&(st||Ie),fog:!!ee,useFog:P.fog===!0,fogExp2:!!ee&&ee.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:H.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:xe,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:Bt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:st&&P.map.isVideoTexture===!0&&sn.getTransfer(P.map.colorSpace)===dn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Is,flipSided:P.side===ii,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Zt&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Zt&&P.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return ln.vertexUv1s=u.has(1),ln.vertexUv2s=u.has(2),ln.vertexUv3s=u.has(3),u.clear(),ln}function g(P){const C=[];if(P.shaderID?C.push(P.shaderID):(C.push(P.customVertexShaderID),C.push(P.customFragmentShaderID)),P.defines!==void 0)for(const k in P.defines)C.push(k),C.push(P.defines[k]);return P.isRawShaderMaterial===!1&&(A(C,P),_(C,P),C.push(t.outputColorSpace)),C.push(P.customProgramCacheKey),C.join()}function A(P,C){P.push(C.precision),P.push(C.outputColorSpace),P.push(C.envMapMode),P.push(C.envMapCubeUVHeight),P.push(C.mapUv),P.push(C.alphaMapUv),P.push(C.lightMapUv),P.push(C.aoMapUv),P.push(C.bumpMapUv),P.push(C.normalMapUv),P.push(C.displacementMapUv),P.push(C.emissiveMapUv),P.push(C.metalnessMapUv),P.push(C.roughnessMapUv),P.push(C.anisotropyMapUv),P.push(C.clearcoatMapUv),P.push(C.clearcoatNormalMapUv),P.push(C.clearcoatRoughnessMapUv),P.push(C.iridescenceMapUv),P.push(C.iridescenceThicknessMapUv),P.push(C.sheenColorMapUv),P.push(C.sheenRoughnessMapUv),P.push(C.specularMapUv),P.push(C.specularColorMapUv),P.push(C.specularIntensityMapUv),P.push(C.transmissionMapUv),P.push(C.thicknessMapUv),P.push(C.combine),P.push(C.fogExp2),P.push(C.sizeAttenuation),P.push(C.morphTargetsCount),P.push(C.morphAttributeCount),P.push(C.numDirLights),P.push(C.numPointLights),P.push(C.numSpotLights),P.push(C.numSpotLightMaps),P.push(C.numHemiLights),P.push(C.numRectAreaLights),P.push(C.numDirLightShadows),P.push(C.numPointLightShadows),P.push(C.numSpotLightShadows),P.push(C.numSpotLightShadowsWithMaps),P.push(C.numLightProbes),P.push(C.shadowMapType),P.push(C.toneMapping),P.push(C.numClippingPlanes),P.push(C.numClipIntersection),P.push(C.depthPacking)}function _(P,C){a.disableAll(),C.supportsVertexTextures&&a.enable(0),C.instancing&&a.enable(1),C.instancingColor&&a.enable(2),C.instancingMorph&&a.enable(3),C.matcap&&a.enable(4),C.envMap&&a.enable(5),C.normalMapObjectSpace&&a.enable(6),C.normalMapTangentSpace&&a.enable(7),C.clearcoat&&a.enable(8),C.iridescence&&a.enable(9),C.alphaTest&&a.enable(10),C.vertexColors&&a.enable(11),C.vertexAlphas&&a.enable(12),C.vertexUv1s&&a.enable(13),C.vertexUv2s&&a.enable(14),C.vertexUv3s&&a.enable(15),C.vertexTangents&&a.enable(16),C.anisotropy&&a.enable(17),C.alphaHash&&a.enable(18),C.batching&&a.enable(19),P.push(a.mask),a.disableAll(),C.fog&&a.enable(0),C.useFog&&a.enable(1),C.flatShading&&a.enable(2),C.logarithmicDepthBuffer&&a.enable(3),C.skinning&&a.enable(4),C.morphTargets&&a.enable(5),C.morphNormals&&a.enable(6),C.morphColors&&a.enable(7),C.premultipliedAlpha&&a.enable(8),C.shadowMapEnabled&&a.enable(9),C.useLegacyLights&&a.enable(10),C.doubleSided&&a.enable(11),C.flipSided&&a.enable(12),C.useDepthPacking&&a.enable(13),C.dithering&&a.enable(14),C.transmission&&a.enable(15),C.sheen&&a.enable(16),C.opaque&&a.enable(17),C.pointsUvs&&a.enable(18),C.decodeVideoTexture&&a.enable(19),C.alphaToCoverage&&a.enable(20),P.push(a.mask)}function b(P){const C=y[P.type];let k;if(C){const X=Bs[C];k=HF.clone(X.uniforms)}else k=P.uniforms;return k}function B(P,C){let k;for(let X=0,H=f.length;X<H;X++){const ee=f[X];if(ee.cacheKey===C){k=ee,++k.usedTimes;break}}return k===void 0&&(k=new M6(t,C,P,s),f.push(k)),k}function T(P){if(--P.usedTimes===0){const C=f.indexOf(P);f[C]=f[f.length-1],f.pop(),P.destroy()}}function R(P){l.remove(P)}function L(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:b,acquireProgram:B,releaseProgram:T,releaseShaderCache:R,programs:f,dispose:L}}function T6(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function R6(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function QR(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ZR(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(h,p,m,y,S,x){let g=t[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:S,group:x},t[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=h.renderOrder,g.z=S,g.group=x),e++,g}function a(h,p,m,y,S,x){const g=o(h,p,m,y,S,x);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(h,p,m,y,S,x){const g=o(h,p,m,y,S,x);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(h,p){n.length>1&&n.sort(h||R6),r.length>1&&r.sort(p||QR),i.length>1&&i.sort(p||QR)}function f(){for(let h=e,p=t.length;h<p;h++){const m=t[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:u}}function P6(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new ZR,t.set(r,[o])):i>=s.length?(o=new ZR,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function B6(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new N,color:new De};break;case"SpotLight":n={position:new N,direction:new N,color:new De,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new N,color:new De,distance:0,decay:0};break;case"HemisphereLight":n={direction:new N,skyColor:new De,groundColor:new De};break;case"RectAreaLight":n={color:new De,position:new N,halfWidth:new N,halfHeight:new N};break}return t[e.id]=n,n}}}function I6(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let L6=0;function D6(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function F6(t){const e=new B6,n=I6(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new N);const i=new N,s=new tt,o=new tt;function a(u,f){let h=0,p=0,m=0;for(let k=0;k<9;k++)r.probe[k].set(0,0,0);let y=0,S=0,x=0,g=0,A=0,_=0,b=0,B=0,T=0,R=0,L=0;u.sort(D6);const P=f===!0?Math.PI:1;for(let k=0,X=u.length;k<X;k++){const H=u[k],ee=H.color,Q=H.intensity,de=H.distance,ge=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)h+=ee.r*Q*P,p+=ee.g*Q*P,m+=ee.b*Q*P;else if(H.isLightProbe){for(let D=0;D<9;D++)r.probe[D].addScaledVector(H.sh.coefficients[D],Q);L++}else if(H.isDirectionalLight){const D=e.get(H);if(D.color.copy(H.color).multiplyScalar(H.intensity*P),H.castShadow){const j=H.shadow,W=n.get(H);W.shadowBias=j.bias,W.shadowNormalBias=j.normalBias,W.shadowRadius=j.radius,W.shadowMapSize=j.mapSize,r.directionalShadow[y]=W,r.directionalShadowMap[y]=ge,r.directionalShadowMatrix[y]=H.shadow.matrix,_++}r.directional[y]=D,y++}else if(H.isSpotLight){const D=e.get(H);D.position.setFromMatrixPosition(H.matrixWorld),D.color.copy(ee).multiplyScalar(Q*P),D.distance=de,D.coneCos=Math.cos(H.angle),D.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),D.decay=H.decay,r.spot[x]=D;const j=H.shadow;if(H.map&&(r.spotLightMap[T]=H.map,T++,j.updateMatrices(H),H.castShadow&&R++),r.spotLightMatrix[x]=j.matrix,H.castShadow){const W=n.get(H);W.shadowBias=j.bias,W.shadowNormalBias=j.normalBias,W.shadowRadius=j.radius,W.shadowMapSize=j.mapSize,r.spotShadow[x]=W,r.spotShadowMap[x]=ge,B++}x++}else if(H.isRectAreaLight){const D=e.get(H);D.color.copy(ee).multiplyScalar(Q),D.halfWidth.set(H.width*.5,0,0),D.halfHeight.set(0,H.height*.5,0),r.rectArea[g]=D,g++}else if(H.isPointLight){const D=e.get(H);if(D.color.copy(H.color).multiplyScalar(H.intensity*P),D.distance=H.distance,D.decay=H.decay,H.castShadow){const j=H.shadow,W=n.get(H);W.shadowBias=j.bias,W.shadowNormalBias=j.normalBias,W.shadowRadius=j.radius,W.shadowMapSize=j.mapSize,W.shadowCameraNear=j.camera.near,W.shadowCameraFar=j.camera.far,r.pointShadow[S]=W,r.pointShadowMap[S]=ge,r.pointShadowMatrix[S]=H.shadow.matrix,b++}r.point[S]=D,S++}else if(H.isHemisphereLight){const D=e.get(H);D.skyColor.copy(H.color).multiplyScalar(Q*P),D.groundColor.copy(H.groundColor).multiplyScalar(Q*P),r.hemi[A]=D,A++}}g>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Fe.LTC_FLOAT_1,r.rectAreaLTC2=Fe.LTC_FLOAT_2):(r.rectAreaLTC1=Fe.LTC_HALF_1,r.rectAreaLTC2=Fe.LTC_HALF_2)),r.ambient[0]=h,r.ambient[1]=p,r.ambient[2]=m;const C=r.hash;(C.directionalLength!==y||C.pointLength!==S||C.spotLength!==x||C.rectAreaLength!==g||C.hemiLength!==A||C.numDirectionalShadows!==_||C.numPointShadows!==b||C.numSpotShadows!==B||C.numSpotMaps!==T||C.numLightProbes!==L)&&(r.directional.length=y,r.spot.length=x,r.rectArea.length=g,r.point.length=S,r.hemi.length=A,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=B,r.spotShadowMap.length=B,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=B+T-R,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=R,r.numLightProbes=L,C.directionalLength=y,C.pointLength=S,C.spotLength=x,C.rectAreaLength=g,C.hemiLength=A,C.numDirectionalShadows=_,C.numPointShadows=b,C.numSpotShadows=B,C.numSpotMaps=T,C.numLightProbes=L,r.version=L6++)}function l(u,f){let h=0,p=0,m=0,y=0,S=0;const x=f.matrixWorldInverse;for(let g=0,A=u.length;g<A;g++){const _=u[g];if(_.isDirectionalLight){const b=r.directional[h];b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(x),h++}else if(_.isSpotLight){const b=r.spot[m];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(x),b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(x),m++}else if(_.isRectAreaLight){const b=r.rectArea[y];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(x),o.identity(),s.copy(_.matrixWorld),s.premultiply(x),o.extractRotation(s),b.halfWidth.set(_.width*.5,0,0),b.halfHeight.set(0,_.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),y++}else if(_.isPointLight){const b=r.point[p];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(x),p++}else if(_.isHemisphereLight){const b=r.hemi[S];b.direction.setFromMatrixPosition(_.matrixWorld),b.direction.transformDirection(x),S++}}}return{setup:a,setupView:l,state:r}}function eP(t){const e=new F6(t),n=[],r=[];function i(){n.length=0,r.length=0}function s(f){n.push(f)}function o(f){r.push(f)}function a(f){e.setup(n,f)}function l(f){e.setupView(n,f)}return{init:i,state:{lightsArray:n,shadowsArray:r,lights:e,transmissionRenderTarget:null},setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function k6(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new eP(t),e.set(i,[a])):s>=o.length?(a=new eP(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class ob extends $n{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=MF,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ab extends $n{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const N6=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,O6=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function U6(t,e,n){let r=new rm;const i=new ve,s=new ve,o=new Vt,a=new ob({depthPacking:wF}),l=new ab,u={},f=n.maxTextureSize,h={[ho]:ii,[ii]:ho,[Is]:Is},p=new Us({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ve},radius:{value:4}},vertexShader:N6,fragmentShader:O6}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new xt;y.setAttribute("position",new zt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new On(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ey;let g=this.type;this.render=function(T,R,L){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||T.length===0)return;const P=t.getRenderTarget(),C=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),X=t.state;X.setBlending(Go),X.buffers.color.setClear(1,1,1,1),X.buffers.depth.setTest(!0),X.setScissorTest(!1);const H=g!==Ts&&this.type===Ts,ee=g===Ts&&this.type!==Ts;for(let Q=0,de=T.length;Q<de;Q++){const ge=T[Q],D=ge.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",ge,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;i.copy(D.mapSize);const j=D.getFrameExtents();if(i.multiply(j),s.copy(D.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/j.x),i.x=s.x*j.x,D.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/j.y),i.y=s.y*j.y,D.mapSize.y=s.y)),D.map===null||H===!0||ee===!0){const ne=this.type!==Ts?{minFilter:er,magFilter:er}:{};D.map!==null&&D.map.dispose(),D.map=new Os(i.x,i.y,ne),D.map.texture.name=ge.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const W=D.getViewportCount();for(let ne=0;ne<W;ne++){const xe=D.getViewport(ne);o.set(s.x*xe.x,s.y*xe.y,s.x*xe.z,s.y*xe.w),X.viewport(o),D.updateMatrices(ge,ne),r=D.getFrustum(),b(R,L,D.camera,ge,this.type)}D.isPointLightShadow!==!0&&this.type===Ts&&A(D,L),D.needsUpdate=!1}g=this.type,x.needsUpdate=!1,t.setRenderTarget(P,C,k)};function A(T,R){const L=e.update(S);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Os(i.x,i.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(R,null,L,p,S,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(R,null,L,m,S,null)}function _(T,R,L,P){let C=null;const k=L.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(k!==void 0)C=k;else if(C=L.isPointLight===!0?l:a,t.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const X=C.uuid,H=R.uuid;let ee=u[X];ee===void 0&&(ee={},u[X]=ee);let Q=ee[H];Q===void 0&&(Q=C.clone(),ee[H]=Q,R.addEventListener("dispose",B)),C=Q}if(C.visible=R.visible,C.wireframe=R.wireframe,P===Ts?C.side=R.shadowSide!==null?R.shadowSide:R.side:C.side=R.shadowSide!==null?R.shadowSide:h[R.side],C.alphaMap=R.alphaMap,C.alphaTest=R.alphaTest,C.map=R.map,C.clipShadows=R.clipShadows,C.clippingPlanes=R.clippingPlanes,C.clipIntersection=R.clipIntersection,C.displacementMap=R.displacementMap,C.displacementScale=R.displacementScale,C.displacementBias=R.displacementBias,C.wireframeLinewidth=R.wireframeLinewidth,C.linewidth=R.linewidth,L.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const X=t.properties.get(C);X.light=L}return C}function b(T,R,L,P,C){if(T.visible===!1)return;if(T.layers.test(R.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&C===Ts)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,T.matrixWorld);const H=e.update(T),ee=T.material;if(Array.isArray(ee)){const Q=H.groups;for(let de=0,ge=Q.length;de<ge;de++){const D=Q[de],j=ee[D.materialIndex];if(j&&j.visible){const W=_(T,j,P,C);T.onBeforeShadow(t,T,R,L,H,W,D),t.renderBufferDirect(L,null,H,W,T,D),T.onAfterShadow(t,T,R,L,H,W,D)}}}else if(ee.visible){const Q=_(T,ee,P,C);T.onBeforeShadow(t,T,R,L,H,Q,null),t.renderBufferDirect(L,null,H,Q,T,null),T.onAfterShadow(t,T,R,L,H,Q,null)}}const X=T.children;for(let H=0,ee=X.length;H<ee;H++)b(X[H],R,L,P,C)}function B(T){T.target.removeEventListener("dispose",B);for(const L in u){const P=u[L],C=T.target.uuid;C in P&&(P[C].dispose(),delete P[C])}}}function z6(t){function e(){let V=!1;const Le=new Vt;let Ie=null;const qe=new Vt(0,0,0,0);return{setMask:function(Qe){Ie!==Qe&&!V&&(t.colorMask(Qe,Qe,Qe,Qe),Ie=Qe)},setLocked:function(Qe){V=Qe},setClear:function(Qe,Zt,Bt,ln,Hn){Hn===!0&&(Qe*=ln,Zt*=ln,Bt*=ln),Le.set(Qe,Zt,Bt,ln),qe.equals(Le)===!1&&(t.clearColor(Qe,Zt,Bt,ln),qe.copy(Le))},reset:function(){V=!1,Ie=null,qe.set(-1,0,0,0)}}}function n(){let V=!1,Le=null,Ie=null,qe=null;return{setTest:function(Qe){Qe?be(t.DEPTH_TEST):Me(t.DEPTH_TEST)},setMask:function(Qe){Le!==Qe&&!V&&(t.depthMask(Qe),Le=Qe)},setFunc:function(Qe){if(Ie!==Qe){switch(Qe){case J3:t.depthFunc(t.NEVER);break;case K3:t.depthFunc(t.ALWAYS);break;case Y3:t.depthFunc(t.LESS);break;case yp:t.depthFunc(t.LEQUAL);break;case q3:t.depthFunc(t.EQUAL);break;case Q3:t.depthFunc(t.GEQUAL);break;case Z3:t.depthFunc(t.GREATER);break;case eF:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ie=Qe}},setLocked:function(Qe){V=Qe},setClear:function(Qe){qe!==Qe&&(t.clearDepth(Qe),qe=Qe)},reset:function(){V=!1,Le=null,Ie=null,qe=null}}}function r(){let V=!1,Le=null,Ie=null,qe=null,Qe=null,Zt=null,Bt=null,ln=null,Hn=null;return{setTest:function(en){V||(en?be(t.STENCIL_TEST):Me(t.STENCIL_TEST))},setMask:function(en){Le!==en&&!V&&(t.stencilMask(en),Le=en)},setFunc:function(en,Xr,$r){(Ie!==en||qe!==Xr||Qe!==$r)&&(t.stencilFunc(en,Xr,$r),Ie=en,qe=Xr,Qe=$r)},setOp:function(en,Xr,$r){(Zt!==en||Bt!==Xr||ln!==$r)&&(t.stencilOp(en,Xr,$r),Zt=en,Bt=Xr,ln=$r)},setLocked:function(en){V=en},setClear:function(en){Hn!==en&&(t.clearStencil(en),Hn=en)},reset:function(){V=!1,Le=null,Ie=null,qe=null,Qe=null,Zt=null,Bt=null,ln=null,Hn=null}}}const i=new e,s=new n,o=new r,a=new WeakMap,l=new WeakMap;let u={},f={},h=new WeakMap,p=[],m=null,y=!1,S=null,x=null,g=null,A=null,_=null,b=null,B=null,T=new De(0,0,0),R=0,L=!1,P=null,C=null,k=null,X=null,H=null;const ee=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,de=0;const ge=t.getParameter(t.VERSION);ge.indexOf("WebGL")!==-1?(de=parseFloat(/^WebGL (\d)/.exec(ge)[1]),Q=de>=1):ge.indexOf("OpenGL ES")!==-1&&(de=parseFloat(/^OpenGL ES (\d)/.exec(ge)[1]),Q=de>=2);let D=null,j={};const W=t.getParameter(t.SCISSOR_BOX),ne=t.getParameter(t.VIEWPORT),xe=new Vt().fromArray(W),we=new Vt().fromArray(ne);function re(V,Le,Ie,qe){const Qe=new Uint8Array(4),Zt=t.createTexture();t.bindTexture(V,Zt),t.texParameteri(V,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(V,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Bt=0;Bt<Ie;Bt++)V===t.TEXTURE_3D||V===t.TEXTURE_2D_ARRAY?t.texImage3D(Le,0,t.RGBA,1,1,qe,0,t.RGBA,t.UNSIGNED_BYTE,Qe):t.texImage2D(Le+Bt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Qe);return Zt}const Se={};Se[t.TEXTURE_2D]=re(t.TEXTURE_2D,t.TEXTURE_2D,1),Se[t.TEXTURE_CUBE_MAP]=re(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Se[t.TEXTURE_2D_ARRAY]=re(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Se[t.TEXTURE_3D]=re(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),s.setClear(1),o.setClear(0),be(t.DEPTH_TEST),s.setFunc(yp),Ee(!1),Te(TA),be(t.CULL_FACE),pe(Go);function be(V){u[V]!==!0&&(t.enable(V),u[V]=!0)}function Me(V){u[V]!==!1&&(t.disable(V),u[V]=!1)}function rt(V,Le){return f[V]!==Le?(t.bindFramebuffer(V,Le),f[V]=Le,V===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Le),V===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Le),!0):!1}function pt(V,Le){let Ie=p,qe=!1;if(V){Ie=h.get(Le),Ie===void 0&&(Ie=[],h.set(Le,Ie));const Qe=V.textures;if(Ie.length!==Qe.length||Ie[0]!==t.COLOR_ATTACHMENT0){for(let Zt=0,Bt=Qe.length;Zt<Bt;Zt++)Ie[Zt]=t.COLOR_ATTACHMENT0+Zt;Ie.length=Qe.length,qe=!0}}else Ie[0]!==t.BACK&&(Ie[0]=t.BACK,qe=!0);qe&&t.drawBuffers(Ie)}function st(V){return m!==V?(t.useProgram(V),m=V,!0):!1}const q={[Oa]:t.FUNC_ADD,[B3]:t.FUNC_SUBTRACT,[I3]:t.FUNC_REVERSE_SUBTRACT};q[L3]=t.MIN,q[D3]=t.MAX;const ye={[F3]:t.ZERO,[k3]:t.ONE,[N3]:t.SRC_COLOR,[Gv]:t.SRC_ALPHA,[V3]:t.SRC_ALPHA_SATURATE,[H3]:t.DST_COLOR,[U3]:t.DST_ALPHA,[O3]:t.ONE_MINUS_SRC_COLOR,[Vv]:t.ONE_MINUS_SRC_ALPHA,[G3]:t.ONE_MINUS_DST_COLOR,[z3]:t.ONE_MINUS_DST_ALPHA,[W3]:t.CONSTANT_COLOR,[j3]:t.ONE_MINUS_CONSTANT_COLOR,[X3]:t.CONSTANT_ALPHA,[$3]:t.ONE_MINUS_CONSTANT_ALPHA};function pe(V,Le,Ie,qe,Qe,Zt,Bt,ln,Hn,en){if(V===Go){y===!0&&(Me(t.BLEND),y=!1);return}if(y===!1&&(be(t.BLEND),y=!0),V!==P3){if(V!==S||en!==L){if((x!==Oa||_!==Oa)&&(t.blendEquation(t.FUNC_ADD),x=Oa,_=Oa),en)switch(V){case vc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case RA:t.blendFunc(t.ONE,t.ONE);break;case PA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case BA:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}else switch(V){case vc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case RA:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case PA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case BA:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}g=null,A=null,b=null,B=null,T.set(0,0,0),R=0,S=V,L=en}return}Qe=Qe||Le,Zt=Zt||Ie,Bt=Bt||qe,(Le!==x||Qe!==_)&&(t.blendEquationSeparate(q[Le],q[Qe]),x=Le,_=Qe),(Ie!==g||qe!==A||Zt!==b||Bt!==B)&&(t.blendFuncSeparate(ye[Ie],ye[qe],ye[Zt],ye[Bt]),g=Ie,A=qe,b=Zt,B=Bt),(ln.equals(T)===!1||Hn!==R)&&(t.blendColor(ln.r,ln.g,ln.b,Hn),T.copy(ln),R=Hn),S=V,L=!1}function Pe(V,Le){V.side===Is?Me(t.CULL_FACE):be(t.CULL_FACE);let Ie=V.side===ii;Le&&(Ie=!Ie),Ee(Ie),V.blending===vc&&V.transparent===!1?pe(Go):pe(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.blendColor,V.blendAlpha,V.premultipliedAlpha),s.setFunc(V.depthFunc),s.setTest(V.depthTest),s.setMask(V.depthWrite),i.setMask(V.colorWrite);const qe=V.stencilWrite;o.setTest(qe),qe&&(o.setMask(V.stencilWriteMask),o.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),o.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),I(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),V.alphaToCoverage===!0?be(t.SAMPLE_ALPHA_TO_COVERAGE):Me(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ee(V){P!==V&&(V?t.frontFace(t.CW):t.frontFace(t.CCW),P=V)}function Te(V){V!==E3?(be(t.CULL_FACE),V!==C&&(V===TA?t.cullFace(t.BACK):V===T3?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Me(t.CULL_FACE),C=V}function U(V){V!==k&&(Q&&t.lineWidth(V),k=V)}function I(V,Le,Ie){V?(be(t.POLYGON_OFFSET_FILL),(X!==Le||H!==Ie)&&(t.polygonOffset(Le,Ie),X=Le,H=Ie)):Me(t.POLYGON_OFFSET_FILL)}function te(V){V?be(t.SCISSOR_TEST):Me(t.SCISSOR_TEST)}function fe(V){V===void 0&&(V=t.TEXTURE0+ee-1),D!==V&&(t.activeTexture(V),D=V)}function me(V,Le,Ie){Ie===void 0&&(D===null?Ie=t.TEXTURE0+ee-1:Ie=D);let qe=j[Ie];qe===void 0&&(qe={type:void 0,texture:void 0},j[Ie]=qe),(qe.type!==V||qe.texture!==Le)&&(D!==Ie&&(t.activeTexture(Ie),D=Ie),t.bindTexture(V,Le||Se[V]),qe.type=V,qe.texture=Le)}function _e(){const V=j[D];V!==void 0&&V.type!==void 0&&(t.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)}function Xe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ae(){try{t.compressedTexImage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ke(){try{t.texSubImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function it(){try{t.texSubImage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Be(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ue(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function ft(){try{t.texStorage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ve(){try{t.texStorage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function je(){try{t.texImage2D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function wt(){try{t.texImage3D.apply(t,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ct(V){xe.equals(V)===!1&&(t.scissor(V.x,V.y,V.z,V.w),xe.copy(V))}function Ht(V){we.equals(V)===!1&&(t.viewport(V.x,V.y,V.z,V.w),we.copy(V))}function Ft(V,Le){let Ie=l.get(Le);Ie===void 0&&(Ie=new WeakMap,l.set(Le,Ie));let qe=Ie.get(V);qe===void 0&&(qe=t.getUniformBlockIndex(Le,V.name),Ie.set(V,qe))}function kt(V,Le){const qe=l.get(Le).get(V);a.get(Le)!==qe&&(t.uniformBlockBinding(Le,qe,V.__bindingPointIndex),a.set(Le,qe))}function $e(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},D=null,j={},f={},h=new WeakMap,p=[],m=null,y=!1,S=null,x=null,g=null,A=null,_=null,b=null,B=null,T=new De(0,0,0),R=0,L=!1,P=null,C=null,k=null,X=null,H=null,xe.set(0,0,t.canvas.width,t.canvas.height),we.set(0,0,t.canvas.width,t.canvas.height),i.reset(),s.reset(),o.reset()}return{buffers:{color:i,depth:s,stencil:o},enable:be,disable:Me,bindFramebuffer:rt,drawBuffers:pt,useProgram:st,setBlending:pe,setMaterial:Pe,setFlipSided:Ee,setCullFace:Te,setLineWidth:U,setPolygonOffset:I,setScissorTest:te,activeTexture:fe,bindTexture:me,unbindTexture:_e,compressedTexImage2D:Xe,compressedTexImage3D:Ae,texImage2D:je,texImage3D:wt,updateUBOMapping:Ft,uniformBlockBinding:kt,texStorage2D:ft,texStorage3D:Ve,texSubImage2D:Ke,texSubImage3D:it,compressedTexSubImage2D:Be,compressedTexSubImage3D:Ue,scissor:Ct,viewport:Ht,reset:$e}}function H6(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new ve,f=new WeakMap;let h;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(U,I){return m?new OffscreenCanvas(U,I):Tp("canvas")}function S(U,I,te){let fe=1;const me=Te(U);if((me.width>te||me.height>te)&&(fe=te/Math.max(me.width,me.height)),fe<1)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap||typeof VideoFrame<"u"&&U instanceof VideoFrame){const _e=Math.floor(fe*me.width),Xe=Math.floor(fe*me.height);h===void 0&&(h=y(_e,Xe));const Ae=I?y(_e,Xe):h;return Ae.width=_e,Ae.height=Xe,Ae.getContext("2d").drawImage(U,0,0,_e,Xe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+me.width+"x"+me.height+") to ("+_e+"x"+Xe+")."),Ae}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+me.width+"x"+me.height+")."),U;return U}function x(U){return U.generateMipmaps&&U.minFilter!==er&&U.minFilter!==In}function g(U){t.generateMipmap(U)}function A(U,I,te,fe,me=!1){if(U!==null){if(t[U]!==void 0)return t[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let _e=I;if(I===t.RED&&(te===t.FLOAT&&(_e=t.R32F),te===t.HALF_FLOAT&&(_e=t.R16F),te===t.UNSIGNED_BYTE&&(_e=t.R8)),I===t.RED_INTEGER&&(te===t.UNSIGNED_BYTE&&(_e=t.R8UI),te===t.UNSIGNED_SHORT&&(_e=t.R16UI),te===t.UNSIGNED_INT&&(_e=t.R32UI),te===t.BYTE&&(_e=t.R8I),te===t.SHORT&&(_e=t.R16I),te===t.INT&&(_e=t.R32I)),I===t.RG&&(te===t.FLOAT&&(_e=t.RG32F),te===t.HALF_FLOAT&&(_e=t.RG16F),te===t.UNSIGNED_BYTE&&(_e=t.RG8)),I===t.RG_INTEGER&&(te===t.UNSIGNED_BYTE&&(_e=t.RG8UI),te===t.UNSIGNED_SHORT&&(_e=t.RG16UI),te===t.UNSIGNED_INT&&(_e=t.RG32UI),te===t.BYTE&&(_e=t.RG8I),te===t.SHORT&&(_e=t.RG16I),te===t.INT&&(_e=t.RG32I)),I===t.RGB&&te===t.UNSIGNED_INT_5_9_9_9_REV&&(_e=t.RGB9_E5),I===t.RGBA){const Xe=me?Mp:sn.getTransfer(fe);te===t.FLOAT&&(_e=t.RGBA32F),te===t.HALF_FLOAT&&(_e=t.RGBA16F),te===t.UNSIGNED_BYTE&&(_e=Xe===dn?t.SRGB8_ALPHA8:t.RGBA8),te===t.UNSIGNED_SHORT_4_4_4_4&&(_e=t.RGBA4),te===t.UNSIGNED_SHORT_5_5_5_1&&(_e=t.RGB5_A1)}return(_e===t.R16F||_e===t.R32F||_e===t.RG16F||_e===t.RG32F||_e===t.RGBA16F||_e===t.RGBA32F)&&e.get("EXT_color_buffer_float"),_e}function _(U,I){return x(U)===!0||U.isFramebufferTexture&&U.minFilter!==er&&U.minFilter!==In?Math.log2(Math.max(I.width,I.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?I.mipmaps.length:1}function b(U){const I=U.target;I.removeEventListener("dispose",b),T(I),I.isVideoTexture&&f.delete(I)}function B(U){const I=U.target;I.removeEventListener("dispose",B),L(I)}function T(U){const I=r.get(U);if(I.__webglInit===void 0)return;const te=U.source,fe=p.get(te);if(fe){const me=fe[I.__cacheKey];me.usedTimes--,me.usedTimes===0&&R(U),Object.keys(fe).length===0&&p.delete(te)}r.remove(U)}function R(U){const I=r.get(U);t.deleteTexture(I.__webglTexture);const te=U.source,fe=p.get(te);delete fe[I.__cacheKey],o.memory.textures--}function L(U){const I=r.get(U);if(U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let fe=0;fe<6;fe++){if(Array.isArray(I.__webglFramebuffer[fe]))for(let me=0;me<I.__webglFramebuffer[fe].length;me++)t.deleteFramebuffer(I.__webglFramebuffer[fe][me]);else t.deleteFramebuffer(I.__webglFramebuffer[fe]);I.__webglDepthbuffer&&t.deleteRenderbuffer(I.__webglDepthbuffer[fe])}else{if(Array.isArray(I.__webglFramebuffer))for(let fe=0;fe<I.__webglFramebuffer.length;fe++)t.deleteFramebuffer(I.__webglFramebuffer[fe]);else t.deleteFramebuffer(I.__webglFramebuffer);if(I.__webglDepthbuffer&&t.deleteRenderbuffer(I.__webglDepthbuffer),I.__webglMultisampledFramebuffer&&t.deleteFramebuffer(I.__webglMultisampledFramebuffer),I.__webglColorRenderbuffer)for(let fe=0;fe<I.__webglColorRenderbuffer.length;fe++)I.__webglColorRenderbuffer[fe]&&t.deleteRenderbuffer(I.__webglColorRenderbuffer[fe]);I.__webglDepthRenderbuffer&&t.deleteRenderbuffer(I.__webglDepthRenderbuffer)}const te=U.textures;for(let fe=0,me=te.length;fe<me;fe++){const _e=r.get(te[fe]);_e.__webglTexture&&(t.deleteTexture(_e.__webglTexture),o.memory.textures--),r.remove(te[fe])}r.remove(U)}let P=0;function C(){P=0}function k(){const U=P;return U>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+i.maxTextures),P+=1,U}function X(U){const I=[];return I.push(U.wrapS),I.push(U.wrapT),I.push(U.wrapR||0),I.push(U.magFilter),I.push(U.minFilter),I.push(U.anisotropy),I.push(U.internalFormat),I.push(U.format),I.push(U.type),I.push(U.generateMipmaps),I.push(U.premultiplyAlpha),I.push(U.flipY),I.push(U.unpackAlignment),I.push(U.colorSpace),I.join()}function H(U,I){const te=r.get(U);if(U.isVideoTexture&&Pe(U),U.isRenderTargetTexture===!1&&U.version>0&&te.__version!==U.version){const fe=U.image;if(fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{xe(te,U,I);return}}n.bindTexture(t.TEXTURE_2D,te.__webglTexture,t.TEXTURE0+I)}function ee(U,I){const te=r.get(U);if(U.version>0&&te.__version!==U.version){xe(te,U,I);return}n.bindTexture(t.TEXTURE_2D_ARRAY,te.__webglTexture,t.TEXTURE0+I)}function Q(U,I){const te=r.get(U);if(U.version>0&&te.__version!==U.version){xe(te,U,I);return}n.bindTexture(t.TEXTURE_3D,te.__webglTexture,t.TEXTURE0+I)}function de(U,I){const te=r.get(U);if(U.version>0&&te.__version!==U.version){we(te,U,I);return}n.bindTexture(t.TEXTURE_CUBE_MAP,te.__webglTexture,t.TEXTURE0+I)}const ge={[rl]:t.REPEAT,[Di]:t.CLAMP_TO_EDGE,[Od]:t.MIRRORED_REPEAT},D={[er]:t.NEAREST,[Ry]:t.NEAREST_MIPMAP_NEAREST,[ac]:t.NEAREST_MIPMAP_LINEAR,[In]:t.LINEAR,[Sd]:t.LINEAR_MIPMAP_NEAREST,[hs]:t.LINEAR_MIPMAP_LINEAR},j={[CF]:t.NEVER,[IF]:t.ALWAYS,[EF]:t.LESS,[Zw]:t.LEQUAL,[TF]:t.EQUAL,[BF]:t.GEQUAL,[RF]:t.GREATER,[PF]:t.NOTEQUAL};function W(U,I){if(I.type===ps&&e.has("OES_texture_float_linear")===!1&&(I.magFilter===In||I.magFilter===Sd||I.magFilter===ac||I.magFilter===hs||I.minFilter===In||I.minFilter===Sd||I.minFilter===ac||I.minFilter===hs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(U,t.TEXTURE_WRAP_S,ge[I.wrapS]),t.texParameteri(U,t.TEXTURE_WRAP_T,ge[I.wrapT]),(U===t.TEXTURE_3D||U===t.TEXTURE_2D_ARRAY)&&t.texParameteri(U,t.TEXTURE_WRAP_R,ge[I.wrapR]),t.texParameteri(U,t.TEXTURE_MAG_FILTER,D[I.magFilter]),t.texParameteri(U,t.TEXTURE_MIN_FILTER,D[I.minFilter]),I.compareFunction&&(t.texParameteri(U,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(U,t.TEXTURE_COMPARE_FUNC,j[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(I.magFilter===er||I.minFilter!==ac&&I.minFilter!==hs||I.type===ps&&e.has("OES_texture_float_linear")===!1)return;if(I.anisotropy>1||r.get(I).__currentAnisotropy){const te=e.get("EXT_texture_filter_anisotropic");t.texParameterf(U,te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,i.getMaxAnisotropy())),r.get(I).__currentAnisotropy=I.anisotropy}}}function ne(U,I){let te=!1;U.__webglInit===void 0&&(U.__webglInit=!0,I.addEventListener("dispose",b));const fe=I.source;let me=p.get(fe);me===void 0&&(me={},p.set(fe,me));const _e=X(I);if(_e!==U.__cacheKey){me[_e]===void 0&&(me[_e]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,te=!0),me[_e].usedTimes++;const Xe=me[U.__cacheKey];Xe!==void 0&&(me[U.__cacheKey].usedTimes--,Xe.usedTimes===0&&R(I)),U.__cacheKey=_e,U.__webglTexture=me[_e].texture}return te}function xe(U,I,te){let fe=t.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(fe=t.TEXTURE_2D_ARRAY),I.isData3DTexture&&(fe=t.TEXTURE_3D);const me=ne(U,I),_e=I.source;n.bindTexture(fe,U.__webglTexture,t.TEXTURE0+te);const Xe=r.get(_e);if(_e.version!==Xe.__version||me===!0){n.activeTexture(t.TEXTURE0+te);const Ae=sn.getPrimaries(sn.workingColorSpace),Ke=I.colorSpace===Bo?null:sn.getPrimaries(I.colorSpace),it=I.colorSpace===Bo||Ae===Ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,I.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,I.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,it);let Be=S(I.image,!1,i.maxTextureSize);Be=Ee(I,Be);const Ue=s.convert(I.format,I.colorSpace),ft=s.convert(I.type);let Ve=A(I.internalFormat,Ue,ft,I.colorSpace,I.isVideoTexture);W(fe,I);let je;const wt=I.mipmaps,Ct=I.isVideoTexture!==!0&&Ve!==Yw,Ht=Xe.__version===void 0||me===!0,Ft=_e.dataReady,kt=_(I,Be);if(I.isDepthTexture)Ve=t.DEPTH_COMPONENT16,I.type===ps?Ve=t.DEPTH_COMPONENT32F:I.type===Bc?Ve=t.DEPTH_COMPONENT24:I.type===nf&&(Ve=t.DEPTH24_STENCIL8),Ht&&(Ct?n.texStorage2D(t.TEXTURE_2D,1,Ve,Be.width,Be.height):n.texImage2D(t.TEXTURE_2D,0,Ve,Be.width,Be.height,0,Ue,ft,null));else if(I.isDataTexture)if(wt.length>0){Ct&&Ht&&n.texStorage2D(t.TEXTURE_2D,kt,Ve,wt[0].width,wt[0].height);for(let $e=0,V=wt.length;$e<V;$e++)je=wt[$e],Ct?Ft&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,je.width,je.height,Ue,ft,je.data):n.texImage2D(t.TEXTURE_2D,$e,Ve,je.width,je.height,0,Ue,ft,je.data);I.generateMipmaps=!1}else Ct?(Ht&&n.texStorage2D(t.TEXTURE_2D,kt,Ve,Be.width,Be.height),Ft&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Be.width,Be.height,Ue,ft,Be.data)):n.texImage2D(t.TEXTURE_2D,0,Ve,Be.width,Be.height,0,Ue,ft,Be.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){Ct&&Ht&&n.texStorage3D(t.TEXTURE_2D_ARRAY,kt,Ve,wt[0].width,wt[0].height,Be.depth);for(let $e=0,V=wt.length;$e<V;$e++)je=wt[$e],I.format!==mi?Ue!==null?Ct?Ft&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,0,je.width,je.height,Be.depth,Ue,je.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,$e,Ve,je.width,je.height,Be.depth,0,je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ct?Ft&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,0,je.width,je.height,Be.depth,Ue,ft,je.data):n.texImage3D(t.TEXTURE_2D_ARRAY,$e,Ve,je.width,je.height,Be.depth,0,Ue,ft,je.data)}else{Ct&&Ht&&n.texStorage2D(t.TEXTURE_2D,kt,Ve,wt[0].width,wt[0].height);for(let $e=0,V=wt.length;$e<V;$e++)je=wt[$e],I.format!==mi?Ue!==null?Ct?Ft&&n.compressedTexSubImage2D(t.TEXTURE_2D,$e,0,0,je.width,je.height,Ue,je.data):n.compressedTexImage2D(t.TEXTURE_2D,$e,Ve,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ct?Ft&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,je.width,je.height,Ue,ft,je.data):n.texImage2D(t.TEXTURE_2D,$e,Ve,je.width,je.height,0,Ue,ft,je.data)}else if(I.isDataArrayTexture)Ct?(Ht&&n.texStorage3D(t.TEXTURE_2D_ARRAY,kt,Ve,Be.width,Be.height,Be.depth),Ft&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Be.width,Be.height,Be.depth,Ue,ft,Be.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ve,Be.width,Be.height,Be.depth,0,Ue,ft,Be.data);else if(I.isData3DTexture)Ct?(Ht&&n.texStorage3D(t.TEXTURE_3D,kt,Ve,Be.width,Be.height,Be.depth),Ft&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Be.width,Be.height,Be.depth,Ue,ft,Be.data)):n.texImage3D(t.TEXTURE_3D,0,Ve,Be.width,Be.height,Be.depth,0,Ue,ft,Be.data);else if(I.isFramebufferTexture){if(Ht)if(Ct)n.texStorage2D(t.TEXTURE_2D,kt,Ve,Be.width,Be.height);else{let $e=Be.width,V=Be.height;for(let Le=0;Le<kt;Le++)n.texImage2D(t.TEXTURE_2D,Le,Ve,$e,V,0,Ue,ft,null),$e>>=1,V>>=1}}else if(wt.length>0){if(Ct&&Ht){const $e=Te(wt[0]);n.texStorage2D(t.TEXTURE_2D,kt,Ve,$e.width,$e.height)}for(let $e=0,V=wt.length;$e<V;$e++)je=wt[$e],Ct?Ft&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,Ue,ft,je):n.texImage2D(t.TEXTURE_2D,$e,Ve,Ue,ft,je);I.generateMipmaps=!1}else if(Ct){if(Ht){const $e=Te(Be);n.texStorage2D(t.TEXTURE_2D,kt,Ve,$e.width,$e.height)}Ft&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ue,ft,Be)}else n.texImage2D(t.TEXTURE_2D,0,Ve,Ue,ft,Be);x(I)&&g(fe),Xe.__version=_e.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function we(U,I,te){if(I.image.length!==6)return;const fe=ne(U,I),me=I.source;n.bindTexture(t.TEXTURE_CUBE_MAP,U.__webglTexture,t.TEXTURE0+te);const _e=r.get(me);if(me.version!==_e.__version||fe===!0){n.activeTexture(t.TEXTURE0+te);const Xe=sn.getPrimaries(sn.workingColorSpace),Ae=I.colorSpace===Bo?null:sn.getPrimaries(I.colorSpace),Ke=I.colorSpace===Bo||Xe===Ae?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,I.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,I.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ke);const it=I.isCompressedTexture||I.image[0].isCompressedTexture,Be=I.image[0]&&I.image[0].isDataTexture,Ue=[];for(let V=0;V<6;V++)!it&&!Be?Ue[V]=S(I.image[V],!0,i.maxCubemapSize):Ue[V]=Be?I.image[V].image:I.image[V],Ue[V]=Ee(I,Ue[V]);const ft=Ue[0],Ve=s.convert(I.format,I.colorSpace),je=s.convert(I.type),wt=A(I.internalFormat,Ve,je,I.colorSpace),Ct=I.isVideoTexture!==!0,Ht=_e.__version===void 0||fe===!0,Ft=me.dataReady;let kt=_(I,ft);W(t.TEXTURE_CUBE_MAP,I);let $e;if(it){Ct&&Ht&&n.texStorage2D(t.TEXTURE_CUBE_MAP,kt,wt,ft.width,ft.height);for(let V=0;V<6;V++){$e=Ue[V].mipmaps;for(let Le=0;Le<$e.length;Le++){const Ie=$e[Le];I.format!==mi?Ve!==null?Ct?Ft&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,Le,0,0,Ie.width,Ie.height,Ve,Ie.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,Le,wt,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ct?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,Le,0,0,Ie.width,Ie.height,Ve,je,Ie.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,Le,wt,Ie.width,Ie.height,0,Ve,je,Ie.data)}}}else{if($e=I.mipmaps,Ct&&Ht){$e.length>0&&kt++;const V=Te(Ue[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,kt,wt,V.width,V.height)}for(let V=0;V<6;V++)if(Be){Ct?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,0,0,0,Ue[V].width,Ue[V].height,Ve,je,Ue[V].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,0,wt,Ue[V].width,Ue[V].height,0,Ve,je,Ue[V].data);for(let Le=0;Le<$e.length;Le++){const qe=$e[Le].image[V].image;Ct?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,Le+1,0,0,qe.width,qe.height,Ve,je,qe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,Le+1,wt,qe.width,qe.height,0,Ve,je,qe.data)}}else{Ct?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,0,0,0,Ve,je,Ue[V]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,0,wt,Ve,je,Ue[V]);for(let Le=0;Le<$e.length;Le++){const Ie=$e[Le];Ct?Ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,Le+1,0,0,Ve,je,Ie.image[V]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+V,Le+1,wt,Ve,je,Ie.image[V])}}}x(I)&&g(t.TEXTURE_CUBE_MAP),_e.__version=me.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function re(U,I,te,fe,me,_e){const Xe=s.convert(te.format,te.colorSpace),Ae=s.convert(te.type),Ke=A(te.internalFormat,Xe,Ae,te.colorSpace);if(!r.get(I).__hasExternalTextures){const Be=Math.max(1,I.width>>_e),Ue=Math.max(1,I.height>>_e);me===t.TEXTURE_3D||me===t.TEXTURE_2D_ARRAY?n.texImage3D(me,_e,Ke,Be,Ue,I.depth,0,Xe,Ae,null):n.texImage2D(me,_e,Ke,Be,Ue,0,Xe,Ae,null)}n.bindFramebuffer(t.FRAMEBUFFER,U),pe(I)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,fe,me,r.get(te).__webglTexture,0,ye(I)):(me===t.TEXTURE_2D||me>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&me<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,fe,me,r.get(te).__webglTexture,_e),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Se(U,I,te){if(t.bindRenderbuffer(t.RENDERBUFFER,U),I.depthBuffer&&!I.stencilBuffer){let fe=t.DEPTH_COMPONENT24;if(te||pe(I)){const me=I.depthTexture;me&&me.isDepthTexture&&(me.type===ps?fe=t.DEPTH_COMPONENT32F:me.type===Bc&&(fe=t.DEPTH_COMPONENT24));const _e=ye(I);pe(I)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_e,fe,I.width,I.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,_e,fe,I.width,I.height)}else t.renderbufferStorage(t.RENDERBUFFER,fe,I.width,I.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,U)}else if(I.depthBuffer&&I.stencilBuffer){const fe=ye(I);te&&pe(I)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,fe,t.DEPTH24_STENCIL8,I.width,I.height):pe(I)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,fe,t.DEPTH24_STENCIL8,I.width,I.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,I.width,I.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,U)}else{const fe=I.textures;for(let me=0;me<fe.length;me++){const _e=fe[me],Xe=s.convert(_e.format,_e.colorSpace),Ae=s.convert(_e.type),Ke=A(_e.internalFormat,Xe,Ae,_e.colorSpace),it=ye(I);te&&pe(I)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,it,Ke,I.width,I.height):pe(I)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,it,Ke,I.width,I.height):t.renderbufferStorage(t.RENDERBUFFER,Ke,I.width,I.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function be(U,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,U),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),H(I.depthTexture,0);const fe=r.get(I.depthTexture).__webglTexture,me=ye(I);if(I.depthTexture.format===yc)pe(I)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,fe,0,me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,fe,0);else if(I.depthTexture.format===Ud)pe(I)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,fe,0,me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,fe,0);else throw new Error("Unknown depthTexture format")}function Me(U){const I=r.get(U),te=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!I.__autoAllocateDepthBuffer){if(te)throw new Error("target.depthTexture not supported in Cube render targets");be(I.__webglFramebuffer,U)}else if(te){I.__webglDepthbuffer=[];for(let fe=0;fe<6;fe++)n.bindFramebuffer(t.FRAMEBUFFER,I.__webglFramebuffer[fe]),I.__webglDepthbuffer[fe]=t.createRenderbuffer(),Se(I.__webglDepthbuffer[fe],U,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer=t.createRenderbuffer(),Se(I.__webglDepthbuffer,U,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function rt(U,I,te){const fe=r.get(U);I!==void 0&&re(fe.__webglFramebuffer,U,U.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),te!==void 0&&Me(U)}function pt(U){const I=U.texture,te=r.get(U),fe=r.get(I);U.addEventListener("dispose",B);const me=U.textures,_e=U.isWebGLCubeRenderTarget===!0,Xe=me.length>1;if(Xe||(fe.__webglTexture===void 0&&(fe.__webglTexture=t.createTexture()),fe.__version=I.version,o.memory.textures++),_e){te.__webglFramebuffer=[];for(let Ae=0;Ae<6;Ae++)if(I.mipmaps&&I.mipmaps.length>0){te.__webglFramebuffer[Ae]=[];for(let Ke=0;Ke<I.mipmaps.length;Ke++)te.__webglFramebuffer[Ae][Ke]=t.createFramebuffer()}else te.__webglFramebuffer[Ae]=t.createFramebuffer()}else{if(I.mipmaps&&I.mipmaps.length>0){te.__webglFramebuffer=[];for(let Ae=0;Ae<I.mipmaps.length;Ae++)te.__webglFramebuffer[Ae]=t.createFramebuffer()}else te.__webglFramebuffer=t.createFramebuffer();if(Xe)for(let Ae=0,Ke=me.length;Ae<Ke;Ae++){const it=r.get(me[Ae]);it.__webglTexture===void 0&&(it.__webglTexture=t.createTexture(),o.memory.textures++)}if(U.samples>0&&pe(U)===!1){te.__webglMultisampledFramebuffer=t.createFramebuffer(),te.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,te.__webglMultisampledFramebuffer);for(let Ae=0;Ae<me.length;Ae++){const Ke=me[Ae];te.__webglColorRenderbuffer[Ae]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,te.__webglColorRenderbuffer[Ae]);const it=s.convert(Ke.format,Ke.colorSpace),Be=s.convert(Ke.type),Ue=A(Ke.internalFormat,it,Be,Ke.colorSpace,U.isXRRenderTarget===!0),ft=ye(U);t.renderbufferStorageMultisample(t.RENDERBUFFER,ft,Ue,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ae,t.RENDERBUFFER,te.__webglColorRenderbuffer[Ae])}t.bindRenderbuffer(t.RENDERBUFFER,null),U.depthBuffer&&(te.__webglDepthRenderbuffer=t.createRenderbuffer(),Se(te.__webglDepthRenderbuffer,U,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(_e){n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture),W(t.TEXTURE_CUBE_MAP,I);for(let Ae=0;Ae<6;Ae++)if(I.mipmaps&&I.mipmaps.length>0)for(let Ke=0;Ke<I.mipmaps.length;Ke++)re(te.__webglFramebuffer[Ae][Ke],U,I,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ke);else re(te.__webglFramebuffer[Ae],U,I,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0);x(I)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Xe){for(let Ae=0,Ke=me.length;Ae<Ke;Ae++){const it=me[Ae],Be=r.get(it);n.bindTexture(t.TEXTURE_2D,Be.__webglTexture),W(t.TEXTURE_2D,it),re(te.__webglFramebuffer,U,it,t.COLOR_ATTACHMENT0+Ae,t.TEXTURE_2D,0),x(it)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let Ae=t.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(Ae=U.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ae,fe.__webglTexture),W(Ae,I),I.mipmaps&&I.mipmaps.length>0)for(let Ke=0;Ke<I.mipmaps.length;Ke++)re(te.__webglFramebuffer[Ke],U,I,t.COLOR_ATTACHMENT0,Ae,Ke);else re(te.__webglFramebuffer,U,I,t.COLOR_ATTACHMENT0,Ae,0);x(I)&&g(Ae),n.unbindTexture()}U.depthBuffer&&Me(U)}function st(U){const I=U.textures;for(let te=0,fe=I.length;te<fe;te++){const me=I[te];if(x(me)){const _e=U.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Xe=r.get(me).__webglTexture;n.bindTexture(_e,Xe),g(_e),n.unbindTexture()}}}function q(U){if(U.samples>0&&pe(U)===!1){const I=U.textures,te=U.width,fe=U.height;let me=t.COLOR_BUFFER_BIT;const _e=[],Xe=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ae=r.get(U),Ke=I.length>1;if(Ke)for(let it=0;it<I.length;it++)n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+it,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+it,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglFramebuffer);for(let it=0;it<I.length;it++){_e.push(t.COLOR_ATTACHMENT0+it),U.depthBuffer&&_e.push(Xe);const Be=Ae.__ignoreDepthValues!==void 0?Ae.__ignoreDepthValues:!1;if(Be===!1&&(U.depthBuffer&&(me|=t.DEPTH_BUFFER_BIT),U.stencilBuffer&&Ae.__isTransmissionRenderTarget!==!0&&(me|=t.STENCIL_BUFFER_BIT)),Ke&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[it]),Be===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Xe]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Xe])),Ke){const Ue=r.get(I[it]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ue,0)}t.blitFramebuffer(0,0,te,fe,0,0,te,fe,me,t.NEAREST),l&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,_e)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ke)for(let it=0;it<I.length;it++){n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+it,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[it]);const Be=r.get(I[it]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+it,t.TEXTURE_2D,Be,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer)}}function ye(U){return Math.min(i.maxSamples,U.samples)}function pe(U){const I=r.get(U);return U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function Pe(U){const I=o.render.frame;f.get(U)!==I&&(f.set(U,I),U.update())}function Ee(U,I){const te=U.colorSpace,fe=U.format,me=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||te!==ta&&te!==Bo&&(sn.getTransfer(te)===dn?(fe!==mi||me!==oo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",te)),I}function Te(U){return typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement?(u.width=U.naturalWidth||U.width,u.height=U.naturalHeight||U.height):typeof VideoFrame<"u"&&U instanceof VideoFrame?(u.width=U.displayWidth,u.height=U.displayHeight):(u.width=U.width,u.height=U.height),u}this.allocateTextureUnit=k,this.resetTextureUnits=C,this.setTexture2D=H,this.setTexture2DArray=ee,this.setTexture3D=Q,this.setTextureCube=de,this.rebindTextures=rt,this.setupRenderTarget=pt,this.updateRenderTargetMipmap=st,this.updateMultisampleRenderTarget=q,this.setupDepthRenderbuffer=Me,this.setupFrameBufferTexture=re,this.useMultisampledRTT=pe}function YF(t,e){function n(r,i=Bo){let s;const o=sn.getTransfer(i);if(r===oo)return t.UNSIGNED_BYTE;if(r===Ww)return t.UNSIGNED_SHORT_4_4_4_4;if(r===jw)return t.UNSIGNED_SHORT_5_5_5_1;if(r===fF)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===uF)return t.BYTE;if(r===dF)return t.SHORT;if(r===Gw)return t.UNSIGNED_SHORT;if(r===Vw)return t.INT;if(r===Bc)return t.UNSIGNED_INT;if(r===ps)return t.FLOAT;if(r===Sp)return t.HALF_FLOAT;if(r===hF)return t.ALPHA;if(r===pF)return t.RGB;if(r===mi)return t.RGBA;if(r===mF)return t.LUMINANCE;if(r===gF)return t.LUMINANCE_ALPHA;if(r===yc)return t.DEPTH_COMPONENT;if(r===Ud)return t.DEPTH_STENCIL;if(r===Xw)return t.RED;if(r===$w)return t.RED_INTEGER;if(r===vF)return t.RG;if(r===Jw)return t.RG_INTEGER;if(r===Kw)return t.RGBA_INTEGER;if(r===J0||r===K0||r===Y0||r===q0)if(o===dn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===J0)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===K0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Y0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===q0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===J0)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===K0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Y0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===q0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===LA||r===DA||r===FA||r===kA)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===LA)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===DA)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===FA)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===kA)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Yw)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===NA||r===OA)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===NA)return o===dn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===OA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===UA||r===zA||r===HA||r===GA||r===VA||r===WA||r===jA||r===XA||r===$A||r===JA||r===KA||r===YA||r===qA||r===QA)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===UA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===zA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===HA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===GA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===VA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===WA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===jA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===XA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===$A)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===JA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===KA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===YA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===qA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===QA)return o===dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Q0||r===ZA||r===eM)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===Q0)return o===dn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===ZA)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===eM)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===yF||r===tM||r===nM||r===rM)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===Q0)return s.COMPRESSED_RED_RGTC1_EXT;if(r===tM)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===nM)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===rM)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===nf?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class qF extends Qn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class No extends Ut{constructor(){super(),this.isGroup=!0,this.type="Group"}}const G6={type:"move"};class bS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new No,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new No,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new No,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const S of e.hand.values()){const x=n.getJointPose(S,r),g=this._getHandJoint(u,S);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const f=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=f.position.distanceTo(h.position),m=.02,y=.005;u.inputState.pinching&&p>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(G6)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new No;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const V6=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,W6=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class j6{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new yn,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new Us({vertexShader:V6,fragmentShader:W6,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new On(new sf(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class X6 extends na{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,f=null,h=null,p=null,m=null,y=null;const S=new j6,x=n.getContextAttributes();let g=null,A=null;const _=[],b=[],B=new ve;let T=null;const R=new Qn;R.layers.enable(1),R.viewport=new Vt;const L=new Qn;L.layers.enable(2),L.viewport=new Vt;const P=[R,L],C=new qF;C.layers.enable(1),C.layers.enable(2);let k=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let Se=_[re];return Se===void 0&&(Se=new bS,_[re]=Se),Se.getTargetRaySpace()},this.getControllerGrip=function(re){let Se=_[re];return Se===void 0&&(Se=new bS,_[re]=Se),Se.getGripSpace()},this.getHand=function(re){let Se=_[re];return Se===void 0&&(Se=new bS,_[re]=Se),Se.getHandSpace()};function H(re){const Se=b.indexOf(re.inputSource);if(Se===-1)return;const be=_[Se];be!==void 0&&(be.update(re.inputSource,re.frame,u||o),be.dispatchEvent({type:re.type,data:re.inputSource}))}function ee(){i.removeEventListener("select",H),i.removeEventListener("selectstart",H),i.removeEventListener("selectend",H),i.removeEventListener("squeeze",H),i.removeEventListener("squeezestart",H),i.removeEventListener("squeezeend",H),i.removeEventListener("end",ee),i.removeEventListener("inputsourceschange",Q);for(let re=0;re<_.length;re++){const Se=b[re];Se!==null&&(b[re]=null,_[re].disconnect(Se))}k=null,X=null,S.reset(),e.setRenderTarget(g),m=null,p=null,h=null,i=null,A=null,we.stop(),r.isPresenting=!1,e.setPixelRatio(T),e.setSize(B.width,B.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){s=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){a=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(re){u=re},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(re){if(i=re,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",H),i.addEventListener("selectstart",H),i.addEventListener("selectend",H),i.addEventListener("squeeze",H),i.addEventListener("squeezestart",H),i.addEventListener("squeezeend",H),i.addEventListener("end",ee),i.addEventListener("inputsourceschange",Q),x.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(B),i.renderState.layers===void 0){const Se={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,Se),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),A=new Os(m.framebufferWidth,m.framebufferHeight,{format:mi,type:oo,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let Se=null,be=null,Me=null;x.depth&&(Me=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Se=x.stencil?Ud:yc,be=x.stencil?nf:Bc);const rt={colorFormat:n.RGBA8,depthFormat:Me,scaleFactor:s};h=new XRWebGLBinding(i,n),p=h.createProjectionLayer(rt),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),A=new Os(p.textureWidth,p.textureHeight,{format:mi,type:oo,depthTexture:new sb(p.textureWidth,p.textureHeight,be,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const pt=e.properties.get(A);pt.__ignoreDepthValues=p.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),we.setContext(i),we.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function Q(re){for(let Se=0;Se<re.removed.length;Se++){const be=re.removed[Se],Me=b.indexOf(be);Me>=0&&(b[Me]=null,_[Me].disconnect(be))}for(let Se=0;Se<re.added.length;Se++){const be=re.added[Se];let Me=b.indexOf(be);if(Me===-1){for(let pt=0;pt<_.length;pt++)if(pt>=b.length){b.push(be),Me=pt;break}else if(b[pt]===null){b[pt]=be,Me=pt;break}if(Me===-1)break}const rt=_[Me];rt&&rt.connect(be)}}const de=new N,ge=new N;function D(re,Se,be){de.setFromMatrixPosition(Se.matrixWorld),ge.setFromMatrixPosition(be.matrixWorld);const Me=de.distanceTo(ge),rt=Se.projectionMatrix.elements,pt=be.projectionMatrix.elements,st=rt[14]/(rt[10]-1),q=rt[14]/(rt[10]+1),ye=(rt[9]+1)/rt[5],pe=(rt[9]-1)/rt[5],Pe=(rt[8]-1)/rt[0],Ee=(pt[8]+1)/pt[0],Te=st*Pe,U=st*Ee,I=Me/(-Pe+Ee),te=I*-Pe;Se.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(te),re.translateZ(I),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert();const fe=st+I,me=q+I,_e=Te-te,Xe=U+(Me-te),Ae=ye*q/me*fe,Ke=pe*q/me*fe;re.projectionMatrix.makePerspective(_e,Xe,Ae,Ke,fe,me),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}function j(re,Se){Se===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(Se.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(i===null)return;S.texture!==null&&(re.near=S.depthNear,re.far=S.depthFar),C.near=L.near=R.near=re.near,C.far=L.far=R.far=re.far,(k!==C.near||X!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),k=C.near,X=C.far,R.near=k,R.far=X,L.near=k,L.far=X,R.updateProjectionMatrix(),L.updateProjectionMatrix(),re.updateProjectionMatrix());const Se=re.parent,be=C.cameras;j(C,Se);for(let Me=0;Me<be.length;Me++)j(be[Me],Se);be.length===2?D(C,R,L):C.projectionMatrix.copy(R.projectionMatrix),W(re,C,Se)};function W(re,Se,be){be===null?re.matrix.copy(Se.matrixWorld):(re.matrix.copy(be.matrixWorld),re.matrix.invert(),re.matrix.multiply(Se.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(Se.projectionMatrix),re.projectionMatrixInverse.copy(Se.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=Hd*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(re){l=re,p!==null&&(p.fixedFoveation=re),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=re)},this.hasDepthSensing=function(){return S.texture!==null};let ne=null;function xe(re,Se){if(f=Se.getViewerPose(u||o),y=Se,f!==null){const be=f.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let Me=!1;be.length!==C.cameras.length&&(C.cameras.length=0,Me=!0);for(let pt=0;pt<be.length;pt++){const st=be[pt];let q=null;if(m!==null)q=m.getViewport(st);else{const pe=h.getViewSubImage(p,st);q=pe.viewport,pt===0&&(e.setRenderTargetTextures(A,pe.colorTexture,p.ignoreDepthValues?void 0:pe.depthStencilTexture),e.setRenderTarget(A))}let ye=P[pt];ye===void 0&&(ye=new Qn,ye.layers.enable(pt),ye.viewport=new Vt,P[pt]=ye),ye.matrix.fromArray(st.transform.matrix),ye.matrix.decompose(ye.position,ye.quaternion,ye.scale),ye.projectionMatrix.fromArray(st.projectionMatrix),ye.projectionMatrixInverse.copy(ye.projectionMatrix).invert(),ye.viewport.set(q.x,q.y,q.width,q.height),pt===0&&(C.matrix.copy(ye.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),Me===!0&&C.cameras.push(ye)}const rt=i.enabledFeatures;if(rt&&rt.includes("depth-sensing")){const pt=h.getDepthInformation(be[0]);pt&&pt.isValid&&pt.texture&&S.init(e,pt,i.renderState)}}for(let be=0;be<_.length;be++){const Me=b[be],rt=_[be];Me!==null&&rt!==void 0&&rt.update(Me,Se,u||o)}S.render(e,C),ne&&ne(re,Se),Se.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Se}),y=null}const we=new WF;we.setAnimationLoop(xe),this.setAnimationLoop=function(re){ne=re},this.dispose=function(){}}}const Nl=new xi,$6=new tt;function J6(t,e){function n(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function r(x,g){g.color.getRGB(x.fogColor.value,zF(t)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function i(x,g,A,_,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),h(x,g)):g.isMeshPhongMaterial?(s(x,g),f(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,b)):g.isMeshMatcapMaterial?(s(x,g),y(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),S(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,A,_):g.isSpriteMaterial?u(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,n(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===ii&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,n(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===ii&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,n(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,n(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const A=e.get(g),_=A.envMap,b=A.envMapRotation;if(_&&(x.envMap.value=_,Nl.copy(b),Nl.x*=-1,Nl.y*=-1,Nl.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(Nl.y*=-1,Nl.z*=-1),x.envMapRotation.value.setFromMatrix4($6.makeRotationFromEuler(Nl)),x.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const B=t._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*B,n(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,A,_){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*A,x.scale.value=_*.5,g.map&&(x.map.value=g.map,n(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function f(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function h(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,x.roughnessMapTransform)),g.envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,A){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ii&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=A.texture,x.transmissionSamplerSize.value.set(A.width,A.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,x.specularIntensityMapTransform))}function y(x,g){g.matcap&&(x.matcap.value=g.matcap)}function S(x,g){const A=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(A.matrixWorld),x.nearDistance.value=A.shadow.camera.near,x.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function K6(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,_){const b=_.program;r.uniformBlockBinding(A,b)}function u(A,_){let b=i[A.id];b===void 0&&(y(A),b=f(A),i[A.id]=b,A.addEventListener("dispose",x));const B=_.program;r.updateUBOMapping(A,B);const T=e.render.frame;s[A.id]!==T&&(p(A),s[A.id]=T)}function f(A){const _=h();A.__bindingPointIndex=_;const b=t.createBuffer(),B=A.__size,T=A.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,B,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,b),b}function h(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const _=i[A.id],b=A.uniforms,B=A.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let T=0,R=b.length;T<R;T++){const L=Array.isArray(b[T])?b[T]:[b[T]];for(let P=0,C=L.length;P<C;P++){const k=L[P];if(m(k,T,P,B)===!0){const X=k.__offset,H=Array.isArray(k.value)?k.value:[k.value];let ee=0;for(let Q=0;Q<H.length;Q++){const de=H[Q],ge=S(de);typeof de=="number"||typeof de=="boolean"?(k.__data[0]=de,t.bufferSubData(t.UNIFORM_BUFFER,X+ee,k.__data)):de.isMatrix3?(k.__data[0]=de.elements[0],k.__data[1]=de.elements[1],k.__data[2]=de.elements[2],k.__data[3]=0,k.__data[4]=de.elements[3],k.__data[5]=de.elements[4],k.__data[6]=de.elements[5],k.__data[7]=0,k.__data[8]=de.elements[6],k.__data[9]=de.elements[7],k.__data[10]=de.elements[8],k.__data[11]=0):(de.toArray(k.__data,ee),ee+=ge.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,X,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(A,_,b,B){const T=A.value,R=_+"_"+b;if(B[R]===void 0)return typeof T=="number"||typeof T=="boolean"?B[R]=T:B[R]=T.clone(),!0;{const L=B[R];if(typeof T=="number"||typeof T=="boolean"){if(L!==T)return B[R]=T,!0}else if(L.equals(T)===!1)return L.copy(T),!0}return!1}function y(A){const _=A.uniforms;let b=0;const B=16;for(let R=0,L=_.length;R<L;R++){const P=Array.isArray(_[R])?_[R]:[_[R]];for(let C=0,k=P.length;C<k;C++){const X=P[C],H=Array.isArray(X.value)?X.value:[X.value];for(let ee=0,Q=H.length;ee<Q;ee++){const de=H[ee],ge=S(de),D=b%B;D!==0&&B-D<ge.boundary&&(b+=B-D),X.__data=new Float32Array(ge.storage/Float32Array.BYTES_PER_ELEMENT),X.__offset=b,b+=ge.storage}}}const T=b%B;return T>0&&(b+=B-T),A.__size=b,A.__cache={},this}function S(A){const _={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(_.boundary=4,_.storage=4):A.isVector2?(_.boundary=8,_.storage=8):A.isVector3||A.isColor?(_.boundary=16,_.storage=12):A.isVector4?(_.boundary=16,_.storage=16):A.isMatrix3?(_.boundary=48,_.storage=48):A.isMatrix4?(_.boundary=64,_.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),_}function x(A){const _=A.target;_.removeEventListener("dispose",x);const b=o.indexOf(_.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function g(){for(const A in i)t.deleteBuffer(i[A]);o=[],i={},s={}}return{bind:l,update:u,dispose:g}}class QF{constructor(e={}){const{canvas:n=FF(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=o;const m=new Uint32Array(4),y=new Int32Array(4);let S=null,x=null;const g=[],A=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=cs,this._useLegacyLights=!1,this.toneMapping=so,this.toneMappingExposure=1;const _=this;let b=!1,B=0,T=0,R=null,L=-1,P=null;const C=new Vt,k=new Vt;let X=null;const H=new De(0);let ee=0,Q=n.width,de=n.height,ge=1,D=null,j=null;const W=new Vt(0,0,Q,de),ne=new Vt(0,0,Q,de);let xe=!1;const we=new rm;let re=!1,Se=!1;const be=new tt,Me=new ve,rt=new N,pt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function st(){return R===null?ge:1}let q=r;function ye(F,Z){const ae=n.getContext(F,Z);return ae!==null?ae:null}try{const F={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Qp}`),n.addEventListener("webglcontextlost",Le,!1),n.addEventListener("webglcontextrestored",Ie,!1),n.addEventListener("webglcontextcreationerror",qe,!1),q===null){const Z="webgl2";if(q=ye(Z,F),q===null)throw ye(Z)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let pe,Pe,Ee,Te,U,I,te,fe,me,_e,Xe,Ae,Ke,it,Be,Ue,ft,Ve,je,wt,Ct,Ht,Ft,kt;function $e(){pe=new l8(q),pe.init(),Pe=new n8(q,pe,e),Ht=new YF(q,pe),Ee=new z6(q),Te=new d8(q),U=new T6,I=new H6(q,pe,Ee,U,Pe,Ht,Te),te=new i8(_),fe=new a8(_),me=new vG(q),Ft=new e8(q,me),_e=new c8(q,me,Te,Ft),Xe=new h8(q,_e,me,Te),je=new f8(q,Pe,I),Ue=new r8(U),Ae=new E6(_,te,fe,pe,Pe,Ft,Ue),Ke=new J6(_,U),it=new P6,Be=new k6(pe),Ve=new Z9(_,te,fe,Ee,Xe,p,l),ft=new U6(_,Xe,Pe),kt=new K6(q,Te,Pe,Ee),wt=new t8(q,pe,Te),Ct=new u8(q,pe,Te),Te.programs=Ae.programs,_.capabilities=Pe,_.extensions=pe,_.properties=U,_.renderLists=it,_.shadowMap=ft,_.state=Ee,_.info=Te}$e();const V=new X6(_,q);this.xr=V,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const F=pe.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=pe.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return ge},this.setPixelRatio=function(F){F!==void 0&&(ge=F,this.setSize(Q,de,!1))},this.getSize=function(F){return F.set(Q,de)},this.setSize=function(F,Z,ae=!0){if(V.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=F,de=Z,n.width=Math.floor(F*ge),n.height=Math.floor(Z*ge),ae===!0&&(n.style.width=F+"px",n.style.height=Z+"px"),this.setViewport(0,0,F,Z)},this.getDrawingBufferSize=function(F){return F.set(Q*ge,de*ge).floor()},this.setDrawingBufferSize=function(F,Z,ae){Q=F,de=Z,ge=ae,n.width=Math.floor(F*ae),n.height=Math.floor(Z*ae),this.setViewport(0,0,F,Z)},this.getCurrentViewport=function(F){return F.copy(C)},this.getViewport=function(F){return F.copy(W)},this.setViewport=function(F,Z,ae,le){F.isVector4?W.set(F.x,F.y,F.z,F.w):W.set(F,Z,ae,le),Ee.viewport(C.copy(W).multiplyScalar(ge).round())},this.getScissor=function(F){return F.copy(ne)},this.setScissor=function(F,Z,ae,le){F.isVector4?ne.set(F.x,F.y,F.z,F.w):ne.set(F,Z,ae,le),Ee.scissor(k.copy(ne).multiplyScalar(ge).round())},this.getScissorTest=function(){return xe},this.setScissorTest=function(F){Ee.setScissorTest(xe=F)},this.setOpaqueSort=function(F){D=F},this.setTransparentSort=function(F){j=F},this.getClearColor=function(F){return F.copy(Ve.getClearColor())},this.setClearColor=function(){Ve.setClearColor.apply(Ve,arguments)},this.getClearAlpha=function(){return Ve.getClearAlpha()},this.setClearAlpha=function(){Ve.setClearAlpha.apply(Ve,arguments)},this.clear=function(F=!0,Z=!0,ae=!0){let le=0;if(F){let se=!1;if(R!==null){const ke=R.texture.format;se=ke===Kw||ke===Jw||ke===$w}if(se){const ke=R.texture.type,Ye=ke===oo||ke===Bc||ke===Gw||ke===nf||ke===Ww||ke===jw,nt=Ve.getClearColor(),ht=Ve.getClearAlpha(),ut=nt.r,ot=nt.g,mt=nt.b;Ye?(m[0]=ut,m[1]=ot,m[2]=mt,m[3]=ht,q.clearBufferuiv(q.COLOR,0,m)):(y[0]=ut,y[1]=ot,y[2]=mt,y[3]=ht,q.clearBufferiv(q.COLOR,0,y))}else le|=q.COLOR_BUFFER_BIT}Z&&(le|=q.DEPTH_BUFFER_BIT),ae&&(le|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Le,!1),n.removeEventListener("webglcontextrestored",Ie,!1),n.removeEventListener("webglcontextcreationerror",qe,!1),it.dispose(),Be.dispose(),U.dispose(),te.dispose(),fe.dispose(),Xe.dispose(),Ft.dispose(),kt.dispose(),Ae.dispose(),V.dispose(),V.removeEventListener("sessionstart",Xr),V.removeEventListener("sessionend",$r),Jn.stop()};function Le(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const F=Te.autoReset,Z=ft.enabled,ae=ft.autoUpdate,le=ft.needsUpdate,se=ft.type;$e(),Te.autoReset=F,ft.enabled=Z,ft.autoUpdate=ae,ft.needsUpdate=le,ft.type=se}function qe(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function Qe(F){const Z=F.target;Z.removeEventListener("dispose",Qe),Zt(Z)}function Zt(F){Bt(F),U.remove(F)}function Bt(F){const Z=U.get(F).programs;Z!==void 0&&(Z.forEach(function(ae){Ae.releaseProgram(ae)}),F.isShaderMaterial&&Ae.releaseShaderCache(F))}this.renderBufferDirect=function(F,Z,ae,le,se,ke){Z===null&&(Z=pt);const Ye=se.isMesh&&se.matrixWorld.determinant()<0,nt=pf(F,Z,ae,le,se);Ee.setMaterial(le,Ye);let ht=ae.index,ut=1;if(le.wireframe===!0){if(ht=_e.getWireframeAttribute(ae),ht===void 0)return;ut=2}const ot=ae.drawRange,mt=ae.attributes.position;let tn=ot.start*ut,or=(ot.start+ot.count)*ut;ke!==null&&(tn=Math.max(tn,ke.start*ut),or=Math.min(or,(ke.start+ke.count)*ut)),ht!==null?(tn=Math.max(tn,0),or=Math.min(or,ht.count)):mt!=null&&(tn=Math.max(tn,0),or=Math.min(or,mt.count));const xn=or-tn;if(xn<0||xn===1/0)return;Ft.setup(se,le,nt,ae,ht);let ar,Nt=wt;if(ht!==null&&(ar=me.get(ht),Nt=Ct,Nt.setIndex(ar)),se.isMesh)le.wireframe===!0?(Ee.setLineWidth(le.wireframeLinewidth*st()),Nt.setMode(q.LINES)):Nt.setMode(q.TRIANGLES);else if(se.isLine){let ze=le.linewidth;ze===void 0&&(ze=1),Ee.setLineWidth(ze*st()),se.isLineSegments?Nt.setMode(q.LINES):se.isLineLoop?Nt.setMode(q.LINE_LOOP):Nt.setMode(q.LINE_STRIP)}else se.isPoints?Nt.setMode(q.POINTS):se.isSprite&&Nt.setMode(q.TRIANGLES);if(se.isBatchedMesh)Nt.renderMultiDraw(se._multiDrawStarts,se._multiDrawCounts,se._multiDrawCount);else if(se.isInstancedMesh)Nt.renderInstances(tn,xn,se.count);else if(ae.isInstancedBufferGeometry){const ze=ae._maxInstanceCount!==void 0?ae._maxInstanceCount:1/0,jt=Math.min(ae.instanceCount,ze);Nt.renderInstances(tn,xn,jt)}else Nt.render(tn,xn)};function ln(F,Z,ae){F.transparent===!0&&F.side===Is&&F.forceSinglePass===!1?(F.side=ii,F.needsUpdate=!0,gr(F,Z,ae),F.side=ho,F.needsUpdate=!0,gr(F,Z,ae),F.side=Is):gr(F,Z,ae)}this.compile=function(F,Z,ae=null){ae===null&&(ae=F),x=Be.get(ae),x.init(),A.push(x),ae.traverseVisible(function(se){se.isLight&&se.layers.test(Z.layers)&&(x.pushLight(se),se.castShadow&&x.pushShadow(se))}),F!==ae&&F.traverseVisible(function(se){se.isLight&&se.layers.test(Z.layers)&&(x.pushLight(se),se.castShadow&&x.pushShadow(se))}),x.setupLights(_._useLegacyLights);const le=new Set;return F.traverse(function(se){const ke=se.material;if(ke)if(Array.isArray(ke))for(let Ye=0;Ye<ke.length;Ye++){const nt=ke[Ye];ln(nt,ae,se),le.add(nt)}else ln(ke,ae,se),le.add(ke)}),A.pop(),x=null,le},this.compileAsync=function(F,Z,ae=null){const le=this.compile(F,Z,ae);return new Promise(se=>{function ke(){if(le.forEach(function(Ye){U.get(Ye).currentProgram.isReady()&&le.delete(Ye)}),le.size===0){se(F);return}setTimeout(ke,10)}pe.get("KHR_parallel_shader_compile")!==null?ke():setTimeout(ke,10)})};let Hn=null;function en(F){Hn&&Hn(F)}function Xr(){Jn.stop()}function $r(){Jn.start()}const Jn=new WF;Jn.setAnimationLoop(en),typeof self<"u"&&Jn.setContext(self),this.setAnimationLoop=function(F){Hn=F,V.setAnimationLoop(F),F===null?Jn.stop():Jn.start()},V.addEventListener("sessionstart",Xr),V.addEventListener("sessionend",$r),this.render=function(F,Z){if(Z!==void 0&&Z.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),Z.parent===null&&Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),V.enabled===!0&&V.isPresenting===!0&&(V.cameraAutoUpdate===!0&&V.updateCamera(Z),Z=V.getCamera()),F.isScene===!0&&F.onBeforeRender(_,F,Z,R),x=Be.get(F,A.length),x.init(),A.push(x),be.multiplyMatrices(Z.projectionMatrix,Z.matrixWorldInverse),we.setFromProjectionMatrix(be),Se=this.localClippingEnabled,re=Ue.init(this.clippingPlanes,Se),S=it.get(F,g.length),S.init(),g.push(S),Hc(F,Z,0,_.sortObjects),S.finish(),_.sortObjects===!0&&S.sort(D,j),this.info.render.frame++,re===!0&&Ue.beginShadows();const ae=x.state.shadowsArray;if(ft.render(ae,F,Z),re===!0&&Ue.endShadows(),this.info.autoReset===!0&&this.info.reset(),(V.enabled===!1||V.isPresenting===!1||V.hasDepthSensing()===!1)&&Ve.render(S,F),x.setupLights(_._useLegacyLights),Z.isArrayCamera){const le=Z.cameras;for(let se=0,ke=le.length;se<ke;se++){const Ye=le[se];Gc(S,F,Ye,Ye.viewport)}}else Gc(S,F,Z);R!==null&&(I.updateMultisampleRenderTarget(R),I.updateRenderTargetMipmap(R)),F.isScene===!0&&F.onAfterRender(_,F,Z),Ft.resetDefaultState(),L=-1,P=null,A.pop(),A.length>0?x=A[A.length-1]:x=null,g.pop(),g.length>0?S=g[g.length-1]:S=null};function Hc(F,Z,ae,le){if(F.visible===!1)return;if(F.layers.test(Z.layers)){if(F.isGroup)ae=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(Z);else if(F.isLight)x.pushLight(F),F.castShadow&&x.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||we.intersectsSprite(F)){le&&rt.setFromMatrixPosition(F.matrixWorld).applyMatrix4(be);const Ye=Xe.update(F),nt=F.material;nt.visible&&S.push(F,Ye,nt,ae,rt.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||we.intersectsObject(F))){const Ye=Xe.update(F),nt=F.material;if(le&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),rt.copy(F.boundingSphere.center)):(Ye.boundingSphere===null&&Ye.computeBoundingSphere(),rt.copy(Ye.boundingSphere.center)),rt.applyMatrix4(F.matrixWorld).applyMatrix4(be)),Array.isArray(nt)){const ht=Ye.groups;for(let ut=0,ot=ht.length;ut<ot;ut++){const mt=ht[ut],tn=nt[mt.materialIndex];tn&&tn.visible&&S.push(F,Ye,tn,ae,rt.z,mt)}}else nt.visible&&S.push(F,Ye,nt,ae,rt.z,null)}}const ke=F.children;for(let Ye=0,nt=ke.length;Ye<nt;Ye++)Hc(ke[Ye],Z,ae,le)}function Gc(F,Z,ae,le){const se=F.opaque,ke=F.transmissive,Ye=F.transparent;x.setupLightsView(ae),re===!0&&Ue.setGlobalState(_.clippingPlanes,ae),ke.length>0&&Vc(se,ke,Z,ae),le&&Ee.viewport(C.copy(le)),se.length>0&&Vs(se,Z,ae),ke.length>0&&Vs(ke,Z,ae),Ye.length>0&&Vs(Ye,Z,ae),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function Vc(F,Z,ae,le){if((ae.isScene===!0?ae.overrideMaterial:null)!==null)return;if(x.state.transmissionRenderTarget===null){x.state.transmissionRenderTarget=new Os(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")||pe.has("EXT_color_buffer_float")?Sp:oo,minFilter:hs,samples:4,stencilBuffer:s});const ut=U.get(x.state.transmissionRenderTarget);ut.__isTransmissionRenderTarget=!0}const ke=x.state.transmissionRenderTarget;_.getDrawingBufferSize(Me),ke.setSize(Me.x,Me.y);const Ye=_.getRenderTarget();_.setRenderTarget(ke),_.getClearColor(H),ee=_.getClearAlpha(),ee<1&&_.setClearColor(16777215,.5),_.clear();const nt=_.toneMapping;_.toneMapping=so,Vs(F,ae,le),I.updateMultisampleRenderTarget(ke),I.updateRenderTargetMipmap(ke);let ht=!1;for(let ut=0,ot=Z.length;ut<ot;ut++){const mt=Z[ut],tn=mt.object,or=mt.geometry,xn=mt.material,ar=mt.group;if(xn.side===Is&&tn.layers.test(le.layers)){const Nt=xn.side;xn.side=ii,xn.needsUpdate=!0,Wc(tn,ae,le,or,xn,ar),xn.side=Nt,xn.needsUpdate=!0,ht=!0}}ht===!0&&(I.updateMultisampleRenderTarget(ke),I.updateRenderTargetMipmap(ke)),_.setRenderTarget(Ye),_.setClearColor(H,ee),_.toneMapping=nt}function Vs(F,Z,ae){const le=Z.isScene===!0?Z.overrideMaterial:null;for(let se=0,ke=F.length;se<ke;se++){const Ye=F[se],nt=Ye.object,ht=Ye.geometry,ut=le===null?Ye.material:le,ot=Ye.group;nt.layers.test(ae.layers)&&Wc(nt,Z,ae,ht,ut,ot)}}function Wc(F,Z,ae,le,se,ke){F.onBeforeRender(_,Z,ae,le,se,ke),F.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),se.onBeforeRender(_,Z,ae,le,F,ke),se.transparent===!0&&se.side===Is&&se.forceSinglePass===!1?(se.side=ii,se.needsUpdate=!0,_.renderBufferDirect(ae,Z,le,se,F,ke),se.side=ho,se.needsUpdate=!0,_.renderBufferDirect(ae,Z,le,se,F,ke),se.side=Is):_.renderBufferDirect(ae,Z,le,se,F,ke),F.onAfterRender(_,Z,ae,le,se,ke)}function gr(F,Z,ae){Z.isScene!==!0&&(Z=pt);const le=U.get(F),se=x.state.lights,ke=x.state.shadowsArray,Ye=se.state.version,nt=Ae.getParameters(F,se.state,ke,Z,ae),ht=Ae.getProgramCacheKey(nt);let ut=le.programs;le.environment=F.isMeshStandardMaterial?Z.environment:null,le.fog=Z.fog,le.envMap=(F.isMeshStandardMaterial?fe:te).get(F.envMap||le.environment),le.envMapRotation=le.environment!==null&&F.envMap===null?Z.environmentRotation:F.envMapRotation,ut===void 0&&(F.addEventListener("dispose",Qe),ut=new Map,le.programs=ut);let ot=ut.get(ht);if(ot!==void 0){if(le.currentProgram===ot&&le.lightsStateVersion===Ye)return Xc(F,nt),ot}else nt.uniforms=Ae.getUniforms(F),F.onBuild(ae,nt,_),F.onBeforeCompile(nt,_),ot=Ae.acquireProgram(nt,ht),ut.set(ht,ot),le.uniforms=nt.uniforms;const mt=le.uniforms;return(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(mt.clippingPlanes=Ue.uniform),Xc(F,nt),le.needsLights=gf(F),le.lightsStateVersion=Ye,le.needsLights&&(mt.ambientLightColor.value=se.state.ambient,mt.lightProbe.value=se.state.probe,mt.directionalLights.value=se.state.directional,mt.directionalLightShadows.value=se.state.directionalShadow,mt.spotLights.value=se.state.spot,mt.spotLightShadows.value=se.state.spotShadow,mt.rectAreaLights.value=se.state.rectArea,mt.ltc_1.value=se.state.rectAreaLTC1,mt.ltc_2.value=se.state.rectAreaLTC2,mt.pointLights.value=se.state.point,mt.pointLightShadows.value=se.state.pointShadow,mt.hemisphereLights.value=se.state.hemi,mt.directionalShadowMap.value=se.state.directionalShadowMap,mt.directionalShadowMatrix.value=se.state.directionalShadowMatrix,mt.spotShadowMap.value=se.state.spotShadowMap,mt.spotLightMatrix.value=se.state.spotLightMatrix,mt.spotLightMap.value=se.state.spotLightMap,mt.pointShadowMap.value=se.state.pointShadowMap,mt.pointShadowMatrix.value=se.state.pointShadowMatrix),le.currentProgram=ot,le.uniformsList=null,ot}function jc(F){if(F.uniformsList===null){const Z=F.currentProgram.getUniforms();F.uniformsList=ev.seqWithValue(Z.seq,F.uniforms)}return F.uniformsList}function Xc(F,Z){const ae=U.get(F);ae.outputColorSpace=Z.outputColorSpace,ae.batching=Z.batching,ae.instancing=Z.instancing,ae.instancingColor=Z.instancingColor,ae.instancingMorph=Z.instancingMorph,ae.skinning=Z.skinning,ae.morphTargets=Z.morphTargets,ae.morphNormals=Z.morphNormals,ae.morphColors=Z.morphColors,ae.morphTargetsCount=Z.morphTargetsCount,ae.numClippingPlanes=Z.numClippingPlanes,ae.numIntersection=Z.numClipIntersection,ae.vertexAlphas=Z.vertexAlphas,ae.vertexTangents=Z.vertexTangents,ae.toneMapping=Z.toneMapping}function pf(F,Z,ae,le,se){Z.isScene!==!0&&(Z=pt),I.resetTextureUnits();const ke=Z.fog,Ye=le.isMeshStandardMaterial?Z.environment:null,nt=R===null?_.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:ta,ht=(le.isMeshStandardMaterial?fe:te).get(le.envMap||Ye),ut=le.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,ot=!!ae.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),mt=!!ae.morphAttributes.position,tn=!!ae.morphAttributes.normal,or=!!ae.morphAttributes.color;let xn=so;le.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(xn=_.toneMapping);const ar=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,Nt=ar!==void 0?ar.length:0,ze=U.get(le),jt=x.state.lights;if(re===!0&&(Se===!0||F!==P)){const vr=F===P&&le.id===L;Ue.setState(le,F,vr)}let It=!1;le.version===ze.__version?(ze.needsLights&&ze.lightsStateVersion!==jt.state.version||ze.outputColorSpace!==nt||se.isBatchedMesh&&ze.batching===!1||!se.isBatchedMesh&&ze.batching===!0||se.isInstancedMesh&&ze.instancing===!1||!se.isInstancedMesh&&ze.instancing===!0||se.isSkinnedMesh&&ze.skinning===!1||!se.isSkinnedMesh&&ze.skinning===!0||se.isInstancedMesh&&ze.instancingColor===!0&&se.instanceColor===null||se.isInstancedMesh&&ze.instancingColor===!1&&se.instanceColor!==null||se.isInstancedMesh&&ze.instancingMorph===!0&&se.morphTexture===null||se.isInstancedMesh&&ze.instancingMorph===!1&&se.morphTexture!==null||ze.envMap!==ht||le.fog===!0&&ze.fog!==ke||ze.numClippingPlanes!==void 0&&(ze.numClippingPlanes!==Ue.numPlanes||ze.numIntersection!==Ue.numIntersection)||ze.vertexAlphas!==ut||ze.vertexTangents!==ot||ze.morphTargets!==mt||ze.morphNormals!==tn||ze.morphColors!==or||ze.toneMapping!==xn||ze.morphTargetsCount!==Nt)&&(It=!0):(It=!0,ze.__version=le.version);let un=ze.currentProgram;It===!0&&(un=gr(le,Z,se));let Kn=!1,Jr=!1,Xi=!1;const Gt=un.getUniforms(),Kr=ze.uniforms;if(Ee.useProgram(un.program)&&(Kn=!0,Jr=!0,Xi=!0),le.id!==L&&(L=le.id,Jr=!0),Kn||P!==F){Gt.setValue(q,"projectionMatrix",F.projectionMatrix),Gt.setValue(q,"viewMatrix",F.matrixWorldInverse);const vr=Gt.map.cameraPosition;vr!==void 0&&vr.setValue(q,rt.setFromMatrixPosition(F.matrixWorld)),Pe.logarithmicDepthBuffer&&Gt.setValue(q,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&Gt.setValue(q,"isOrthographic",F.isOrthographicCamera===!0),P!==F&&(P=F,Jr=!0,Xi=!0)}if(se.isSkinnedMesh){Gt.setOptional(q,se,"bindMatrix"),Gt.setOptional(q,se,"bindMatrixInverse");const vr=se.skeleton;vr&&(vr.boneTexture===null&&vr.computeBoneTexture(),Gt.setValue(q,"boneTexture",vr.boneTexture,I))}se.isBatchedMesh&&(Gt.setOptional(q,se,"batchingTexture"),Gt.setValue(q,"batchingTexture",se._matricesTexture,I));const ra=ae.morphAttributes;if((ra.position!==void 0||ra.normal!==void 0||ra.color!==void 0)&&je.update(se,ae,un),(Jr||ze.receiveShadow!==se.receiveShadow)&&(ze.receiveShadow=se.receiveShadow,Gt.setValue(q,"receiveShadow",se.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(Kr.envMap.value=ht,Kr.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&Z.environment!==null&&(Kr.envMapIntensity.value=Z.environmentIntensity),Jr&&(Gt.setValue(q,"toneMappingExposure",_.toneMappingExposure),ze.needsLights&&mf(Kr,Xi),ke&&le.fog===!0&&Ke.refreshFogUniforms(Kr,ke),Ke.refreshMaterialUniforms(Kr,le,ge,de,x.state.transmissionRenderTarget),ev.upload(q,jc(ze),Kr,I)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(ev.upload(q,jc(ze),Kr,I),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&Gt.setValue(q,"center",se.center),Gt.setValue(q,"modelViewMatrix",se.modelViewMatrix),Gt.setValue(q,"normalMatrix",se.normalMatrix),Gt.setValue(q,"modelMatrix",se.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const vr=le.uniformsGroups;for(let Ai=0,ia=vr.length;Ai<ia;Ai++){const Er=vr[Ai];kt.update(Er,un),kt.bind(Er,un)}}return un}function mf(F,Z){F.ambientLightColor.needsUpdate=Z,F.lightProbe.needsUpdate=Z,F.directionalLights.needsUpdate=Z,F.directionalLightShadows.needsUpdate=Z,F.pointLights.needsUpdate=Z,F.pointLightShadows.needsUpdate=Z,F.spotLights.needsUpdate=Z,F.spotLightShadows.needsUpdate=Z,F.rectAreaLights.needsUpdate=Z,F.hemisphereLights.needsUpdate=Z}function gf(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(F,Z,ae){U.get(F.texture).__webglTexture=Z,U.get(F.depthTexture).__webglTexture=ae;const le=U.get(F);le.__hasExternalTextures=!0,le.__autoAllocateDepthBuffer=ae===void 0,le.__autoAllocateDepthBuffer||pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(F,Z){const ae=U.get(F);ae.__webglFramebuffer=Z,ae.__useDefaultFramebuffer=Z===void 0},this.setRenderTarget=function(F,Z=0,ae=0){R=F,B=Z,T=ae;let le=!0,se=null,ke=!1,Ye=!1;if(F){const ht=U.get(F);ht.__useDefaultFramebuffer!==void 0?(Ee.bindFramebuffer(q.FRAMEBUFFER,null),le=!1):ht.__webglFramebuffer===void 0?I.setupRenderTarget(F):ht.__hasExternalTextures&&I.rebindTextures(F,U.get(F.texture).__webglTexture,U.get(F.depthTexture).__webglTexture);const ut=F.texture;(ut.isData3DTexture||ut.isDataArrayTexture||ut.isCompressedArrayTexture)&&(Ye=!0);const ot=U.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(Array.isArray(ot[Z])?se=ot[Z][ae]:se=ot[Z],ke=!0):F.samples>0&&I.useMultisampledRTT(F)===!1?se=U.get(F).__webglMultisampledFramebuffer:Array.isArray(ot)?se=ot[ae]:se=ot,C.copy(F.viewport),k.copy(F.scissor),X=F.scissorTest}else C.copy(W).multiplyScalar(ge).floor(),k.copy(ne).multiplyScalar(ge).floor(),X=xe;if(Ee.bindFramebuffer(q.FRAMEBUFFER,se)&&le&&Ee.drawBuffers(F,se),Ee.viewport(C),Ee.scissor(k),Ee.setScissorTest(X),ke){const ht=U.get(F.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ht.__webglTexture,ae)}else if(Ye){const ht=U.get(F.texture),ut=Z||0;q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,ht.__webglTexture,ae||0,ut)}L=-1},this.readRenderTargetPixels=function(F,Z,ae,le,se,ke,Ye){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let nt=U.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ye!==void 0&&(nt=nt[Ye]),nt){Ee.bindFramebuffer(q.FRAMEBUFFER,nt);try{const ht=F.texture,ut=ht.format,ot=ht.type;if(ut!==mi&&Ht.convert(ut)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const mt=ot===Sp&&(pe.has("EXT_color_buffer_half_float")||pe.has("EXT_color_buffer_float"));if(ot!==oo&&Ht.convert(ot)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_TYPE)&&ot!==ps&&!mt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Z>=0&&Z<=F.width-le&&ae>=0&&ae<=F.height-se&&q.readPixels(Z,ae,le,se,Ht.convert(ut),Ht.convert(ot),ke)}finally{const ht=R!==null?U.get(R).__webglFramebuffer:null;Ee.bindFramebuffer(q.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(F,Z,ae=0){const le=Math.pow(2,-ae),se=Math.floor(Z.image.width*le),ke=Math.floor(Z.image.height*le);I.setTexture2D(Z,0),q.copyTexSubImage2D(q.TEXTURE_2D,ae,0,0,F.x,F.y,se,ke),Ee.unbindTexture()},this.copyTextureToTexture=function(F,Z,ae,le=0){const se=Z.image.width,ke=Z.image.height,Ye=Ht.convert(ae.format),nt=Ht.convert(ae.type);I.setTexture2D(ae,0),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,ae.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,ae.unpackAlignment),Z.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,le,F.x,F.y,se,ke,Ye,nt,Z.image.data):Z.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,le,F.x,F.y,Z.mipmaps[0].width,Z.mipmaps[0].height,Ye,Z.mipmaps[0].data):q.texSubImage2D(q.TEXTURE_2D,le,F.x,F.y,Ye,nt,Z.image),le===0&&ae.generateMipmaps&&q.generateMipmap(q.TEXTURE_2D),Ee.unbindTexture()},this.copyTextureToTexture3D=function(F,Z,ae,le,se=0){const ke=Math.round(F.max.x-F.min.x),Ye=Math.round(F.max.y-F.min.y),nt=F.max.z-F.min.z+1,ht=Ht.convert(le.format),ut=Ht.convert(le.type);let ot;if(le.isData3DTexture)I.setTexture3D(le,0),ot=q.TEXTURE_3D;else if(le.isDataArrayTexture||le.isCompressedArrayTexture)I.setTexture2DArray(le,0),ot=q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,le.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,le.unpackAlignment);const mt=q.getParameter(q.UNPACK_ROW_LENGTH),tn=q.getParameter(q.UNPACK_IMAGE_HEIGHT),or=q.getParameter(q.UNPACK_SKIP_PIXELS),xn=q.getParameter(q.UNPACK_SKIP_ROWS),ar=q.getParameter(q.UNPACK_SKIP_IMAGES),Nt=ae.isCompressedTexture?ae.mipmaps[se]:ae.image;q.pixelStorei(q.UNPACK_ROW_LENGTH,Nt.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Nt.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,F.min.x),q.pixelStorei(q.UNPACK_SKIP_ROWS,F.min.y),q.pixelStorei(q.UNPACK_SKIP_IMAGES,F.min.z),ae.isDataTexture||ae.isData3DTexture?q.texSubImage3D(ot,se,Z.x,Z.y,Z.z,ke,Ye,nt,ht,ut,Nt.data):le.isCompressedArrayTexture?q.compressedTexSubImage3D(ot,se,Z.x,Z.y,Z.z,ke,Ye,nt,ht,Nt.data):q.texSubImage3D(ot,se,Z.x,Z.y,Z.z,ke,Ye,nt,ht,ut,Nt),q.pixelStorei(q.UNPACK_ROW_LENGTH,mt),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,tn),q.pixelStorei(q.UNPACK_SKIP_PIXELS,or),q.pixelStorei(q.UNPACK_SKIP_ROWS,xn),q.pixelStorei(q.UNPACK_SKIP_IMAGES,ar),se===0&&le.generateMipmaps&&q.generateMipmap(ot),Ee.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?I.setTextureCube(F,0):F.isData3DTexture?I.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?I.setTexture2DArray(F,0):I.setTexture2D(F,0),Ee.unbindTexture()},this.resetState=function(){B=0,T=0,R=null,Ee.reset(),Ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return to}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===By?"display-p3":"srgb",n.unpackColorSpace=sn.workingColorSpace===em?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Dy{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new De(e),this.density=n}clone(){return new Dy(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fy{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new De(e),this.near=n,this.far=r}clone(){return new Fy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class jv extends Ut{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new xi,this.environmentIntensity=1,this.environmentRotation=new xi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class im{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Cp,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ni()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return kF("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ni()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ni()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Qr=new N;class il{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.applyMatrix4(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.applyNormalMatrix(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.transformDirection(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=ti(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=St(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=St(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=St(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=St(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=St(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ti(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ti(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ti(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ti(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=St(n,this.array),r=St(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=St(n,this.array),r=St(r,this.array),i=St(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=St(n,this.array),r=St(r,this.array),i=St(i,this.array),s=St(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new zt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new il(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class lb extends $n{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Cu;const Yf=new N,Eu=new N,Tu=new N,Ru=new ve,qf=new ve,ZF=new tt,Kg=new N,Qf=new N,Yg=new N,tP=new ve,CS=new ve,nP=new ve;class ek extends Ut{constructor(e=new lb){if(super(),this.isSprite=!0,this.type="Sprite",Cu===void 0){Cu=new xt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new im(n,5);Cu.setIndex([0,1,2,0,2,3]),Cu.setAttribute("position",new il(r,3,0,!1)),Cu.setAttribute("uv",new il(r,2,3,!1))}this.geometry=Cu,this.material=e,this.center=new ve(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Eu.setFromMatrixScale(this.matrixWorld),ZF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Tu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Eu.multiplyScalar(-Tu.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;qg(Kg.set(-.5,-.5,0),Tu,o,Eu,i,s),qg(Qf.set(.5,-.5,0),Tu,o,Eu,i,s),qg(Yg.set(.5,.5,0),Tu,o,Eu,i,s),tP.set(0,0),CS.set(1,0),nP.set(1,1);let a=e.ray.intersectTriangle(Kg,Qf,Yg,!1,Yf);if(a===null&&(qg(Qf.set(-.5,.5,0),Tu,o,Eu,i,s),CS.set(0,1),a=e.ray.intersectTriangle(Kg,Yg,Qf,!1,Yf),a===null))return;const l=e.ray.origin.distanceTo(Yf);l<e.near||l>e.far||n.push({distance:l,point:Yf.clone(),uv:Ii.getInterpolation(Yf,Kg,Qf,Yg,tP,CS,nP,new ve),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function qg(t,e,n,r,i,s){Ru.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(qf.x=s*Ru.x-i*Ru.y,qf.y=i*Ru.x+s*Ru.y):qf.copy(Ru),t.copy(e),t.x+=qf.x,t.y+=qf.y,t.applyMatrix4(ZF)}const Qg=new N,rP=new N;class tk extends Ut{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Qg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Qg);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Qg.setFromMatrixPosition(e.matrixWorld),rP.setFromMatrixPosition(this.matrixWorld);const r=Qg.distanceTo(rP)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const iP=new N,sP=new Vt,oP=new Vt,Y6=new N,aP=new tt,Zg=new N,ES=new br,lP=new tt,TS=new rf;class cb extends On{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=IA,this.bindMatrix=new tt,this.bindMatrixInverse=new tt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Hr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Zg),this.boundingBox.expandByPoint(Zg)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new br),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Zg),this.boundingSphere.expandByPoint(Zg)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ES.copy(this.boundingSphere),ES.applyMatrix4(i),e.ray.intersectsSphere(ES)!==!1&&(lP.copy(i).invert(),TS.copy(e.ray).applyMatrix4(lP),!(this.boundingBox!==null&&TS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,TS)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===IA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===cF?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;sP.fromBufferAttribute(i.attributes.skinIndex,e),oP.fromBufferAttribute(i.attributes.skinWeight,e),iP.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=oP.getComponent(s);if(o!==0){const a=sP.getComponent(s);aP.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Y6.copy(iP).applyMatrix4(aP),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class ky extends Ut{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qa extends yn{constructor(e=null,n=1,r=1,i,s,o,a,l,u=er,f=er,h,p){super(null,o,a,l,u,f,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const cP=new tt,q6=new tt;class sm{constructor(e=[],n=[]){this.uuid=Ni(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new tt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new tt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:q6;cP.multiplyMatrices(a,n[s]),cP.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new sm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new qa(n,e,e,mi,ps);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new ky),this.bones.push(o),this.boneInverses.push(new tt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Vd extends zt{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Pu=new tt,uP=new tt,e0=[],dP=new Hr,Q6=new tt,Zf=new On,eh=new br;class ub extends On{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Vd(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Q6)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Hr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Pu),dP.copy(e.boundingBox).applyMatrix4(Pu),this.boundingBox.union(dP)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new br),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Pu),eh.copy(e.boundingSphere).applyMatrix4(Pu),this.boundingSphere.union(eh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Zf.geometry=this.geometry,Zf.material=this.material,Zf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),eh.copy(this.boundingSphere),eh.applyMatrix4(r),e.ray.intersectsSphere(eh)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Pu),uP.multiplyMatrices(r,Pu),Zf.matrixWorld=uP,Zf.raycast(e,e0);for(let o=0,a=e0.length;o<a;o++){const l=e0[o];l.instanceId=s,l.object=this,n.push(l)}e0.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Vd(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new qa(new Float32Array(i*this.count),i,this.count,Xw,ps));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Z6(t,e){return t.z-e.z}function eW(t,e){return e.z-t.z}class tW{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const Bu="batchId",Aa=new tt,fP=new tt,nW=new tt,hP=new tt,RS=new rm,t0=new Hr,Ol=new br,th=new N,PS=new tW,kr=new On,n0=[];function rW(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class nk extends On{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new xt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new qa(n,e,e,mi,ps);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:u,itemSize:f,normalized:h}=l,p=new u.constructor(r*f),m=new zt(p,f,h);n.setAttribute(a,m)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new zt(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Bu,new zt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Bu))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Bu}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Bu)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Hr);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Aa),this.getBoundingBoxAt(i,t0).applyMatrix4(Aa),n.union(t0))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new br);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Aa),this.getBoundingSphereAt(i,Ol).applyMatrix4(Aa),n.union(Ol))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const u=e.getIndex(),f=u!==null;if(f&&(r===-1?i.indexCount=u.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._visibility,p=this._active,m=this._matricesTexture,y=this._matricesTexture.image.data;h.push(!0),p.push(!0);const S=this._geometryCount;this._geometryCount++,nW.toArray(y,S*16),m.needsUpdate=!0,o.push(i),a.push({start:f?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Hr,sphereInitialized:!1,sphere:new br});const x=this.geometry.getAttribute(Bu);for(let g=0;g<i.vertexCount;g++)x.setX(i.vertexStart+g,S);return x.needsUpdate=!0,this.setGeometryAt(S,e),S}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,u=a.vertexCount;for(const m in r.attributes){if(m===Bu)continue;const y=n.getAttribute(m),S=r.getAttribute(m);rW(y,S,l);const x=y.itemSize;for(let g=y.count,A=u;g<A;g++){const _=l+g;for(let b=0;b<x;b++)S.setComponent(_,b,0)}S.needsUpdate=!0,S.addUpdateRange(l*x,u*x)}if(i){const m=a.indexStart;for(let y=0;y<o.count;y++)s.setX(m+y,l+o.getX(y));for(let y=o.count,S=a.indexCount;y<S;y++)s.setX(m+y,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const f=this._bounds[e];n.boundingBox!==null?(f.box.copy(n.boundingBox),f.boxInitialized=!0):f.boxInitialized=!1,n.boundingSphere!==null?(f.sphere.copy(n.boundingSphere),f.sphereInitialized=!0):f.sphereInitialized=!1;const h=this._drawRanges[e],p=n.getAttribute("position");return h.count=i?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,u=this._drawRanges[e];for(let f=u.start,h=u.start+u.count;f<h;f++){let p=f;a&&(p=a.getX(p)),s.expandByPoint(th.fromBufferAttribute(l,p))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,t0),t0.getCenter(s.center);const a=o.index,l=o.attributes.position,u=this._drawRanges[e];let f=0;for(let h=u.start,p=u.start+u.count;h<p;h++){let m=h;a&&(m=a.getX(m)),th.fromBufferAttribute(l,m),f=Math.max(f,s.center.distanceToSquared(th))}s.radius=Math.sqrt(f),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;kr.material=this.material,kr.geometry.index=l.index,kr.geometry.attributes=l.attributes,kr.geometry.boundingBox===null&&(kr.geometry.boundingBox=new Hr),kr.geometry.boundingSphere===null&&(kr.geometry.boundingSphere=new br);for(let u=0;u<o;u++){if(!r[u]||!i[u])continue;const f=s[u];kr.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(u,kr.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,kr.geometry.boundingBox),this.getBoundingSphereAt(u,kr.geometry.boundingSphere),kr.raycast(e,n0);for(let h=0,p=n0.length;h<p;h++){const m=n0[h];m.object=this,m.batchId=u,n.push(m)}n0.length=0}kr.material=null,kr.geometry.index=null,kr.geometry.attributes={},kr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,u=this._visibility,f=this._multiDrawStarts,h=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(hP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),RS.setFromProjectionMatrix(hP,e.coordinateSystem));let y=0;if(this.sortObjects){fP.copy(this.matrixWorld).invert(),th.setFromMatrixPosition(r.matrixWorld).applyMatrix4(fP);for(let g=0,A=u.length;g<A;g++)if(u[g]&&l[g]){this.getMatrixAt(g,Aa),this.getBoundingSphereAt(g,Ol).applyMatrix4(Aa);let _=!1;if(m&&(_=!RS.intersectsSphere(Ol)),!_){const b=th.distanceTo(Ol.center);PS.push(p[g],b)}}const S=PS.list,x=this.customSort;x===null?S.sort(s.transparent?eW:Z6):x.call(this,S,r);for(let g=0,A=S.length;g<A;g++){const _=S[g];f[y]=_.start*a,h[y]=_.count,y++}PS.reset()}else for(let S=0,x=u.length;S<x;S++)if(u[S]&&l[S]){let g=!1;if(m&&(this.getMatrixAt(S,Aa),this.getBoundingSphereAt(S,Ol).applyMatrix4(Aa),g=!RS.intersectsSphere(Ol)),!g){const A=p[S];f[y]=A.start*a,h[y]=A.count,y++}}this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Wr extends $n{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new De(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const pP=new N,mP=new N,gP=new tt,BS=new rf,r0=new br;class Qo extends Ut{constructor(e=new xt,n=new Wr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)pP.fromBufferAttribute(n,i-1),mP.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=pP.distanceTo(mP);e.setAttribute("lineDistance",new Je(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),r0.copy(r.boundingSphere),r0.applyMatrix4(i),r0.radius+=s,e.ray.intersectsSphere(r0)===!1)return;gP.copy(i).invert(),BS.copy(e.ray).applyMatrix4(gP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new N,f=new N,h=new N,p=new N,m=this.isLineSegments?2:1,y=r.index,x=r.attributes.position;if(y!==null){const g=Math.max(0,o.start),A=Math.min(y.count,o.start+o.count);for(let _=g,b=A-1;_<b;_+=m){const B=y.getX(_),T=y.getX(_+1);if(u.fromBufferAttribute(x,B),f.fromBufferAttribute(x,T),BS.distanceSqToSegment(u,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(p);L<e.near||L>e.far||n.push({distance:L,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),A=Math.min(x.count,o.start+o.count);for(let _=g,b=A-1;_<b;_+=m){if(u.fromBufferAttribute(x,_),f.fromBufferAttribute(x,_+1),BS.distanceSqToSegment(u,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||n.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const vP=new N,yP=new N;class zs extends Qo{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)vP.fromBufferAttribute(n,i),yP.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+vP.distanceTo(yP);e.setAttribute("lineDistance",new Je(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class db extends Qo{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Ny extends $n{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const xP=new tt,lM=new rf,i0=new br,s0=new N;class fb extends Ut{constructor(e=new xt,n=new Ny){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),i0.copy(r.boundingSphere),i0.applyMatrix4(i),i0.radius+=s,e.ray.intersectsSphere(i0)===!1)return;xP.copy(i).invert(),lM.copy(e.ray).applyMatrix4(xP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,h=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let y=p,S=m;y<S;y++){const x=u.getX(y);s0.fromBufferAttribute(h,x),_P(s0,x,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,S=m;y<S;y++)s0.fromBufferAttribute(h,y),_P(s0,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function _P(t,e,n,r,i,s,o){const a=lM.distanceSqToPoint(t);if(a<n){const l=new N;lM.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class iW extends yn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:In,this.magFilter=s!==void 0?s:In,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class sW extends yn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=er,this.minFilter=er,this.generateMipmaps=!1,this.needsUpdate=!0}}class Oy extends yn{constructor(e,n,r,i,s,o,a,l,u,f,h,p){super(null,o,a,l,u,f,i,s,h,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class oW extends Oy{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Di}}class aW extends Oy{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,qo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class lW extends yn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Hs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,m=(o-f)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ve:new N);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new N,i=[],s=[],o=[],a=new N,l=new tt;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new N)}s[0]=new N,o[0]=new N;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Bn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Bn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Uy extends Hs{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new ve){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*f-m*h+this.aX,u=p*h+m*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class rk extends Uy{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function hb(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,h){let p=(o-s)/u-(a-s)/(u+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+h)+(l-a)/h;p*=f,m*=f,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const o0=new N,IS=new hb,LS=new hb,DS=new hb;class ik extends Hs{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new N){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=i[(a-1)%s]:(o0.subVectors(i[0],i[1]).add(i[0]),u=o0);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(o0.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=o0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(h),m),S=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(f),m);S<1e-4&&(S=1),y<1e-4&&(y=S),x<1e-4&&(x=S),IS.initNonuniformCatmullRom(u.x,h.x,p.x,f.x,y,S,x),LS.initNonuniformCatmullRom(u.y,h.y,p.y,f.y,y,S,x),DS.initNonuniformCatmullRom(u.z,h.z,p.z,f.z,y,S,x)}else this.curveType==="catmullrom"&&(IS.initCatmullRom(u.x,h.x,p.x,f.x,this.tension),LS.initCatmullRom(u.y,h.y,p.y,f.y,this.tension),DS.initCatmullRom(u.z,h.z,p.z,f.z,this.tension));return r.set(IS.calc(l),LS.calc(l),DS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new N().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function SP(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function cW(t,e){const n=1-t;return n*n*e}function uW(t,e){return 2*(1-t)*t*e}function dW(t,e){return t*t*e}function Hh(t,e,n,r){return cW(t,e)+uW(t,n)+dW(t,r)}function fW(t,e){const n=1-t;return n*n*n*e}function hW(t,e){const n=1-t;return 3*n*n*t*e}function pW(t,e){return 3*(1-t)*t*t*e}function mW(t,e){return t*t*t*e}function Gh(t,e,n,r,i){return fW(t,e)+hW(t,n)+pW(t,r)+mW(t,i)}class pb extends Hs{constructor(e=new ve,n=new ve,r=new ve,i=new ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ve){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Gh(e,i.x,s.x,o.x,a.x),Gh(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class sk extends Hs{constructor(e=new N,n=new N,r=new N,i=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new N){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Gh(e,i.x,s.x,o.x,a.x),Gh(e,i.y,s.y,o.y,a.y),Gh(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mb extends Hs{constructor(e=new ve,n=new ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ve){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ve){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ok extends Hs{constructor(e=new N,n=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new N){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new N){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gb extends Hs{constructor(e=new ve,n=new ve,r=new ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ve){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Hh(e,i.x,s.x,o.x),Hh(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vb extends Hs{constructor(e=new N,n=new N,r=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new N){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Hh(e,i.x,s.x,o.x),Hh(e,i.y,s.y,o.y),Hh(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yb extends Hs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ve){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(SP(a,l.x,u.x,f.x,h.x),SP(a,l.y,u.y,f.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ve().fromArray(i))}return this}}var Xv=Object.freeze({__proto__:null,ArcCurve:rk,CatmullRomCurve3:ik,CubicBezierCurve:pb,CubicBezierCurve3:sk,EllipseCurve:Uy,LineCurve:mb,LineCurve3:ok,QuadraticBezierCurve:gb,QuadraticBezierCurve3:vb,SplineCurve:yb});class ak extends Hs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Xv[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Xv[i.type]().fromJSON(i))}return this}}class Rp extends ak{constructor(e){super(),this.type="Path",this.currentPoint=new ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new mb(this.currentPoint.clone(),new ve(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new gb(this.currentPoint.clone(),new ve(e,n),new ve(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new pb(this.currentPoint.clone(),new ve(e,n),new ve(r,i),new ve(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new yb(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,n+f,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new Uy(e,n,r,i,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class om extends xt{constructor(e=[new ve(0,-.5),new ve(.5,0),new ve(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Bn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/n,h=new N,p=new ve,m=new N,y=new N,S=new N;let x=0,g=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:x=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-x,m.z=g*0,S.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:x=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-x,m.z=g*0,y.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),l.push(m.x,m.y,m.z),S.copy(y)}for(let A=0;A<=n;A++){const _=r+A*f*i,b=Math.sin(_),B=Math.cos(_);for(let T=0;T<=e.length-1;T++){h.x=e[T].x*b,h.y=e[T].y,h.z=e[T].x*B,o.push(h.x,h.y,h.z),p.x=A/n,p.y=T/(e.length-1),a.push(p.x,p.y);const R=l[3*T+0]*b,L=l[3*T+1],P=l[3*T+0]*B;u.push(R,L,P)}}for(let A=0;A<n;A++)for(let _=0;_<e.length-1;_++){const b=_+A*e.length,B=b,T=b+e.length,R=b+e.length+1,L=b+1;s.push(B,T,L),s.push(R,L,T)}this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("uv",new Je(a,2)),this.setAttribute("normal",new Je(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new om(e.points,e.segments,e.phiStart,e.phiLength)}}class zy extends om{constructor(e=1,n=1,r=4,i=8){const s=new Rp;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new zy(e.radius,e.length,e.capSegments,e.radialSegments)}}class Hy extends xt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new N,f=new ve;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const m=r+h/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("normal",new Je(a,3)),this.setAttribute("uv",new Je(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class lf extends xt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const f=[],h=[],p=[],m=[];let y=0;const S=[],x=r/2;let g=0;A(),o===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(f),this.setAttribute("position",new Je(h,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function A(){const b=new N,B=new N;let T=0;const R=(n-e)/r;for(let L=0;L<=s;L++){const P=[],C=L/s,k=C*(n-e)+e;for(let X=0;X<=i;X++){const H=X/i,ee=H*l+a,Q=Math.sin(ee),de=Math.cos(ee);B.x=k*Q,B.y=-C*r+x,B.z=k*de,h.push(B.x,B.y,B.z),b.set(Q,R,de).normalize(),p.push(b.x,b.y,b.z),m.push(H,1-C),P.push(y++)}S.push(P)}for(let L=0;L<i;L++)for(let P=0;P<s;P++){const C=S[P][L],k=S[P+1][L],X=S[P+1][L+1],H=S[P][L+1];f.push(C,k,H),f.push(k,X,H),T+=6}u.addGroup(g,T,0),g+=T}function _(b){const B=y,T=new ve,R=new N;let L=0;const P=b===!0?e:n,C=b===!0?1:-1;for(let X=1;X<=i;X++)h.push(0,x*C,0),p.push(0,C,0),m.push(.5,.5),y++;const k=y;for(let X=0;X<=i;X++){const ee=X/i*l+a,Q=Math.cos(ee),de=Math.sin(ee);R.x=P*de,R.y=x*C,R.z=P*Q,h.push(R.x,R.y,R.z),p.push(0,C,0),T.x=Q*.5+.5,T.y=de*.5*C+.5,m.push(T.x,T.y),y++}for(let X=0;X<i;X++){const H=B+X,ee=k+X;b===!0?f.push(ee,ee+1,H):f.push(ee+1,ee,H),L+=3}u.addGroup(g,L,b===!0?1:2),g+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gy extends lf{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Gy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pl extends xt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),f(),this.setAttribute("position",new Je(s,3)),this.setAttribute("normal",new Je(s.slice(),3)),this.setAttribute("uv",new Je(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const _=new N,b=new N,B=new N;for(let T=0;T<n.length;T+=3)m(n[T+0],_),m(n[T+1],b),m(n[T+2],B),l(_,b,B,A)}function l(A,_,b,B){const T=B+1,R=[];for(let L=0;L<=T;L++){R[L]=[];const P=A.clone().lerp(b,L/T),C=_.clone().lerp(b,L/T),k=T-L;for(let X=0;X<=k;X++)X===0&&L===T?R[L][X]=P:R[L][X]=P.clone().lerp(C,X/k)}for(let L=0;L<T;L++)for(let P=0;P<2*(T-L)-1;P++){const C=Math.floor(P/2);P%2===0?(p(R[L][C+1]),p(R[L+1][C]),p(R[L][C])):(p(R[L][C+1]),p(R[L+1][C+1]),p(R[L+1][C]))}}function u(A){const _=new N;for(let b=0;b<s.length;b+=3)_.x=s[b+0],_.y=s[b+1],_.z=s[b+2],_.normalize().multiplyScalar(A),s[b+0]=_.x,s[b+1]=_.y,s[b+2]=_.z}function f(){const A=new N;for(let _=0;_<s.length;_+=3){A.x=s[_+0],A.y=s[_+1],A.z=s[_+2];const b=x(A)/2/Math.PI+.5,B=g(A)/Math.PI+.5;o.push(b,1-B)}y(),h()}function h(){for(let A=0;A<o.length;A+=6){const _=o[A+0],b=o[A+2],B=o[A+4],T=Math.max(_,b,B),R=Math.min(_,b,B);T>.9&&R<.1&&(_<.2&&(o[A+0]+=1),b<.2&&(o[A+2]+=1),B<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function m(A,_){const b=A*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function y(){const A=new N,_=new N,b=new N,B=new N,T=new ve,R=new ve,L=new ve;for(let P=0,C=0;P<s.length;P+=9,C+=6){A.set(s[P+0],s[P+1],s[P+2]),_.set(s[P+3],s[P+4],s[P+5]),b.set(s[P+6],s[P+7],s[P+8]),T.set(o[C+0],o[C+1]),R.set(o[C+2],o[C+3]),L.set(o[C+4],o[C+5]),B.copy(A).add(_).add(b).divideScalar(3);const k=x(B);S(T,C+0,A,k),S(R,C+2,_,k),S(L,C+4,b,k)}}function S(A,_,b,B){B<0&&A.x===1&&(o[_]=A.x-1),b.x===0&&b.z===0&&(o[_]=B/2/Math.PI+.5)}function x(A){return Math.atan2(A.z,-A.x)}function g(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pl(e.vertices,e.indices,e.radius,e.details)}}class Vy extends pl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Vy(e.radius,e.detail)}}const a0=new N,l0=new N,FS=new N,c0=new Ii;class lk extends xt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(xc*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:S,b:x,c:g}=c0;if(S.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),c0.getNormal(FS),h[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const _=(A+1)%3,b=h[A],B=h[_],T=c0[f[A]],R=c0[f[_]],L=`${b}_${B}`,P=`${B}_${b}`;P in p&&p[P]?(FS.dot(p[P].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(R.x,R.y,R.z)),p[P]=null):L in p||(p[L]={index0:u[A],index1:u[_],normal:FS.clone()})}}for(const y in p)if(p[y]){const{index0:S,index1:x}=p[y];a0.fromBufferAttribute(a,S),l0.fromBufferAttribute(a,x),m.push(a0.x,a0.y,a0.z),m.push(l0.x,l0.y,l0.z)}this.setAttribute("position",new Je(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Sc extends Rp{constructor(e){super(e),this.uuid=Ni(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Rp().fromJSON(i))}return this}}const gW={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=ck(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,f,h,p,m;if(r&&(s=SW(t,e,s,n)),t.length>80*n){a=u=t[0],l=f=t[1];for(let y=n;y<i;y+=n)h=t[y],p=t[y+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>f&&(f=p);m=Math.max(u-a,f-l),m=m!==0?32767/m:0}return Pp(s,o,n,a,l,m,0),o}};function ck(t,e,n,r,i){let s,o;if(i===IW(t,e,n,r)>0)for(s=e;s<n;s+=r)o=AP(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=AP(s,t[s],t[s+1],o);return o&&Wy(o,o.next)&&(Ip(o),o=o.next),o}function Lc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Wy(n,n.next)||wn(n.prev,n,n.next)===0)){if(Ip(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Pp(t,e,n,r,i,s,o){if(!t)return;!o&&s&&CW(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?yW(t,r,i,s):vW(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Ip(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=xW(Lc(t),e,n),Pp(t,e,n,r,i,s,2)):o===2&&_W(t,e,n,r,i,s):Pp(Lc(t),e,n,r,i,s,1);break}}}function vW(t){const e=t.prev,n=t,r=t.next;if(wn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,f=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let y=r.next;for(;y!==e;){if(y.x>=f&&y.x<=p&&y.y>=h&&y.y<=m&&rd(i,a,s,l,o,u,y.x,y.y)&&wn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function yW(t,e,n,r){const i=t.prev,s=t,o=t.next;if(wn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,f=i.y,h=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,y=f<h?f<p?f:p:h<p?h:p,S=a>l?a>u?a:u:l>u?l:u,x=f>h?f>p?f:p:h>p?h:p,g=cM(m,y,e,n,r),A=cM(S,x,e,n,r);let _=t.prevZ,b=t.nextZ;for(;_&&_.z>=g&&b&&b.z<=A;){if(_.x>=m&&_.x<=S&&_.y>=y&&_.y<=x&&_!==i&&_!==o&&rd(a,f,l,h,u,p,_.x,_.y)&&wn(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=m&&b.x<=S&&b.y>=y&&b.y<=x&&b!==i&&b!==o&&rd(a,f,l,h,u,p,b.x,b.y)&&wn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=g;){if(_.x>=m&&_.x<=S&&_.y>=y&&_.y<=x&&_!==i&&_!==o&&rd(a,f,l,h,u,p,_.x,_.y)&&wn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=A;){if(b.x>=m&&b.x<=S&&b.y>=y&&b.y<=x&&b!==i&&b!==o&&rd(a,f,l,h,u,p,b.x,b.y)&&wn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function xW(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!Wy(i,s)&&uk(i,r,r.next,s)&&Bp(i,s)&&Bp(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Ip(r),Ip(r.next),r=t=s),r=r.next}while(r!==t);return Lc(r)}function _W(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&RW(o,a)){let l=dk(o,a);o=Lc(o,o.next),l=Lc(l,l.next),Pp(o,e,n,r,i,s,0),Pp(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function SW(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=ck(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(TW(u));for(i.sort(AW),s=0;s<i.length;s++)n=MW(i[s],n);return n}function AW(t,e){return t.x-e.x}function MW(t,e){const n=wW(t,e);if(!n)return e;const r=dk(n,t);return Lc(r,r.next),Lc(n,n.next)}function wW(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let f=1/0,h;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&rd(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),Bp(n,t)&&(h<f||h===f&&(n.x>i.x||n.x===i.x&&bW(i,n)))&&(i=n,f=h)),n=n.next;while(n!==a);return i}function bW(t,e){return wn(t.prev,t,e.prev)<0&&wn(e.next,t,t.next)<0}function CW(t,e,n,r){let i=t;do i.z===0&&(i.z=cM(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,EW(i)}function EW(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function cM(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function TW(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function rd(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function RW(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!PW(t,e)&&(Bp(t,e)&&Bp(e,t)&&BW(t,e)&&(wn(t.prev,t,e.prev)||wn(t,e.prev,e))||Wy(t,e)&&wn(t.prev,t,t.next)>0&&wn(e.prev,e,e.next)>0)}function wn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Wy(t,e){return t.x===e.x&&t.y===e.y}function uk(t,e,n,r){const i=d0(wn(t,e,n)),s=d0(wn(t,e,r)),o=d0(wn(n,r,t)),a=d0(wn(n,r,e));return!!(i!==s&&o!==a||i===0&&u0(t,n,e)||s===0&&u0(t,r,e)||o===0&&u0(n,t,r)||a===0&&u0(n,e,r))}function u0(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function d0(t){return t>0?1:t<0?-1:0}function PW(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&uk(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Bp(t,e){return wn(t.prev,t,t.next)<0?wn(t,e,t.next)>=0&&wn(t,t.prev,e)>=0:wn(t,e,t.prev)<0||wn(t,t.next,e)<0}function BW(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function dk(t,e){const n=new uM(t.i,t.x,t.y),r=new uM(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function AP(t,e,n,r){const i=new uM(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ip(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function uM(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function IW(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class ao{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ao.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];MP(e),wP(r,e);let o=e.length;n.forEach(MP);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,wP(r,n[l]);const a=gW.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function MP(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function wP(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class jy extends xt{constructor(e=new Sc([new ve(.5,.5),new ve(-.5,.5),new ve(-.5,-.5),new ve(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Je(i,3)),this.setAttribute("uv",new Je(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:m-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,A=n.UVGenerator!==void 0?n.UVGenerator:LW;let _,b=!1,B,T,R,L;g&&(_=g.getSpacedPoints(f),b=!0,p=!1,B=g.computeFrenetFrames(f,!1),T=new N,R=new N,L=new N),p||(x=0,m=0,y=0,S=0);const P=a.extractPoints(u);let C=P.shape;const k=P.holes;if(!ao.isClockWise(C)){C=C.reverse();for(let ye=0,pe=k.length;ye<pe;ye++){const Pe=k[ye];ao.isClockWise(Pe)&&(k[ye]=Pe.reverse())}}const H=ao.triangulateShape(C,k),ee=C;for(let ye=0,pe=k.length;ye<pe;ye++){const Pe=k[ye];C=C.concat(Pe)}function Q(ye,pe,Pe){return pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),ye.clone().addScaledVector(pe,Pe)}const de=C.length,ge=H.length;function D(ye,pe,Pe){let Ee,Te,U;const I=ye.x-pe.x,te=ye.y-pe.y,fe=Pe.x-ye.x,me=Pe.y-ye.y,_e=I*I+te*te,Xe=I*me-te*fe;if(Math.abs(Xe)>Number.EPSILON){const Ae=Math.sqrt(_e),Ke=Math.sqrt(fe*fe+me*me),it=pe.x-te/Ae,Be=pe.y+I/Ae,Ue=Pe.x-me/Ke,ft=Pe.y+fe/Ke,Ve=((Ue-it)*me-(ft-Be)*fe)/(I*me-te*fe);Ee=it+I*Ve-ye.x,Te=Be+te*Ve-ye.y;const je=Ee*Ee+Te*Te;if(je<=2)return new ve(Ee,Te);U=Math.sqrt(je/2)}else{let Ae=!1;I>Number.EPSILON?fe>Number.EPSILON&&(Ae=!0):I<-Number.EPSILON?fe<-Number.EPSILON&&(Ae=!0):Math.sign(te)===Math.sign(me)&&(Ae=!0),Ae?(Ee=-te,Te=I,U=Math.sqrt(_e)):(Ee=I,Te=te,U=Math.sqrt(_e/2))}return new ve(Ee/U,Te/U)}const j=[];for(let ye=0,pe=ee.length,Pe=pe-1,Ee=ye+1;ye<pe;ye++,Pe++,Ee++)Pe===pe&&(Pe=0),Ee===pe&&(Ee=0),j[ye]=D(ee[ye],ee[Pe],ee[Ee]);const W=[];let ne,xe=j.concat();for(let ye=0,pe=k.length;ye<pe;ye++){const Pe=k[ye];ne=[];for(let Ee=0,Te=Pe.length,U=Te-1,I=Ee+1;Ee<Te;Ee++,U++,I++)U===Te&&(U=0),I===Te&&(I=0),ne[Ee]=D(Pe[Ee],Pe[U],Pe[I]);W.push(ne),xe=xe.concat(ne)}for(let ye=0;ye<x;ye++){const pe=ye/x,Pe=m*Math.cos(pe*Math.PI/2),Ee=y*Math.sin(pe*Math.PI/2)+S;for(let Te=0,U=ee.length;Te<U;Te++){const I=Q(ee[Te],j[Te],Ee);Me(I.x,I.y,-Pe)}for(let Te=0,U=k.length;Te<U;Te++){const I=k[Te];ne=W[Te];for(let te=0,fe=I.length;te<fe;te++){const me=Q(I[te],ne[te],Ee);Me(me.x,me.y,-Pe)}}}const we=y+S;for(let ye=0;ye<de;ye++){const pe=p?Q(C[ye],xe[ye],we):C[ye];b?(R.copy(B.normals[0]).multiplyScalar(pe.x),T.copy(B.binormals[0]).multiplyScalar(pe.y),L.copy(_[0]).add(R).add(T),Me(L.x,L.y,L.z)):Me(pe.x,pe.y,0)}for(let ye=1;ye<=f;ye++)for(let pe=0;pe<de;pe++){const Pe=p?Q(C[pe],xe[pe],we):C[pe];b?(R.copy(B.normals[ye]).multiplyScalar(Pe.x),T.copy(B.binormals[ye]).multiplyScalar(Pe.y),L.copy(_[ye]).add(R).add(T),Me(L.x,L.y,L.z)):Me(Pe.x,Pe.y,h/f*ye)}for(let ye=x-1;ye>=0;ye--){const pe=ye/x,Pe=m*Math.cos(pe*Math.PI/2),Ee=y*Math.sin(pe*Math.PI/2)+S;for(let Te=0,U=ee.length;Te<U;Te++){const I=Q(ee[Te],j[Te],Ee);Me(I.x,I.y,h+Pe)}for(let Te=0,U=k.length;Te<U;Te++){const I=k[Te];ne=W[Te];for(let te=0,fe=I.length;te<fe;te++){const me=Q(I[te],ne[te],Ee);b?Me(me.x,me.y+_[f-1].y,_[f-1].x+Pe):Me(me.x,me.y,h+Pe)}}}re(),Se();function re(){const ye=i.length/3;if(p){let pe=0,Pe=de*pe;for(let Ee=0;Ee<ge;Ee++){const Te=H[Ee];rt(Te[2]+Pe,Te[1]+Pe,Te[0]+Pe)}pe=f+x*2,Pe=de*pe;for(let Ee=0;Ee<ge;Ee++){const Te=H[Ee];rt(Te[0]+Pe,Te[1]+Pe,Te[2]+Pe)}}else{for(let pe=0;pe<ge;pe++){const Pe=H[pe];rt(Pe[2],Pe[1],Pe[0])}for(let pe=0;pe<ge;pe++){const Pe=H[pe];rt(Pe[0]+de*f,Pe[1]+de*f,Pe[2]+de*f)}}r.addGroup(ye,i.length/3-ye,0)}function Se(){const ye=i.length/3;let pe=0;be(ee,pe),pe+=ee.length;for(let Pe=0,Ee=k.length;Pe<Ee;Pe++){const Te=k[Pe];be(Te,pe),pe+=Te.length}r.addGroup(ye,i.length/3-ye,1)}function be(ye,pe){let Pe=ye.length;for(;--Pe>=0;){const Ee=Pe;let Te=Pe-1;Te<0&&(Te=ye.length-1);for(let U=0,I=f+x*2;U<I;U++){const te=de*U,fe=de*(U+1),me=pe+Ee+te,_e=pe+Te+te,Xe=pe+Te+fe,Ae=pe+Ee+fe;pt(me,_e,Xe,Ae)}}}function Me(ye,pe,Pe){l.push(ye),l.push(pe),l.push(Pe)}function rt(ye,pe,Pe){st(ye),st(pe),st(Pe);const Ee=i.length/3,Te=A.generateTopUV(r,i,Ee-3,Ee-2,Ee-1);q(Te[0]),q(Te[1]),q(Te[2])}function pt(ye,pe,Pe,Ee){st(ye),st(pe),st(Ee),st(pe),st(Pe),st(Ee);const Te=i.length/3,U=A.generateSideWallUV(r,i,Te-6,Te-3,Te-2,Te-1);q(U[0]),q(U[1]),q(U[3]),q(U[1]),q(U[2]),q(U[3])}function st(ye){i.push(l[ye*3+0]),i.push(l[ye*3+1]),i.push(l[ye*3+2])}function q(ye){s.push(ye.x),s.push(ye.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return DW(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Xv[i.type]().fromJSON(i)),new jy(r,e.options)}}const LW={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new ve(s,o),new ve(a,l),new ve(u,f)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],f=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],S=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new ve(o,1-l),new ve(u,1-h),new ve(p,1-y),new ve(S,1-g)]:[new ve(a,1-l),new ve(f,1-h),new ve(m,1-y),new ve(x,1-g)]}};function DW(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Xy extends pl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Xy(e.radius,e.detail)}}class am extends pl{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new am(e.radius,e.detail)}}class $y extends xt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],f=[];let h=e;const p=(n-e)/i,m=new N,y=new ve;for(let S=0;S<=i;S++){for(let x=0;x<=r;x++){const g=s+x/r*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/n+1)/2,y.y=(m.y/n+1)/2,f.push(y.x,y.y)}h+=p}for(let S=0;S<i;S++){const x=S*(r+1);for(let g=0;g<r;g++){const A=g+x,_=A,b=A+r+1,B=A+r+2,T=A+1;a.push(_,b,T),a.push(b,B,T)}}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(u,3)),this.setAttribute("uv",new Je(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $y(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Jy extends xt{constructor(e=new Sc([new ve(0,.5),new ve(-.5,-.5),new ve(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Je(i,3)),this.setAttribute("normal",new Je(s,3)),this.setAttribute("uv",new Je(o,2));function u(f){const h=i.length/3,p=f.extractPoints(n);let m=p.shape;const y=p.holes;ao.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=y.length;x<g;x++){const A=y[x];ao.isClockWise(A)===!0&&(y[x]=A.reverse())}const S=ao.triangulateShape(m,y);for(let x=0,g=y.length;x<g;x++){const A=y[x];m=m.concat(A)}for(let x=0,g=m.length;x<g;x++){const A=m[x];i.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let x=0,g=S.length;x<g;x++){const A=S[x],_=A[0]+h,b=A[1]+h,B=A[2]+h;r.push(_,b,B),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return FW(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new Jy(r,e.curveSegments)}}function FW(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class lm extends xt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const f=[],h=new N,p=new N,m=[],y=[],S=[],x=[];for(let g=0;g<=r;g++){const A=[],_=g/r;let b=0;g===0&&o===0?b=.5/n:g===r&&l===Math.PI&&(b=-.5/n);for(let B=0;B<=n;B++){const T=B/n;h.x=-e*Math.cos(i+T*s)*Math.sin(o+_*a),h.y=e*Math.cos(o+_*a),h.z=e*Math.sin(i+T*s)*Math.sin(o+_*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),S.push(p.x,p.y,p.z),x.push(T+b,1-_),A.push(u++)}f.push(A)}for(let g=0;g<r;g++)for(let A=0;A<n;A++){const _=f[g][A+1],b=f[g][A],B=f[g+1][A],T=f[g+1][A+1];(g!==0||o>0)&&m.push(_,b,T),(g!==r-1||l<Math.PI)&&m.push(b,B,T)}this.setIndex(m),this.setAttribute("position",new Je(y,3)),this.setAttribute("normal",new Je(S,3)),this.setAttribute("uv",new Je(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ky extends pl{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ky(e.radius,e.detail)}}class Yy extends xt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],f=new N,h=new N,p=new N;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const S=y/i*s,x=m/r*Math.PI*2;h.x=(e+n*Math.cos(x))*Math.cos(S),h.y=(e+n*Math.cos(x))*Math.sin(S),h.z=n*Math.sin(x),a.push(h.x,h.y,h.z),f.x=e*Math.cos(S),f.y=e*Math.sin(S),p.subVectors(h,f).normalize(),l.push(p.x,p.y,p.z),u.push(y/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const S=(i+1)*m+y-1,x=(i+1)*(m-1)+y-1,g=(i+1)*(m-1)+y,A=(i+1)*m+y;o.push(S,x,A),o.push(x,g,A)}this.setIndex(o),this.setAttribute("position",new Je(a,3)),this.setAttribute("normal",new Je(l,3)),this.setAttribute("uv",new Je(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yy(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class qy extends xt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],f=[],h=new N,p=new N,m=new N,y=new N,S=new N,x=new N,g=new N;for(let _=0;_<=r;++_){const b=_/r*s*Math.PI*2;A(b,s,o,e,m),A(b+.01,s,o,e,y),x.subVectors(y,m),g.addVectors(y,m),S.crossVectors(x,g),g.crossVectors(S,x),S.normalize(),g.normalize();for(let B=0;B<=i;++B){const T=B/i*Math.PI*2,R=-n*Math.cos(T),L=n*Math.sin(T);h.x=m.x+(R*g.x+L*S.x),h.y=m.y+(R*g.y+L*S.y),h.z=m.z+(R*g.z+L*S.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),f.push(_/r),f.push(B/i)}}for(let _=1;_<=r;_++)for(let b=1;b<=i;b++){const B=(i+1)*(_-1)+(b-1),T=(i+1)*_+(b-1),R=(i+1)*_+b,L=(i+1)*(_-1)+b;a.push(B,T,L),a.push(T,R,L)}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(u,3)),this.setAttribute("uv",new Je(f,2));function A(_,b,B,T,R){const L=Math.cos(_),P=Math.sin(_),C=B/b*_,k=Math.cos(C);R.x=T*(2+k)*.5*L,R.y=T*(2+k)*P*.5,R.z=T*Math.sin(C)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qy(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Qy extends xt{constructor(e=new vb(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new N,l=new N,u=new ve;let f=new N;const h=[],p=[],m=[],y=[];S(),this.setIndex(y),this.setAttribute("position",new Je(h,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function S(){for(let _=0;_<n;_++)x(_);x(s===!1?n:0),A(),g()}function x(_){f=e.getPointAt(_/n,f);const b=o.normals[_],B=o.binormals[_];for(let T=0;T<=i;T++){const R=T/i*Math.PI*2,L=Math.sin(R),P=-Math.cos(R);l.x=P*b.x+L*B.x,l.y=P*b.y+L*B.y,l.z=P*b.z+L*B.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let _=1;_<=n;_++)for(let b=1;b<=i;b++){const B=(i+1)*(_-1)+(b-1),T=(i+1)*_+(b-1),R=(i+1)*_+b,L=(i+1)*(_-1)+b;y.push(B,T,L),y.push(T,R,L)}}function A(){for(let _=0;_<=n;_++)for(let b=0;b<=i;b++)u.x=_/n,u.y=b/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Qy(new Xv[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class fk extends xt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new N,s=new N;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const h=l[u],p=h.start,m=h.count;for(let y=p,S=p+m;y<S;y+=3)for(let x=0;x<3;x++){const g=a.getX(y+x),A=a.getX(y+(x+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,A),bP(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,h=3*a+(u+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,h),bP(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Je(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function bP(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var CP=Object.freeze({__proto__:null,BoxGeometry:kc,CapsuleGeometry:zy,CircleGeometry:Hy,ConeGeometry:Gy,CylinderGeometry:lf,DodecahedronGeometry:Vy,EdgesGeometry:lk,ExtrudeGeometry:jy,IcosahedronGeometry:Xy,LatheGeometry:om,OctahedronGeometry:am,PlaneGeometry:sf,PolyhedronGeometry:pl,RingGeometry:$y,ShapeGeometry:Jy,SphereGeometry:lm,TetrahedronGeometry:Ky,TorusGeometry:Yy,TorusKnotGeometry:qy,TubeGeometry:Qy,WireframeGeometry:fk});class hk extends $n{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new De(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class pk extends Us{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class cm extends $n{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new De(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xi,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class po extends cm{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Bn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new De(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new De(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new De(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class mk extends $n{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new De(16777215),this.specular=new De(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xi,this.combine=Zp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gk extends $n{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new De(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class vk extends $n{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class yk extends $n{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xi,this.combine=Zp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xk extends $n{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new De(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _k extends Wr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function dc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Sk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ak(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function dM(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function xb(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function kW(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*i;if(!(y<n||y>=r)){h.push(u.times[m]);for(let S=0;S<f;++S)p.push(u.values[m*f+S])}}h.length!==0&&(u.times=dc(h,u.times.constructor),u.values=dc(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function NW(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let S;if(s<=a.times[0]){const g=f,A=h-f;S=a.values.slice(g,A)}else if(s>=a.times[y]){const g=y*h+f,A=g+h-f;S=a.values.slice(g,A)}else{const g=a.createInterpolant(),A=f,_=h-f;g.evaluate(s),S=g.resultBuffer.slice(A,_)}l==="quaternion"&&new zn().fromArray(S).normalize().conjugate().toArray(S);const x=u.times.length;for(let g=0;g<x;++g){const A=g*m+p;if(l==="quaternion")zn.multiplyQuaternionsFlat(u.values,A,S,0,u.values,A);else{const _=m-p*2;for(let b=0;b<_;++b)u.values[A+b]-=S[b]}}}return t.blendMode=qw,t}const OW={convertArray:dc,isTypedArray:Sk,getKeyframeOrder:Ak,sortedArray:dM,flattenJSON:xb,subclip:kW,makeClipAdditive:NW};class cf{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Mk extends cf{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:lc,endingEnd:lc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case cc:s=e,a=2*n-r;break;case Ap:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case cc:o=e,l=2*r-n;break;case Ap:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,f=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-n)/(i-n),S=y*y,x=S*y,g=-p*x+2*p*S-p*y,A=(1+p)*x+(-1.5-2*p)*S+(-.5+p)*y+1,_=(-1-m)*x+(1.5+m)*S+.5*y,b=m*x-m*S;for(let B=0;B!==a;++B)s[B]=g*o[f+B]+A*o[u+B]+_*o[l+B]+b*o[h+B];return s}}class _b extends cf{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(r-n)/(i-n),h=1-f;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*f;return s}}class wk extends cf{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Gs{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=dc(n,this.TimeBufferType),this.values=dc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:dc(e.times,Array),values:dc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new wk(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _b(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Mk(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case zd:n=this.InterpolantFactoryMethodDiscrete;break;case Ic:n=this.InterpolantFactoryMethodLinear;break;case Z0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zd;case this.InterpolantFactoryMethodLinear:return Ic;case this.InterpolantFactoryMethodSmooth:return Z0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Sk(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Z0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let y=0;y!==r;++y){const S=n[h+y];if(S!==n[p+y]||S!==n[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Gs.prototype.TimeBufferType=Float32Array;Gs.prototype.ValueBufferType=Float32Array;Gs.prototype.DefaultInterpolation=Ic;class Nc extends Gs{}Nc.prototype.ValueTypeName="bool";Nc.prototype.ValueBufferType=Array;Nc.prototype.DefaultInterpolation=zd;Nc.prototype.InterpolantFactoryMethodLinear=void 0;Nc.prototype.InterpolantFactoryMethodSmooth=void 0;class Sb extends Gs{}Sb.prototype.ValueTypeName="color";class Wd extends Gs{}Wd.prototype.ValueTypeName="number";class bk extends cf{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let f=u+a;u!==f;u+=4)zn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class sl extends Gs{InterpolantFactoryMethodLinear(e){return new bk(this.times,this.values,this.getValueSize(),e)}}sl.prototype.ValueTypeName="quaternion";sl.prototype.DefaultInterpolation=Ic;sl.prototype.InterpolantFactoryMethodSmooth=void 0;class Oc extends Gs{}Oc.prototype.ValueTypeName="string";Oc.prototype.ValueBufferType=Array;Oc.prototype.DefaultInterpolation=zd;Oc.prototype.InterpolantFactoryMethodLinear=void 0;Oc.prototype.InterpolantFactoryMethodSmooth=void 0;class jd extends Gs{}jd.prototype.ValueTypeName="vector";class Xd{constructor(e="",n=-1,r=[],i=Py){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ni(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(zW(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Gs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=Ak(l);l=dM(l,1,f),u=dM(u,1,f),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Wd(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const h=f[1];let p=i[h];p||(i[h]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,y,S){if(m.length!==0){const x=[],g=[];xb(m,x,g,y),x.length!==0&&S.push(new h(p,x,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let S=0;S<p[y].morphTargets.length;S++)m[p[y].morphTargets[S]]=-1;for(const S in m){const x=[],g=[];for(let A=0;A!==p[y].morphTargets.length;++A){const _=p[y];x.push(_.time),g.push(_.morphTarget===S?1:0)}i.push(new Wd(".morphTargetInfluence["+S+"]",x,g))}l=m.length*o}else{const m=".bones["+n[h].name+"]";r(jd,m+".position",p,"pos",i),r(sl,m+".quaternion",p,"rot",i),r(jd,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function UW(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wd;case"vector":case"vector2":case"vector3":case"vector4":return jd;case"color":return Sb;case"quaternion":return sl;case"bool":case"boolean":return Nc;case"string":return Oc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function zW(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=UW(t.type);if(t.times===void 0){const n=[],r=[];xb(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Oo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Ab{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return u.push(f,h),this},this.removeHandler=function(f){const h=u.indexOf(f);return h!==-1&&u.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],y=u[h+1];if(m.global&&(m.lastIndex=0),m.test(f))return y}return null}}}const Ck=new Ab;class jr{constructor(e){this.manager=e!==void 0?e:Ck,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}jr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Co={};class HW extends Error{constructor(e,n){super(e),this.response=n}}class Hi extends jr{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Oo.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Co[e]!==void 0){Co[e].push({onLoad:n,onProgress:r,onError:i});return}Co[e]=[],Co[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=Co[e],h=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let S=0;const x=new ReadableStream({start(g){A();function A(){h.read().then(({done:_,value:b})=>{if(_)g.close();else{S+=b.byteLength;const B=new ProgressEvent("progress",{lengthComputable:y,loaded:S,total:m});for(let T=0,R=f.length;T<R;T++){const L=f[T];L.onProgress&&L.onProgress(B)}g.enqueue(b),A()}})}}});return new Response(x)}else throw new HW(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{Oo.add(e,u);const f=Co[e];delete Co[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const f=Co[e];if(f===void 0)throw this.manager.itemError(e),u;delete Co[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class GW extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Hi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Xd.parse(e[r]);n.push(i)}return n}}class VW extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new Oy,l=new Hi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=In),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+S]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=In),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Lp extends jr{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Oo.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Tp("img");function l(){f(),Oo.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(h){f(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class WW extends jr{constructor(e){super(e)}load(e,n,r,i){const s=new nm;s.colorSpace=cs;const o=new Lp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class jW extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new qa,a=new Hi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Di,o.wrapT=u.wrapT!==void 0?u.wrapT:Di,o.magFilter=u.magFilter!==void 0?u.magFilter:In,o.minFilter=u.minFilter!==void 0?u.minFilter:In,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=hs),u.mipmapCount===1&&(o.minFilter=In),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class Ek extends jr{constructor(e){super(e)}load(e,n,r,i){const s=new yn,o=new Lp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class ml extends Ut{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new De(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Tk extends ml{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ut.DEFAULT_UP),this.updateMatrix(),this.groundColor=new De(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const kS=new tt,EP=new N,TP=new N;class Mb{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ve(512,512),this.map=null,this.mapPass=null,this.matrix=new tt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rm,this._frameExtents=new ve(1,1),this._viewportCount=1,this._viewports=[new Vt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;EP.setFromMatrixPosition(e.matrixWorld),n.position.copy(EP),TP.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(TP),n.updateMatrixWorld(),kS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(kS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class XW extends Mb{constructor(){super(new Qn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Hd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class wb extends ml{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ut.DEFAULT_UP),this.updateMatrix(),this.target=new Ut,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new XW}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const RP=new tt,nh=new N,NS=new N;class $W extends Mb{constructor(){super(new Qn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ve(4,2),this._viewportCount=6,this._viewports=[new Vt(2,1,1,1),new Vt(0,1,1,1),new Vt(3,1,1,1),new Vt(1,1,1,1),new Vt(3,0,1,1),new Vt(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),nh.setFromMatrixPosition(e.matrixWorld),r.position.copy(nh),NS.copy(r.position),NS.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(NS),r.updateMatrixWorld(),i.makeTranslation(-nh.x,-nh.y,-nh.z),RP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(RP)}}class bb extends ml{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new $W}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class JW extends Mb{constructor(){super(new of(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Cb extends ml{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ut.DEFAULT_UP),this.updateMatrix(),this.target=new Ut,this.shadow=new JW}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Rk extends ml{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Pk extends ml{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Bk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Ik extends ml{constructor(e=new Bk,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Zy extends jr{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Hi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=Zy.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new De().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new De().setHex(o.value);break;case"v2":i.uniforms[s].value=new ve().fromArray(o.value);break;case"v3":i.uniforms[s].value=new N().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Vt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new _t().fromArray(o.value);break;case"m4":i.uniforms[s].value=new tt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ve().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:hk,SpriteMaterial:lb,RawShaderMaterial:pk,ShaderMaterial:Us,PointsMaterial:Ny,MeshPhysicalMaterial:po,MeshStandardMaterial:cm,MeshPhongMaterial:mk,MeshToonMaterial:gk,MeshNormalMaterial:vk,MeshLambertMaterial:yk,MeshDepthMaterial:ob,MeshDistanceMaterial:ab,MeshBasicMaterial:Fi,MeshMatcapMaterial:xk,LineDashedMaterial:_k,LineBasicMaterial:Wr,Material:$n};return new n[e]}}class lo{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Lk extends xt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Dk extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Hi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,y){if(n[y]!==void 0)return n[y];const x=m.interleavedBuffers[y],g=s(m,x.buffer),A=td(x.type,g),_=new im(A,x.stride);return _.uuid=x.uuid,n[y]=_,_}function s(m,y){if(r[y]!==void 0)return r[y];const x=m.arrayBuffers[y],g=new Uint32Array(x).buffer;return r[y]=g,g}const o=e.isInstancedBufferGeometry?new Lk:new xt,a=e.data.index;if(a!==void 0){const m=td(a.type,a.array);o.setIndex(new zt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let S;if(y.isInterleavedBufferAttribute){const x=i(e.data,y.data);S=new il(x,y.itemSize,y.offset,y.normalized)}else{const x=td(y.type,y.array),g=y.isInstancedBufferAttribute?Vd:zt;S=new g(x,y.itemSize,y.normalized)}y.name!==void 0&&(S.name=y.name),y.usage!==void 0&&S.setUsage(y.usage),o.setAttribute(m,S)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],S=[];for(let x=0,g=y.length;x<g;x++){const A=y[x];let _;if(A.isInterleavedBufferAttribute){const b=i(e.data,A.data);_=new il(b,A.itemSize,A.offset,A.normalized)}else{const b=td(A.type,A.array);_=new zt(b,A.itemSize,A.normalized)}A.name!==void 0&&(_.name=A.name),S.push(_)}o.morphAttributes[m]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const S=h[m];o.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new N;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new br(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class KW extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?lo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Hi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?lo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Hi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),n!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Sc().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new sm().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Dk;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in CP?a=CP[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Zy;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Xd.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:td(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Ab(n);s=new Lp(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,S=p.length;y<S;y++){const x=p[y],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new qa(g.data,g.width,g.height)))}i[h.uuid]=new uc(m)}else{const m=a(h.url);i[h.uuid]=new uc(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:td(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Lp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?f.push(y):f.push(new qa(y.data,y.width,y.height)))}r[l.uuid]=new uc(f)}else{const f=await s(l.url);r[l.uuid]=new uc(f)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let f;Array.isArray(u)?(f=new nm,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new qa:f=new yn,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,YW)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],PP),f.wrapT=r(a.wrap[1],PP)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,BP)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,BP)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,S=p.length;y<S;y++){const x=p[y];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,h;switch(e.type){case"Scene":o=new jv,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new De(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Fy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Dy(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Qn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new of(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Rk(e.color,e.intensity);break;case"DirectionalLight":o=new Cb(e.color,e.intensity);break;case"PointLight":o=new bb(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Pk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new wb(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Tk(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Ik().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),h=l(e.material),o=new cb(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),h=l(e.material),o=new On(f,h);break;case"InstancedMesh":f=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new ub(f,h,p),o.instanceMatrix=new Vd(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Vd(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":f=a(e.geometry),h=l(e.material),o=new nk(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const x=new Hr;x.min.fromArray(S.boxMin),x.max.fromArray(S.boxMax);const g=new br;return g.radius=S.sphereRadius,g.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:x,sphereInitialized:S.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":o=new tk;break;case"Line":o=new Qo(a(e.geometry),l(e.material));break;case"LineLoop":o=new db(a(e.geometry),l(e.material));break;case"LineSegments":o=new zs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new fb(a(e.geometry),l(e.material));break;case"Sprite":o=new ek(l(e.material));break;case"Group":o=new No;break;case"Bone":o=new ky;break;default:o=new Ut}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],S=o.getObjectByProperty("uuid",y.object);S!==void 0&&o.addLevel(S,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const YW={UVMapping:Ty,CubeReflectionMapping:qo,CubeRefractionMapping:nl,EquirectangularReflectionMapping:xp,EquirectangularRefractionMapping:_p,CubeUVReflectionMapping:tf},PP={RepeatWrapping:rl,ClampToEdgeWrapping:Di,MirroredRepeatWrapping:Od},BP={NearestFilter:er,NearestMipmapNearestFilter:Ry,NearestMipmapLinearFilter:ac,LinearFilter:In,LinearMipmapNearestFilter:Sd,LinearMipmapLinearFilter:hs};class Fk extends jr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Oo.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Oo.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Oo.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Oo.add(e,l),s.manager.itemStart(e)}}let f0;class Eb{static getContext(){return f0===void 0&&(f0=new(window.AudioContext||window.webkitAudioContext)),f0}static setContext(e){f0=e}}class qW extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Hi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);Eb.getContext().decodeAudioData(u,function(h){n(h)}).catch(a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const IP=new tt,LP=new tt,Ul=new tt;class QW{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Ul.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(xc*n.fov*.5)/n.zoom;let a,l;LP.elements[12]=-i,IP.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Ul.elements[0]=2*n.near/(l-a),Ul.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ul),a=-o*n.aspect-s,l=o*n.aspect-s,Ul.elements[0]=2*n.near/(l-a),Ul.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ul)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(LP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(IP)}}class Tb{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=DP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=DP();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function DP(){return(typeof performance>"u"?Date:performance).now()}const zl=new N,FP=new zn,ZW=new N,Hl=new N;class e7 extends Ut{constructor(){super(),this.type="AudioListener",this.context=Eb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Tb}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zl,FP,ZW),Hl.set(0,0,-1).applyQuaternion(FP),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(zl.x,i),n.positionY.linearRampToValueAtTime(zl.y,i),n.positionZ.linearRampToValueAtTime(zl.z,i),n.forwardX.linearRampToValueAtTime(Hl.x,i),n.forwardY.linearRampToValueAtTime(Hl.y,i),n.forwardZ.linearRampToValueAtTime(Hl.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(zl.x,zl.y,zl.z),n.setOrientation(Hl.x,Hl.y,Hl.z,r.x,r.y,r.z)}}class kk extends Ut{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Gl=new N,kP=new zn,t7=new N,Vl=new N;class n7 extends kk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Gl,kP,t7),Vl.set(0,0,1).applyQuaternion(kP);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Gl.x,r),n.positionY.linearRampToValueAtTime(Gl.y,r),n.positionZ.linearRampToValueAtTime(Gl.z,r),n.orientationX.linearRampToValueAtTime(Vl.x,r),n.orientationY.linearRampToValueAtTime(Vl.y,r),n.orientationZ.linearRampToValueAtTime(Vl.z,r)}else n.setPosition(Gl.x,Gl.y,Gl.z),n.setOrientation(Vl.x,Vl.y,Vl.z)}}class r7{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Nk{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){zn.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;zn.multiplyQuaternionsFlat(e,o,e,n,e,r),zn.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const Rb="\\[\\]\\.:\\/",i7=new RegExp("["+Rb+"]","g"),Pb="[^"+Rb+"]",s7="[^"+Rb.replace("\\.","")+"]",o7=/((?:WC+[\/:])*)/.source.replace("WC",Pb),a7=/(WCOD+)?/.source.replace("WCOD",s7),l7=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Pb),c7=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Pb),u7=new RegExp("^"+o7+a7+l7+c7+"$"),d7=["material","materials","bones","map"];class f7{constructor(e,n,r){const i=r||Ot.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Ot{constructor(e,n,r){this.path=n,this.parsedPath=r||Ot.parseTrackName(n),this.node=Ot.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Ot.Composite(e,n,r):new Ot(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(i7,"")}static parseTrackName(e){const n=u7.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);d7.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Ot.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ot.Composite=f7;Ot.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ot.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ot.prototype.GetterByBindingType=[Ot.prototype._getValue_direct,Ot.prototype._getValue_array,Ot.prototype._getValue_arrayElement,Ot.prototype._getValue_toArray];Ot.prototype.SetterByBindingTypeAndVersioning=[[Ot.prototype._setValue_direct,Ot.prototype._setValue_direct_setNeedsUpdate,Ot.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ot.prototype._setValue_array,Ot.prototype._setValue_array_setNeedsUpdate,Ot.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ot.prototype._setValue_arrayElement,Ot.prototype._setValue_arrayElement_setNeedsUpdate,Ot.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ot.prototype._setValue_fromArray,Ot.prototype._setValue_fromArray_setNeedsUpdate,Ot.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class h7{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ni(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],m=p.uuid;let y=n[m];if(y===void 0){y=l++,n[m]=y,e.push(p);for(let S=0,x=o;S!==x;++S)s[S].push(new Ot(p,r[S],i[S]))}else if(y<u){a=e[y];const S=--u,x=e[S];n[x.uuid]=y,e[y]=x,n[m]=S,e[S]=p;for(let g=0,A=o;g!==A;++g){const _=s[g],b=_[S];let B=_[y];_[y]=b,B===void 0&&(B=new Ot(p,r[g],i[g])),_[S]=B}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=n[u];if(f!==void 0&&f>=s){const h=s++,p=e[h];n[p.uuid]=f,e[f]=p,n[u]=h,e[h]=l;for(let m=0,y=i;m!==y;++m){const S=r[m],x=S[h],g=S[f];S[f]=x,S[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,h=n[f];if(h!==void 0)if(delete n[f],h<s){const p=--s,m=e[p],y=--o,S=e[y];n[m.uuid]=h,e[h]=m,n[S.uuid]=p,e[p]=S,e.pop();for(let x=0,g=i;x!==g;++x){const A=r[x],_=A[p],b=A[y];A[h]=_,A[p]=b,A.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=h),e[h]=m,e.pop();for(let y=0,S=i;y!==S;++y){const x=r[y];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,h=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(h);for(let p=f,m=l.length;p!==m;++p){const y=l[p];h[p]=new Ot(y,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Ok{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:lc,endingEnd:lc};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=_F,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case qw:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case Py:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===SF;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===xF){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=cc,i.endingEnd=cc):(e?i.endingStart=this.zeroSlopeAtStart?cc:lc:i.endingStart=Ap,n?i.endingEnd=this.zeroSlopeAtEnd?cc:lc:i.endingEnd=Ap)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const p7=new Float32Array(1);class m7 extends na{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let y=f[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const S=n&&n._propertyBindings[h].binding.parsedPath;y=new Nk(Ot.create(r,m,S),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new _b(new Float32Array(2),new Float32Array(2),1,p7),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Xd.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Py),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new Ok(this,o,n,r);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Xd.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,h=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=f,n[f]=h,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Bb{constructor(e){this.value=e}clone(){return new Bb(this.value.clone===void 0?this.value:this.value.clone())}}let g7=0;class v7 extends na{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:g7++}),this.name="",this.usage=Cp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class y7 extends im{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class x7{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const NP=new tt;class Uk{constructor(e,n,r=0,i=1/0){this.ray=new rf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new _c,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return NP.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(NP),this}intersectObject(e,n=!0,r=[]){return fM(e,this,r,n),r.sort(OP),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)fM(e[i],this,r,n);return r.sort(OP),r}}function OP(t,e){return t.distance-e.distance}function fM(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)fM(i[s],e,n,!0)}}class zk{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Bn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class _7{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const UP=new ve;class S7{constructor(e=new ve(1/0,1/0),n=new ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=UP.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,UP).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zP=new N,h0=new N;class A7{constructor(e=new N,n=new N){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){zP.subVectors(e,this.start),h0.subVectors(this.end,this.start);const r=h0.dot(h0);let s=h0.dot(zP)/r;return n&&(s=Bn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const HP=new N;class M7 extends Ut{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new xt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Je(i,3));const s=new Wr({fog:!1,toneMapped:!1});this.cone=new zs(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),HP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(HP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ma=new N,p0=new tt,OS=new tt;class w7 extends zs{constructor(e){const n=Hk(e),r=new xt,i=[],s=[],o=new De(0,0,1),a=new De(0,1,0);for(let u=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Je(i,3)),r.setAttribute("color",new Je(s,3));const l=new Wr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");OS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(p0.multiplyMatrices(OS,a.matrixWorld),Ma.setFromMatrixPosition(p0),i.setXYZ(o,Ma.x,Ma.y,Ma.z),p0.multiplyMatrices(OS,a.parent.matrixWorld),Ma.setFromMatrixPosition(p0),i.setXYZ(o+1,Ma.x,Ma.y,Ma.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Hk(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Hk(t.children[n]));return e}class b7 extends On{constructor(e,n,r){const i=new lm(n,4,2),s=new Fi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const C7=new N,GP=new De,VP=new De;class E7 extends Ut{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new am(n);i.rotateY(Math.PI*.5),this.material=new Fi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new zt(o,3)),this.add(new On(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");GP.copy(this.light.color),VP.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?GP:VP;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(C7.setFromMatrixPosition(this.light.matrixWorld).negate())}}class T7 extends zs{constructor(e=10,n=10,r=4473924,i=8947848){r=new De(r),i=new De(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let p=0,m=0,y=-a;p<=n;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const S=p===s?r:i;S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3}const f=new xt;f.setAttribute("position",new Je(l,3)),f.setAttribute("color",new Je(u,3));const h=new Wr({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class R7 extends zs{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new De(s),o=new De(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const S=h&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let h=0;h<r;h++){const p=h&1?s:o,m=e-e/r*h;for(let y=0;y<i;y++){let S=y/i*(Math.PI*2),x=Math.sin(S)*m,g=Math.cos(S)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),S=(y+1)/i*(Math.PI*2),x=Math.sin(S)*m,g=Math.cos(S)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const u=new xt;u.setAttribute("position",new Je(a,3)),u.setAttribute("color",new Je(l,3));const f=new Wr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const WP=new N,m0=new N,jP=new N;class P7 extends Ut{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new xt;i.setAttribute("position",new Je([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Wr({fog:!1,toneMapped:!1});this.lightPlane=new Qo(i,s),this.add(this.lightPlane),i=new xt,i.setAttribute("position",new Je([0,0,0,0,0,1],3)),this.targetLine=new Qo(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),WP.setFromMatrixPosition(this.light.matrixWorld),m0.setFromMatrixPosition(this.light.target.matrixWorld),jP.subVectors(m0,WP),this.lightPlane.lookAt(m0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(m0),this.targetLine.scale.z=jP.length()}}const g0=new N,Rn=new tm;class B7 extends zs{constructor(e){const n=new xt,r=new Wr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,S){l(y),l(S)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}n.setAttribute("position",new Je(i,3)),n.setAttribute("color",new Je(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new De(16755200),f=new De(16711680),h=new De(43775),p=new De(16777215),m=new De(3355443);this.setColors(u,f,h,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Rn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Fn("c",n,e,Rn,0,0,-1),Fn("t",n,e,Rn,0,0,1),Fn("n1",n,e,Rn,-r,-i,-1),Fn("n2",n,e,Rn,r,-i,-1),Fn("n3",n,e,Rn,-r,i,-1),Fn("n4",n,e,Rn,r,i,-1),Fn("f1",n,e,Rn,-r,-i,1),Fn("f2",n,e,Rn,r,-i,1),Fn("f3",n,e,Rn,-r,i,1),Fn("f4",n,e,Rn,r,i,1),Fn("u1",n,e,Rn,r*.7,i*1.1,-1),Fn("u2",n,e,Rn,-r*.7,i*1.1,-1),Fn("u3",n,e,Rn,0,i*2,-1),Fn("cf1",n,e,Rn,-r,0,1),Fn("cf2",n,e,Rn,r,0,1),Fn("cf3",n,e,Rn,0,-i,1),Fn("cf4",n,e,Rn,0,i,1),Fn("cn1",n,e,Rn,-r,0,-1),Fn("cn2",n,e,Rn,r,0,-1),Fn("cn3",n,e,Rn,0,-i,-1),Fn("cn4",n,e,Rn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fn(t,e,n,r,i,s,o){g0.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],g0.x,g0.y,g0.z)}}const v0=new Hr;class I7 extends zs{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new xt;s.setIndex(new zt(r,1)),s.setAttribute("position",new zt(i,3)),super(s,new Wr({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&v0.setFromObject(this.object),v0.isEmpty())return;const n=v0.min,r=v0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class L7 extends zs{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new xt;s.setIndex(new zt(r,1)),s.setAttribute("position",new Je(i,3)),super(s,new Wr({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class D7 extends Qo{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new xt;o.setAttribute("position",new Je(s,3)),o.computeBoundingSphere(),super(o,new Wr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new xt;l.setAttribute("position",new Je(a,3)),l.computeBoundingSphere(),this.add(new On(l,new Fi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const XP=new N;let y0,US;class F7 extends Ut{constructor(e=new N(0,0,1),n=new N(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",y0===void 0&&(y0=new xt,y0.setAttribute("position",new Je([0,0,0,0,1,0],3)),US=new lf(0,.5,1,5,1),US.translate(0,-.5,0)),this.position.copy(n),this.line=new Qo(y0,new Wr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new On(US,new Fi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{XP.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(XP,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class k7 extends zs{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new xt;i.setAttribute("position",new Je(n,3)),i.setAttribute("color",new Je(r,3));const s=new Wr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new De,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class N7{constructor(){this.type="ShapePath",this.color=new De,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Rp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const A=[];for(let _=0,b=g.length;_<b;_++){const B=g[_],T=new Sc;T.curves=B.curves,A.push(T)}return A}function r(g,A){const _=A.length;let b=!1;for(let B=_-1,T=0;T<_;B=T++){let R=A[B],L=A[T],P=L.x-R.x,C=L.y-R.y;if(Math.abs(C)>Number.EPSILON){if(C<0&&(R=A[T],P=-P,L=A[B],C=-C),g.y<R.y||g.y>L.y)continue;if(g.y===R.y){if(g.x===R.x)return!0}else{const k=C*(g.x-R.x)-P*(g.y-R.y);if(k===0)return!0;if(k<0)continue;b=!b}}else{if(g.y!==R.y)continue;if(L.x<=g.x&&g.x<=R.x||R.x<=g.x&&g.x<=L.x)return!0}}return b}const i=ao.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Sc,l.curves=a.curves,u.push(l),u;let f=!i(s[0].getPoints());f=e?!f:f;const h=[],p=[];let m=[],y=0,S;p[y]=void 0,m[y]=[];for(let g=0,A=s.length;g<A;g++)a=s[g],S=a.getPoints(),o=i(S),o=e?!o:o,o?(!f&&p[y]&&y++,p[y]={s:new Sc,p:S},p[y].s.curves=a.curves,f&&y++,m[y]=[]):m[y].push({h:a,p:S[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,A=0;for(let _=0,b=p.length;_<b;_++)h[_]=[];for(let _=0,b=p.length;_<b;_++){const B=m[_];for(let T=0;T<B.length;T++){const R=B[T];let L=!0;for(let P=0;P<p.length;P++)r(R.p,p[P].p)&&(_!==P&&A++,L?(L=!1,h[P].push(R)):g=!0);L&&h[_].push(R)}}A>0&&g===!1&&(m=h)}let x;for(let g=0,A=p.length;g<A;g++){l=p[g].s,u.push(l),x=m[g];for(let _=0,b=x.length;_<b;_++)l.holes.push(x[_].h)}return u}}class O7 extends Os{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qp}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qp);const U7=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Hw,AddEquation:Oa,AddOperation:nF,AdditiveAnimationBlendMode:qw,AdditiveBlending:RA,AgXToneMapping:aF,AlphaFormat:hF,AlwaysCompare:IF,AlwaysDepth:K3,AlwaysStencilFunc:iM,AmbientLight:Rk,AnimationAction:Ok,AnimationClip:Xd,AnimationLoader:GW,AnimationMixer:m7,AnimationObjectGroup:h7,AnimationUtils:OW,ArcCurve:rk,ArrayCamera:qF,ArrowHelper:F7,AttachedBindMode:IA,Audio:kk,AudioAnalyser:r7,AudioContext:Eb,AudioListener:e7,AudioLoader:qW,AxesHelper:k7,BackSide:ii,BasicDepthPacking:MF,BasicShadowMap:R3,BatchedMesh:nk,Bone:ky,BooleanKeyframeTrack:Nc,Box2:S7,Box3:Hr,Box3Helper:L7,BoxGeometry:kc,BoxHelper:I7,BufferAttribute:zt,BufferGeometry:xt,BufferGeometryLoader:Dk,ByteType:uF,Cache:Oo,Camera:tm,CameraHelper:B7,CanvasTexture:lW,CapsuleGeometry:zy,CatmullRomCurve3:ik,CineonToneMapping:sF,CircleGeometry:Hy,ClampToEdgeWrapping:Di,Clock:Tb,Color:De,ColorKeyframeTrack:Sb,ColorManagement:sn,CompressedArrayTexture:oW,CompressedCubeTexture:aW,CompressedTexture:Oy,CompressedTextureLoader:VW,ConeGeometry:Gy,ConstantAlphaFactor:X3,ConstantColorFactor:W3,CubeCamera:GF,CubeReflectionMapping:qo,CubeRefractionMapping:nl,CubeTexture:nm,CubeTextureLoader:WW,CubeUVReflectionMapping:tf,CubicBezierCurve:pb,CubicBezierCurve3:sk,CubicInterpolant:Mk,CullFaceBack:TA,CullFaceFront:T3,CullFaceFrontBack:Q5,CullFaceNone:E3,Curve:Hs,CurvePath:ak,CustomBlending:P3,CustomToneMapping:oF,CylinderGeometry:lf,Cylindrical:_7,Data3DTexture:tb,DataArrayTexture:Iy,DataTexture:qa,DataTextureLoader:jW,DataUtils:rG,DecrementStencilOp:oH,DecrementWrapStencilOp:lH,DefaultLoadingManager:Ck,DepthFormat:yc,DepthStencilFormat:Ud,DepthTexture:sb,DetachedBindMode:cF,DirectionalLight:Cb,DirectionalLightHelper:P7,DiscreteInterpolant:wk,DisplayP3ColorSpace:By,DodecahedronGeometry:Vy,DoubleSide:Is,DstAlphaFactor:U3,DstColorFactor:H3,DynamicCopyUsage:MH,DynamicDrawUsage:vH,DynamicReadUsage:_H,EdgesGeometry:lk,EllipseCurve:Uy,EqualCompare:TF,EqualDepth:q3,EqualStencilFunc:fH,EquirectangularReflectionMapping:xp,EquirectangularRefractionMapping:_p,Euler:xi,EventDispatcher:na,ExtrudeGeometry:jy,FileLoader:Hi,Float16BufferAttribute:cG,Float32BufferAttribute:Je,FloatType:ps,Fog:Fy,FogExp2:Dy,FramebufferTexture:sW,FrontSide:ho,Frustum:rm,GLBufferAttribute:x7,GLSL1:bH,GLSL3:sM,GreaterCompare:RF,GreaterDepth:Z3,GreaterEqualCompare:BF,GreaterEqualDepth:Q3,GreaterEqualStencilFunc:gH,GreaterStencilFunc:pH,GridHelper:T7,Group:No,HalfFloatType:Sp,HemisphereLight:Tk,HemisphereLightHelper:E7,IcosahedronGeometry:Xy,ImageBitmapLoader:Fk,ImageLoader:Lp,ImageUtils:NF,IncrementStencilOp:sH,IncrementWrapStencilOp:aH,InstancedBufferAttribute:Vd,InstancedBufferGeometry:Lk,InstancedInterleavedBuffer:y7,InstancedMesh:ub,Int16BufferAttribute:aG,Int32BufferAttribute:lG,Int8BufferAttribute:iG,IntType:Vw,InterleavedBuffer:im,InterleavedBufferAttribute:il,Interpolant:cf,InterpolateDiscrete:zd,InterpolateLinear:Ic,InterpolateSmooth:Z0,InvertStencilOp:cH,KeepStencilOp:Kl,KeyframeTrack:Gs,LOD:tk,LatheGeometry:om,Layers:_c,LessCompare:EF,LessDepth:Y3,LessEqualCompare:Zw,LessEqualDepth:yp,LessEqualStencilFunc:hH,LessStencilFunc:dH,Light:ml,LightProbe:Ik,Line:Qo,Line3:A7,LineBasicMaterial:Wr,LineCurve:mb,LineCurve3:ok,LineDashedMaterial:_k,LineLoop:db,LineSegments:zs,LinearDisplayP3ColorSpace:em,LinearFilter:In,LinearInterpolant:_b,LinearMipMapLinearFilter:nH,LinearMipMapNearestFilter:tH,LinearMipmapLinearFilter:hs,LinearMipmapNearestFilter:Sd,LinearSRGBColorSpace:ta,LinearToneMapping:rF,LinearTransfer:Mp,Loader:jr,LoaderUtils:lo,LoadingManager:Ab,LoopOnce:xF,LoopPingPong:SF,LoopRepeat:_F,LuminanceAlphaFormat:gF,LuminanceFormat:mF,MOUSE:Y5,Material:$n,MaterialLoader:Zy,MathUtils:LF,Matrix3:_t,Matrix4:tt,MaxEquation:D3,Mesh:On,MeshBasicMaterial:Fi,MeshDepthMaterial:ob,MeshDistanceMaterial:ab,MeshLambertMaterial:yk,MeshMatcapMaterial:xk,MeshNormalMaterial:vk,MeshPhongMaterial:mk,MeshPhysicalMaterial:po,MeshStandardMaterial:cm,MeshToonMaterial:gk,MinEquation:L3,MirroredRepeatWrapping:Od,MixOperation:tF,MultiplyBlending:BA,MultiplyOperation:Zp,NearestFilter:er,NearestMipMapLinearFilter:eH,NearestMipMapNearestFilter:Z5,NearestMipmapLinearFilter:ac,NearestMipmapNearestFilter:Ry,NeutralToneMapping:lF,NeverCompare:CF,NeverDepth:J3,NeverStencilFunc:uH,NoBlending:Go,NoColorSpace:Bo,NoToneMapping:so,NormalAnimationBlendMode:Py,NormalBlending:vc,NotEqualCompare:PF,NotEqualDepth:eF,NotEqualStencilFunc:mH,NumberKeyframeTrack:Wd,Object3D:Ut,ObjectLoader:KW,ObjectSpaceNormalMap:bF,OctahedronGeometry:am,OneFactor:k3,OneMinusConstantAlphaFactor:$3,OneMinusConstantColorFactor:j3,OneMinusDstAlphaFactor:z3,OneMinusDstColorFactor:G3,OneMinusSrcAlphaFactor:Vv,OneMinusSrcColorFactor:O3,OrthographicCamera:of,P3Primaries:bp,PCFShadowMap:Ey,PCFSoftShadowMap:Uh,PMREMGenerator:oM,Path:Rp,PerspectiveCamera:Qn,Plane:La,PlaneGeometry:sf,PlaneHelper:D7,PointLight:bb,PointLightHelper:b7,Points:fb,PointsMaterial:Ny,PolarGridHelper:R7,PolyhedronGeometry:pl,PositionalAudio:n7,PropertyBinding:Ot,PropertyMixer:Nk,QuadraticBezierCurve:gb,QuadraticBezierCurve3:vb,Quaternion:zn,QuaternionKeyframeTrack:sl,QuaternionLinearInterpolant:bk,RED_GREEN_RGTC2_Format:nM,RED_RGTC1_Format:yF,REVISION:Qp,RGBADepthPacking:wF,RGBAFormat:mi,RGBAIntegerFormat:Kw,RGBA_ASTC_10x10_Format:YA,RGBA_ASTC_10x5_Format:$A,RGBA_ASTC_10x6_Format:JA,RGBA_ASTC_10x8_Format:KA,RGBA_ASTC_12x10_Format:qA,RGBA_ASTC_12x12_Format:QA,RGBA_ASTC_4x4_Format:UA,RGBA_ASTC_5x4_Format:zA,RGBA_ASTC_5x5_Format:HA,RGBA_ASTC_6x5_Format:GA,RGBA_ASTC_6x6_Format:VA,RGBA_ASTC_8x5_Format:WA,RGBA_ASTC_8x6_Format:jA,RGBA_ASTC_8x8_Format:XA,RGBA_BPTC_Format:Q0,RGBA_ETC2_EAC_Format:OA,RGBA_PVRTC_2BPPV1_Format:kA,RGBA_PVRTC_4BPPV1_Format:FA,RGBA_S3TC_DXT1_Format:K0,RGBA_S3TC_DXT3_Format:Y0,RGBA_S3TC_DXT5_Format:q0,RGBFormat:pF,RGB_BPTC_SIGNED_Format:ZA,RGB_BPTC_UNSIGNED_Format:eM,RGB_ETC1_Format:Yw,RGB_ETC2_Format:NA,RGB_PVRTC_2BPPV1_Format:DA,RGB_PVRTC_4BPPV1_Format:LA,RGB_S3TC_DXT1_Format:J0,RGFormat:vF,RGIntegerFormat:Jw,RawShaderMaterial:pk,Ray:rf,Raycaster:Uk,Rec709Primaries:wp,RectAreaLight:Pk,RedFormat:Xw,RedIntegerFormat:$w,ReinhardToneMapping:iF,RenderTarget:OF,RepeatWrapping:rl,ReplaceStencilOp:iH,ReverseSubtractEquation:I3,RingGeometry:$y,SIGNED_RED_GREEN_RGTC2_Format:rM,SIGNED_RED_RGTC1_Format:tM,SRGBColorSpace:cs,SRGBTransfer:dn,Scene:jv,ShaderChunk:At,ShaderLib:Bs,ShaderMaterial:Us,ShadowMaterial:hk,Shape:Sc,ShapeGeometry:Jy,ShapePath:N7,ShapeUtils:ao,ShortType:dF,Skeleton:sm,SkeletonHelper:w7,SkinnedMesh:cb,Source:uc,Sphere:br,SphereGeometry:lm,Spherical:zk,SphericalHarmonics3:Bk,SplineCurve:yb,SpotLight:wb,SpotLightHelper:M7,Sprite:ek,SpriteMaterial:lb,SrcAlphaFactor:Gv,SrcAlphaSaturateFactor:V3,SrcColorFactor:N3,StaticCopyUsage:AH,StaticDrawUsage:Cp,StaticReadUsage:xH,StereoCamera:QW,StreamCopyUsage:wH,StreamDrawUsage:yH,StreamReadUsage:SH,StringKeyframeTrack:Oc,SubtractEquation:B3,SubtractiveBlending:PA,TOUCH:q5,TangentSpaceNormalMap:hl,TetrahedronGeometry:Ky,Texture:yn,TextureLoader:Ek,TorusGeometry:Yy,TorusKnotGeometry:qy,Triangle:Ii,TriangleFanDrawMode:Wv,TriangleStripDrawMode:Qw,TrianglesDrawMode:AF,TubeGeometry:Qy,UVMapping:Ty,Uint16BufferAttribute:nb,Uint32BufferAttribute:rb,Uint8BufferAttribute:sG,Uint8ClampedBufferAttribute:oG,Uniform:Bb,UniformsGroup:v7,UniformsLib:Fe,UniformsUtils:HF,UnsignedByteType:oo,UnsignedInt248Type:nf,UnsignedInt5999Type:fF,UnsignedIntType:Bc,UnsignedShort4444Type:Ww,UnsignedShort5551Type:jw,UnsignedShortType:Gw,VSMShadowMap:Ts,Vector2:ve,Vector3:N,Vector4:Vt,VectorKeyframeTrack:jd,VideoTexture:iW,WebGL3DRenderTarget:$H,WebGLArrayRenderTarget:XH,WebGLCoordinateSystem:to,WebGLCubeRenderTarget:VF,WebGLMultipleRenderTargets:O7,WebGLRenderTarget:Os,WebGLRenderer:QF,WebGLUtils:YF,WebGPUCoordinateSystem:Ep,WireframeGeometry:fk,WrapAroundEnding:Ap,ZeroCurvatureEnding:lc,ZeroFactor:F3,ZeroSlopeEnding:cc,ZeroStencilOp:rH,createCanvasElement:FF},Symbol.toStringTag,{value:"Module"}));var Gk={exports:{}},Uc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Uc.ConcurrentRoot=1;Uc.ContinuousEventPriority=4;Uc.DefaultEventPriority=16;Uc.DiscreteEventPriority=1;Uc.IdleEventPriority=536870912;Uc.LegacyRoot=0;Gk.exports=Uc;var id=Gk.exports;function z7(t){let e;const n=new Set,r=(u,f)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,s=(u,f=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const y=f(e);if(!h(p,y)){const S=p;u(p=y,S)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,f,h)=>f||h?s(u,f,h):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const H7=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$P=H7?G.useEffect:G.useLayoutEffect;function G7(t){const e=typeof t=="function"?z7(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=G.useReducer(x=>x+1,0),o=e.getState(),a=G.useRef(o),l=G.useRef(r),u=G.useRef(i),f=G.useRef(!1),h=G.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||f.current)&&(p=r(o),m=!i(h.current,p)),$P(()=>{m&&(h.current=p),a.current=o,l.current=r,u.current=i,f.current=!1});const y=G.useRef(o);$P(()=>{const x=()=>{try{const A=e.getState(),_=l.current(A);u.current(h.current,_)||(a.current=A,h.current=_,s())}catch{f.current=!0,s()}},g=e.subscribe(x);return e.getState()!==y.current&&x(),g},[]);const S=m?p:h.current;return G.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var Vk={exports:{}},zS={exports:{}},HS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP;function V7(){return JP||(JP=1,function(t){function e(D,j){var W=D.length;D.push(j);e:for(;0<W;){var ne=W-1>>>1,xe=D[ne];if(0<i(xe,j))D[ne]=j,D[W]=xe,W=ne;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var j=D[0],W=D.pop();if(W!==j){D[0]=W;e:for(var ne=0,xe=D.length,we=xe>>>1;ne<we;){var re=2*(ne+1)-1,Se=D[re],be=re+1,Me=D[be];if(0>i(Se,W))be<xe&&0>i(Me,Se)?(D[ne]=Me,D[be]=W,ne=be):(D[ne]=Se,D[re]=W,ne=re);else if(be<xe&&0>i(Me,W))D[ne]=Me,D[be]=W,ne=be;else break e}}return j}function i(D,j){var W=D.sortIndex-j.sortIndex;return W!==0?W:D.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,m=!1,y=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=D)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function b(D){if(S=!1,_(D),!y)if(n(l)!==null)y=!0,de(B);else{var j=n(u);j!==null&&ge(b,j.startTime-D)}}function B(D,j){y=!1,S&&(S=!1,g(L),L=-1),m=!0;var W=p;try{for(_(j),h=n(l);h!==null&&(!(h.expirationTime>j)||D&&!k());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var xe=ne(h.expirationTime<=j);j=t.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(l)&&r(l),_(j)}else r(l);h=n(l)}if(h!==null)var we=!0;else{var re=n(u);re!==null&&ge(b,re.startTime-j),we=!1}return we}finally{h=null,p=W,m=!1}}var T=!1,R=null,L=-1,P=5,C=-1;function k(){return!(t.unstable_now()-C<P)}function X(){if(R!==null){var D=t.unstable_now();C=D;var j=!0;try{j=R(!0,D)}finally{j?H():(T=!1,R=null)}}else T=!1}var H;if(typeof A=="function")H=function(){A(X)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Q=ee.port2;ee.port1.onmessage=X,H=function(){Q.postMessage(null)}}else H=function(){x(X,0)};function de(D){R=D,T||(T=!0,H())}function ge(D,j){L=x(function(){D(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,de(B))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var W=p;p=j;try{return D()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=p;p=D;try{return j()}finally{p=W}},t.unstable_scheduleCallback=function(D,j,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,D){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=W+xe,D={id:f++,callback:j,priorityLevel:D,startTime:W,expirationTime:xe,sortIndex:-1},W>ne?(D.sortIndex=W,e(u,D),n(l)===null&&D===n(u)&&(S?(g(L),L=-1):S=!0,ge(b,W-ne))):(D.sortIndex=xe,e(l,D),y||m||(y=!0,de(B))),D},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(D){var j=p;return function(){var W=p;p=j;try{return D.apply(this,arguments)}finally{p=W}}}}(HS)),HS}var KP;function W7(){return KP||(KP=1,zS.exports=V7()),zS.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7=function(e){var n={},r=G,i=W7(),s=Object.assign;function o(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),B=Symbol.iterator;function T(c){return c===null||typeof c!="object"?null:(c=B&&c[B]||c["@@iterator"],typeof c=="function"?c:null)}function R(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case S:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case A:return d=c.displayName||null,d!==null?d:R(c.type)||"Memo";case _:d=c._payload,c=c._init;try{return R(c(d))}catch{}}return null}function L(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function P(c){var d=c,v=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,d.flags&4098&&(v=d.return),c=d.return;while(c)}return d.tag===3?v:null}function C(c){if(P(c)!==c)throw Error(o(188))}function k(c){var d=c.alternate;if(!d){if(d=P(c),d===null)throw Error(o(188));return d!==c?null:c}for(var v=c,M=d;;){var w=v.return;if(w===null)break;var E=w.alternate;if(E===null){if(M=w.return,M!==null){v=M;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===v)return C(w),c;if(E===M)return C(w),d;E=E.sibling}throw Error(o(188))}if(v.return!==M.return)v=w,M=E;else{for(var z=!1,J=w.child;J;){if(J===v){z=!0,v=w,M=E;break}if(J===M){z=!0,M=w,v=E;break}J=J.sibling}if(!z){for(J=E.child;J;){if(J===v){z=!0,v=E,M=w;break}if(J===M){z=!0,M=E,v=w;break}J=J.sibling}if(!z)throw Error(o(189))}}if(v.alternate!==M)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?c:d}function X(c){return c=k(c),c!==null?H(c):null}function H(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=H(c);if(d!==null)return d;c=c.sibling}return null}function ee(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var d=ee(c);if(d!==null)return d}c=c.sibling}return null}var Q=Array.isArray,de=e.getPublicInstance,ge=e.getRootHostContext,D=e.getChildHostContext,j=e.prepareForCommit,W=e.resetAfterCommit,ne=e.createInstance,xe=e.appendInitialChild,we=e.finalizeInitialChildren,re=e.prepareUpdate,Se=e.shouldSetTextContent,be=e.createTextInstance,Me=e.scheduleTimeout,rt=e.cancelTimeout,pt=e.noTimeout,st=e.isPrimaryRenderer,q=e.supportsMutation,ye=e.supportsPersistence,pe=e.supportsHydration,Pe=e.getInstanceFromNode,Ee=e.preparePortalMount,Te=e.getCurrentEventPriority,U=e.detachDeletedInstance,I=e.supportsMicrotasks,te=e.scheduleMicrotask,fe=e.supportsTestSelectors,me=e.findFiberRoot,_e=e.getBoundingRect,Xe=e.getTextContent,Ae=e.isHiddenSubtree,Ke=e.matchAccessibilityRole,it=e.setFocusIfFocusable,Be=e.setupIntersectionObserver,Ue=e.appendChild,ft=e.appendChildToContainer,Ve=e.commitTextUpdate,je=e.commitMount,wt=e.commitUpdate,Ct=e.insertBefore,Ht=e.insertInContainerBefore,Ft=e.removeChild,kt=e.removeChildFromContainer,$e=e.resetTextContent,V=e.hideInstance,Le=e.hideTextInstance,Ie=e.unhideInstance,qe=e.unhideTextInstance,Qe=e.clearContainer,Zt=e.cloneInstance,Bt=e.createContainerChildSet,ln=e.appendChildToContainerChildSet,Hn=e.finalizeContainerChildren,en=e.replaceContainerChildren,Xr=e.cloneHiddenInstance,$r=e.cloneHiddenTextInstance,Jn=e.canHydrateInstance,Hc=e.canHydrateTextInstance,Gc=e.canHydrateSuspenseInstance,Vc=e.isSuspenseInstancePending,Vs=e.isSuspenseInstanceFallback,Wc=e.registerSuspenseInstanceRetry,gr=e.getNextHydratableSibling,jc=e.getFirstHydratableChild,Xc=e.getFirstHydratableChildWithinContainer,pf=e.getFirstHydratableChildWithinSuspenseInstance,mf=e.hydrateInstance,gf=e.hydrateTextInstance,F=e.hydrateSuspenseInstance,Z=e.getNextHydratableInstanceAfterSuspenseInstance,ae=e.commitHydratedContainer,le=e.commitHydratedSuspenseInstance,se=e.clearSuspenseBoundary,ke=e.clearSuspenseBoundaryFromContainer,Ye=e.shouldDeleteUnhydratedTailInstances,nt=e.didNotMatchHydratedContainerTextInstance,ht=e.didNotMatchHydratedTextInstance,ut;function ot(c){if(ut===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);ut=d&&d[1]||""}return`
`+ut+c}var mt=!1;function tn(c,d){if(!c||mt)return"";mt=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Re){var M=Re}Reflect.construct(c,[],d)}else{try{d.call()}catch(Re){M=Re}c.call(d.prototype)}else{try{throw Error()}catch(Re){M=Re}c()}}catch(Re){if(Re&&M&&typeof Re.stack=="string"){for(var w=Re.stack.split(`
`),E=M.stack.split(`
`),z=w.length-1,J=E.length-1;1<=z&&0<=J&&w[z]!==E[J];)J--;for(;1<=z&&0<=J;z--,J--)if(w[z]!==E[J]){if(z!==1||J!==1)do if(z--,J--,0>J||w[z]!==E[J]){var he=`
`+w[z].replace(" at new "," at ");return c.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",c.displayName)),he}while(1<=z&&0<=J);break}}}finally{mt=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?ot(c):""}var or=Object.prototype.hasOwnProperty,xn=[],ar=-1;function Nt(c){return{current:c}}function ze(c){0>ar||(c.current=xn[ar],xn[ar]=null,ar--)}function jt(c,d){ar++,xn[ar]=c.current,c.current=d}var It={},un=Nt(It),Kn=Nt(!1),Jr=It;function Xi(c,d){var v=c.type.contextTypes;if(!v)return It;var M=c.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===d)return M.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in v)w[E]=d[E];return M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=w),w}function Gt(c){return c=c.childContextTypes,c!=null}function Kr(){ze(Kn),ze(un)}function ra(c,d,v){if(un.current!==It)throw Error(o(168));jt(un,d),jt(Kn,v)}function vr(c,d,v){var M=c.stateNode;if(d=d.childContextTypes,typeof M.getChildContext!="function")return v;M=M.getChildContext();for(var w in M)if(!(w in d))throw Error(o(108,L(c)||"Unknown",w));return s({},v,M)}function Ai(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||It,Jr=un.current,jt(un,c),jt(Kn,Kn.current),!0}function ia(c,d,v){var M=c.stateNode;if(!M)throw Error(o(169));v?(c=vr(c,d,Jr),M.__reactInternalMemoizedMergedChildContext=c,ze(Kn),ze(un),jt(un,c)):ze(Kn),jt(Kn,v)}var Er=Math.clz32?Math.clz32:Tx,Ex=Math.log,Am=Math.LN2;function Tx(c){return c>>>=0,c===0?32:31-(Ex(c)/Am|0)|0}var $c=64,Jc=4194304;function sa(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Kc(c,d){var v=c.pendingLanes;if(v===0)return 0;var M=0,w=c.suspendedLanes,E=c.pingedLanes,z=v&268435455;if(z!==0){var J=z&~w;J!==0?M=sa(J):(E&=z,E!==0&&(M=sa(E)))}else z=v&~w,z!==0?M=sa(z):E!==0&&(M=sa(E));if(M===0)return 0;if(d!==0&&d!==M&&!(d&w)&&(w=M&-M,E=d&-d,w>=E||w===16&&(E&4194240)!==0))return d;if(M&4&&(M|=v&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=M;0<d;)v=31-Er(d),w=1<<v,M|=c[v],d&=~w;return M}function Rx(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Px(c,d){for(var v=c.suspendedLanes,M=c.pingedLanes,w=c.expirationTimes,E=c.pendingLanes;0<E;){var z=31-Er(E),J=1<<z,he=w[z];he===-1?(!(J&v)||J&M)&&(w[z]=Rx(J,d)):he<=d&&(c.expiredLanes|=J),E&=~J}}function vl(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function vf(c){for(var d=[],v=0;31>v;v++)d.push(c);return d}function yl(c,d,v){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Er(d),c[d]=v}function Bx(c,d){var v=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var M=c.eventTimes;for(c=c.expirationTimes;0<v;){var w=31-Er(v),E=1<<w;d[w]=0,M[w]=-1,c[w]=-1,v&=~E}}function oa(c,d){var v=c.entangledLanes|=d;for(c=c.entanglements;v;){var M=31-Er(v),w=1<<M;w&d|c[M]&d&&(c[M]|=d),v&=~w}}var Tt=0;function Yc(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var xl=i.unstable_scheduleCallback,Mm=i.unstable_cancelCallback,wm=i.unstable_shouldYield,yf=i.unstable_requestPaint,Ln=i.unstable_now,ys=i.unstable_ImmediatePriority,_l=i.unstable_UserBlockingPriority,xf=i.unstable_NormalPriority,bm=i.unstable_IdlePriority,qc=null,Mi=null;function Ix(c){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(qc,c,void 0,(c.current.flags&128)===128)}catch{}}function Lx(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var wi=typeof Object.is=="function"?Object.is:Lx,xs=null,O=!1,$=!1;function oe(c){xs===null?xs=[c]:xs.push(c)}function He(c){O=!0,oe(c)}function gt(){if(!$&&xs!==null){$=!0;var c=0,d=Tt;try{var v=xs;for(Tt=1;c<v.length;c++){var M=v[c];do M=M(!0);while(M!==null)}xs=null,O=!1}catch(w){throw xs!==null&&(xs=xs.slice(c+1)),xl(ys,gt),w}finally{Tt=d,$=!1}}return null}var nn=a.ReactCurrentBatchConfig;function rn(c,d){if(wi(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var v=Object.keys(c),M=Object.keys(d);if(v.length!==M.length)return!1;for(M=0;M<v.length;M++){var w=v[M];if(!or.call(d,w)||!wi(c[w],d[w]))return!1}return!0}function Et(c){switch(c.tag){case 5:return ot(c.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 2:case 15:return c=tn(c.type,!1),c;case 11:return c=tn(c.type.render,!1),c;case 1:return c=tn(c.type,!0),c;default:return""}}function Rt(c,d){if(c&&c.defaultProps){d=s({},d),c=c.defaultProps;for(var v in c)d[v]===void 0&&(d[v]=c[v]);return d}return d}var yr=Nt(null),lr=null,$i=null,Sl=null;function Al(){Sl=$i=lr=null}function _f(c,d,v){st?(jt(yr,d._currentValue),d._currentValue=v):(jt(yr,d._currentValue2),d._currentValue2=v)}function Dx(c){var d=yr.current;ze(yr),st?c._currentValue=d:c._currentValue2=d}function Fx(c,d,v){for(;c!==null;){var M=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,M!==null&&(M.childLanes|=d)):M!==null&&(M.childLanes&d)!==d&&(M.childLanes|=d),c===v)break;c=c.return}}function Qc(c,d){lr=c,Sl=$i=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&d&&(Ei=!0),c.firstContext=null)}function Ji(c){var d=st?c._currentValue:c._currentValue2;if(Sl!==c)if(c={context:c,memoizedValue:d,next:null},$i===null){if(lr===null)throw Error(o(308));$i=c,lr.dependencies={lanes:0,firstContext:c}}else $i=$i.next=c;return d}var Ws=null,aa=!1;function kx(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BC(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function go(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function la(c,d){var v=c.updateQueue;v!==null&&(v=v.shared,Gn!==null&&c.mode&1&&!(bt&2)?(c=v.interleaved,c===null?(d.next=d,Ws===null?Ws=[v]:Ws.push(v)):(d.next=c.next,c.next=d),v.interleaved=d):(c=v.pending,c===null?d.next=d:(d.next=c.next,c.next=d),v.pending=d))}function Cm(c,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194240)!==0)){var M=d.lanes;M&=c.pendingLanes,v|=M,d.lanes=v,oa(c,v)}}function IC(c,d){var v=c.updateQueue,M=c.alternate;if(M!==null&&(M=M.updateQueue,v===M)){var w=null,E=null;if(v=v.firstBaseUpdate,v!==null){do{var z={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};E===null?w=E=z:E=E.next=z,v=v.next}while(v!==null);E===null?w=E=d:E=E.next=d}else w=E=d;v={baseState:M.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:M.shared,effects:M.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=d:c.next=d,v.lastBaseUpdate=d}function Em(c,d,v,M){var w=c.updateQueue;aa=!1;var E=w.firstBaseUpdate,z=w.lastBaseUpdate,J=w.shared.pending;if(J!==null){w.shared.pending=null;var he=J,Re=he.next;he.next=null,z===null?E=Re:z.next=Re,z=he;var We=c.alternate;We!==null&&(We=We.updateQueue,J=We.lastBaseUpdate,J!==z&&(J===null?We.firstBaseUpdate=Re:J.next=Re,We.lastBaseUpdate=he))}if(E!==null){var vt=w.baseState;z=0,We=Re=he=null,J=E;do{var at=J.lane,cn=J.eventTime;if((M&at)===at){We!==null&&(We=We.next={eventTime:cn,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var et=c,Br=J;switch(at=d,cn=v,Br.tag){case 1:if(et=Br.payload,typeof et=="function"){vt=et.call(cn,vt,at);break e}vt=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Br.payload,at=typeof et=="function"?et.call(cn,vt,at):et,at==null)break e;vt=s({},vt,at);break e;case 2:aa=!0}}J.callback!==null&&J.lane!==0&&(c.flags|=64,at=w.effects,at===null?w.effects=[J]:at.push(J))}else cn={eventTime:cn,lane:at,tag:J.tag,payload:J.payload,callback:J.callback,next:null},We===null?(Re=We=cn,he=vt):We=We.next=cn,z|=at;if(J=J.next,J===null){if(J=w.shared.pending,J===null)break;at=J,J=at.next,at.next=null,w.lastBaseUpdate=at,w.shared.pending=null}}while(!0);if(We===null&&(he=vt),w.baseState=he,w.firstBaseUpdate=Re,w.lastBaseUpdate=We,d=w.shared.interleaved,d!==null){w=d;do z|=w.lane,w=w.next;while(w!==d)}else E===null&&(w.shared.lanes=0);au|=z,c.lanes=z,c.memoizedState=vt}}function LC(c,d,v){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var M=c[d],w=M.callback;if(w!==null){if(M.callback=null,M=v,typeof w!="function")throw Error(o(191,w));w.call(M)}}}var DC=new r.Component().refs;function Nx(c,d,v,M){d=c.memoizedState,v=v(M,d),v=v==null?d:s({},d,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var Tm={isMounted:function(c){return(c=c._reactInternals)?P(c)===c:!1},enqueueSetState:function(c,d,v){c=c._reactInternals;var M=qr(),w=da(c),E=go(M,w);E.payload=d,v!=null&&(E.callback=v),la(c,E),d=Zi(c,w,M),d!==null&&Cm(d,c,w)},enqueueReplaceState:function(c,d,v){c=c._reactInternals;var M=qr(),w=da(c),E=go(M,w);E.tag=1,E.payload=d,v!=null&&(E.callback=v),la(c,E),d=Zi(c,w,M),d!==null&&Cm(d,c,w)},enqueueForceUpdate:function(c,d){c=c._reactInternals;var v=qr(),M=da(c),w=go(v,M);w.tag=2,d!=null&&(w.callback=d),la(c,w),d=Zi(c,M,v),d!==null&&Cm(d,c,M)}};function FC(c,d,v,M,w,E,z){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(M,E,z):d.prototype&&d.prototype.isPureReactComponent?!rn(v,M)||!rn(w,E):!0}function kC(c,d,v){var M=!1,w=It,E=d.contextType;return typeof E=="object"&&E!==null?E=Ji(E):(w=Gt(d)?Jr:un.current,M=d.contextTypes,E=(M=M!=null)?Xi(c,w):It),d=new d(v,E),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Tm,c.stateNode=d,d._reactInternals=c,M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=w,c.__reactInternalMemoizedMaskedChildContext=E),d}function NC(c,d,v,M){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,M),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,M),d.state!==c&&Tm.enqueueReplaceState(d,d.state,null)}function Ox(c,d,v,M){var w=c.stateNode;w.props=v,w.state=c.memoizedState,w.refs=DC,kx(c);var E=d.contextType;typeof E=="object"&&E!==null?w.context=Ji(E):(E=Gt(d)?Jr:un.current,w.context=Xi(c,E)),w.state=c.memoizedState,E=d.getDerivedStateFromProps,typeof E=="function"&&(Nx(c,d,E,v),w.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(d=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),d!==w.state&&Tm.enqueueReplaceState(w,w.state,null),Em(c,v,w,M),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308)}var Zc=[],eu=0,Rm=null,Pm=0,Ki=[],Yi=0,Ml=null,vo=1,yo="";function wl(c,d){Zc[eu++]=Pm,Zc[eu++]=Rm,Rm=c,Pm=d}function OC(c,d,v){Ki[Yi++]=vo,Ki[Yi++]=yo,Ki[Yi++]=Ml,Ml=c;var M=vo;c=yo;var w=32-Er(M)-1;M&=~(1<<w),v+=1;var E=32-Er(d)+w;if(30<E){var z=w-w%5;E=(M&(1<<z)-1).toString(32),M>>=z,w-=z,vo=1<<32-Er(d)+w|v<<w|M,yo=E+c}else vo=1<<E|v<<w|M,yo=c}function Ux(c){c.return!==null&&(wl(c,1),OC(c,1,0))}function zx(c){for(;c===Rm;)Rm=Zc[--eu],Zc[eu]=null,Pm=Zc[--eu],Zc[eu]=null;for(;c===Ml;)Ml=Ki[--Yi],Ki[Yi]=null,yo=Ki[--Yi],Ki[Yi]=null,vo=Ki[--Yi],Ki[Yi]=null}var bi=null,Ci=null,_n=!1,Sf=!1,_s=null;function UC(c,d){var v=es(5,null,null,0);v.elementType="DELETED",v.stateNode=d,v.return=c,d=c.deletions,d===null?(c.deletions=[v],c.flags|=16):d.push(v)}function zC(c,d){switch(c.tag){case 5:return d=Jn(d,c.type,c.pendingProps),d!==null?(c.stateNode=d,bi=c,Ci=jc(d),!0):!1;case 6:return d=Hc(d,c.pendingProps),d!==null?(c.stateNode=d,bi=c,Ci=null,!0):!1;case 13:if(d=Gc(d),d!==null){var v=Ml!==null?{id:vo,overflow:yo}:null;return c.memoizedState={dehydrated:d,treeContext:v,retryLane:1073741824},v=es(18,null,null,0),v.stateNode=d,v.return=c,c.child=v,bi=c,Ci=null,!0}return!1;default:return!1}}function Hx(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Gx(c){if(_n){var d=Ci;if(d){var v=d;if(!zC(c,d)){if(Hx(c))throw Error(o(418));d=gr(v);var M=bi;d&&zC(c,d)?UC(M,v):(c.flags=c.flags&-4097|2,_n=!1,bi=c)}}else{if(Hx(c))throw Error(o(418));c.flags=c.flags&-4097|2,_n=!1,bi=c}}}function HC(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;bi=c}function Af(c){if(!pe||c!==bi)return!1;if(!_n)return HC(c),_n=!0,!1;if(c.tag!==3&&(c.tag!==5||Ye(c.type)&&!Se(c.type,c.memoizedProps))){var d=Ci;if(d){if(Hx(c)){for(c=Ci;c;)c=gr(c);throw Error(o(418))}for(;d;)UC(c,d),d=gr(d)}}if(HC(c),c.tag===13){if(!pe)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Ci=Z(c)}else Ci=bi?gr(c.stateNode):null;return!0}function tu(){pe&&(Ci=bi=null,Sf=_n=!1)}function Vx(c){_s===null?_s=[c]:_s.push(c)}function Mf(c,d,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var M=v.stateNode}if(!M)throw Error(o(147,c));var w=M,E=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===E?d.ref:(d=function(z){var J=w.refs;J===DC&&(J=w.refs={}),z===null?delete J[E]:J[E]=z},d._stringRef=E,d)}if(typeof c!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,c))}return c}function Bm(c,d){throw c=Object.prototype.toString.call(d),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function GC(c){var d=c._init;return d(c._payload)}function VC(c){function d(ie,Y){if(c){var ue=ie.deletions;ue===null?(ie.deletions=[Y],ie.flags|=16):ue.push(Y)}}function v(ie,Y){if(!c)return null;for(;Y!==null;)d(ie,Y),Y=Y.sibling;return null}function M(ie,Y){for(ie=new Map;Y!==null;)Y.key!==null?ie.set(Y.key,Y):ie.set(Y.index,Y),Y=Y.sibling;return ie}function w(ie,Y){return ie=ha(ie,Y),ie.index=0,ie.sibling=null,ie}function E(ie,Y,ue){return ie.index=ue,c?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<Y?(ie.flags|=2,Y):ue):(ie.flags|=2,Y)):(ie.flags|=1048576,Y)}function z(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function J(ie,Y,ue,Oe){return Y===null||Y.tag!==6?(Y=C_(ue,ie.mode,Oe),Y.return=ie,Y):(Y=w(Y,ue),Y.return=ie,Y)}function he(ie,Y,ue,Oe){var Ze=ue.type;return Ze===f?We(ie,Y,ue.props.children,Oe,ue.key):Y!==null&&(Y.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&GC(Ze)===Y.type)?(Oe=w(Y,ue.props),Oe.ref=Mf(ie,Y,ue),Oe.return=ie,Oe):(Oe=lg(ue.type,ue.key,ue.props,null,ie.mode,Oe),Oe.ref=Mf(ie,Y,ue),Oe.return=ie,Oe)}function Re(ie,Y,ue,Oe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ue.containerInfo||Y.stateNode.implementation!==ue.implementation?(Y=E_(ue,ie.mode,Oe),Y.return=ie,Y):(Y=w(Y,ue.children||[]),Y.return=ie,Y)}function We(ie,Y,ue,Oe,Ze){return Y===null||Y.tag!==7?(Y=Bl(ue,ie.mode,Oe,Ze),Y.return=ie,Y):(Y=w(Y,ue),Y.return=ie,Y)}function vt(ie,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=C_(""+Y,ie.mode,ue),Y.return=ie,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return ue=lg(Y.type,Y.key,Y.props,null,ie.mode,ue),ue.ref=Mf(ie,null,Y),ue.return=ie,ue;case u:return Y=E_(Y,ie.mode,ue),Y.return=ie,Y;case _:var Oe=Y._init;return vt(ie,Oe(Y._payload),ue)}if(Q(Y)||T(Y))return Y=Bl(Y,ie.mode,ue,null),Y.return=ie,Y;Bm(ie,Y)}return null}function at(ie,Y,ue,Oe){var Ze=Y!==null?Y.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ze!==null?null:J(ie,Y,""+ue,Oe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ue.key===Ze?he(ie,Y,ue,Oe):null;case u:return ue.key===Ze?Re(ie,Y,ue,Oe):null;case _:return Ze=ue._init,at(ie,Y,Ze(ue._payload),Oe)}if(Q(ue)||T(ue))return Ze!==null?null:We(ie,Y,ue,Oe,null);Bm(ie,ue)}return null}function cn(ie,Y,ue,Oe,Ze){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ie=ie.get(ue)||null,J(Y,ie,""+Oe,Ze);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case l:return ie=ie.get(Oe.key===null?ue:Oe.key)||null,he(Y,ie,Oe,Ze);case u:return ie=ie.get(Oe.key===null?ue:Oe.key)||null,Re(Y,ie,Oe,Ze);case _:var Mt=Oe._init;return cn(ie,Y,ue,Mt(Oe._payload),Ze)}if(Q(Oe)||T(Oe))return ie=ie.get(ue)||null,We(Y,ie,Oe,Ze,null);Bm(Y,Oe)}return null}function et(ie,Y,ue,Oe){for(var Ze=null,Mt=null,yt=Y,Xt=Y=0,ur=null;yt!==null&&Xt<ue.length;Xt++){yt.index>Xt?(ur=yt,yt=null):ur=yt.sibling;var $t=at(ie,yt,ue[Xt],Oe);if($t===null){yt===null&&(yt=ur);break}c&&yt&&$t.alternate===null&&d(ie,yt),Y=E($t,Y,Xt),Mt===null?Ze=$t:Mt.sibling=$t,Mt=$t,yt=ur}if(Xt===ue.length)return v(ie,yt),_n&&wl(ie,Xt),Ze;if(yt===null){for(;Xt<ue.length;Xt++)yt=vt(ie,ue[Xt],Oe),yt!==null&&(Y=E(yt,Y,Xt),Mt===null?Ze=yt:Mt.sibling=yt,Mt=yt);return _n&&wl(ie,Xt),Ze}for(yt=M(ie,yt);Xt<ue.length;Xt++)ur=cn(yt,ie,Xt,ue[Xt],Oe),ur!==null&&(c&&ur.alternate!==null&&yt.delete(ur.key===null?Xt:ur.key),Y=E(ur,Y,Xt),Mt===null?Ze=ur:Mt.sibling=ur,Mt=ur);return c&&yt.forEach(function(pa){return d(ie,pa)}),_n&&wl(ie,Xt),Ze}function Br(ie,Y,ue,Oe){var Ze=T(ue);if(typeof Ze!="function")throw Error(o(150));if(ue=Ze.call(ue),ue==null)throw Error(o(151));for(var Mt=Ze=null,yt=Y,Xt=Y=0,ur=null,$t=ue.next();yt!==null&&!$t.done;Xt++,$t=ue.next()){yt.index>Xt?(ur=yt,yt=null):ur=yt.sibling;var pa=at(ie,yt,$t.value,Oe);if(pa===null){yt===null&&(yt=ur);break}c&&yt&&pa.alternate===null&&d(ie,yt),Y=E(pa,Y,Xt),Mt===null?Ze=pa:Mt.sibling=pa,Mt=pa,yt=ur}if($t.done)return v(ie,yt),_n&&wl(ie,Xt),Ze;if(yt===null){for(;!$t.done;Xt++,$t=ue.next())$t=vt(ie,$t.value,Oe),$t!==null&&(Y=E($t,Y,Xt),Mt===null?Ze=$t:Mt.sibling=$t,Mt=$t);return _n&&wl(ie,Xt),Ze}for(yt=M(ie,yt);!$t.done;Xt++,$t=ue.next())$t=cn(yt,ie,Xt,$t.value,Oe),$t!==null&&(c&&$t.alternate!==null&&yt.delete($t.key===null?Xt:$t.key),Y=E($t,Y,Xt),Mt===null?Ze=$t:Mt.sibling=$t,Mt=$t);return c&&yt.forEach(function(wz){return d(ie,wz)}),_n&&wl(ie,Xt),Ze}function ts(ie,Y,ue,Oe){if(typeof ue=="object"&&ue!==null&&ue.type===f&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:e:{for(var Ze=ue.key,Mt=Y;Mt!==null;){if(Mt.key===Ze){if(Ze=ue.type,Ze===f){if(Mt.tag===7){v(ie,Mt.sibling),Y=w(Mt,ue.props.children),Y.return=ie,ie=Y;break e}}else if(Mt.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&GC(Ze)===Mt.type){v(ie,Mt.sibling),Y=w(Mt,ue.props),Y.ref=Mf(ie,Mt,ue),Y.return=ie,ie=Y;break e}v(ie,Mt);break}else d(ie,Mt);Mt=Mt.sibling}ue.type===f?(Y=Bl(ue.props.children,ie.mode,Oe,ue.key),Y.return=ie,ie=Y):(Oe=lg(ue.type,ue.key,ue.props,null,ie.mode,Oe),Oe.ref=Mf(ie,Y,ue),Oe.return=ie,ie=Oe)}return z(ie);case u:e:{for(Mt=ue.key;Y!==null;){if(Y.key===Mt)if(Y.tag===4&&Y.stateNode.containerInfo===ue.containerInfo&&Y.stateNode.implementation===ue.implementation){v(ie,Y.sibling),Y=w(Y,ue.children||[]),Y.return=ie,ie=Y;break e}else{v(ie,Y);break}else d(ie,Y);Y=Y.sibling}Y=E_(ue,ie.mode,Oe),Y.return=ie,ie=Y}return z(ie);case _:return Mt=ue._init,ts(ie,Y,Mt(ue._payload),Oe)}if(Q(ue))return et(ie,Y,ue,Oe);if(T(ue))return Br(ie,Y,ue,Oe);Bm(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,Y!==null&&Y.tag===6?(v(ie,Y.sibling),Y=w(Y,ue),Y.return=ie,ie=Y):(v(ie,Y),Y=C_(ue,ie.mode,Oe),Y.return=ie,ie=Y),z(ie)):v(ie,Y)}return ts}var nu=VC(!0),WC=VC(!1),wf={},qi=Nt(wf),bf=Nt(wf),ru=Nt(wf);function js(c){if(c===wf)throw Error(o(174));return c}function Wx(c,d){jt(ru,d),jt(bf,c),jt(qi,wf),c=ge(d),ze(qi),jt(qi,c)}function iu(){ze(qi),ze(bf),ze(ru)}function jC(c){var d=js(ru.current),v=js(qi.current);d=D(v,c.type,d),v!==d&&(jt(bf,c),jt(qi,d))}function jx(c){bf.current===c&&(ze(qi),ze(bf))}var An=Nt(0);function Im(c){for(var d=c;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Vc(v)||Vs(v)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Xx=[];function $x(){for(var c=0;c<Xx.length;c++){var d=Xx[c];st?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Xx.length=0}var Lm=a.ReactCurrentDispatcher,Qi=a.ReactCurrentBatchConfig,su=0,Tn=null,Tr=null,cr=null,Dm=!1,Cf=!1,Ef=0,KU=0;function Rr(){throw Error(o(321))}function Jx(c,d){if(d===null)return!1;for(var v=0;v<d.length&&v<c.length;v++)if(!wi(c[v],d[v]))return!1;return!0}function Kx(c,d,v,M,w,E){if(su=E,Tn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Lm.current=c===null||c.memoizedState===null?ZU:ez,c=v(M,w),Cf){E=0;do{if(Cf=!1,Ef=0,25<=E)throw Error(o(301));E+=1,cr=Tr=null,d.updateQueue=null,Lm.current=tz,c=v(M,w)}while(Cf)}if(Lm.current=Um,d=Tr!==null&&Tr.next!==null,su=0,cr=Tr=Tn=null,Dm=!1,d)throw Error(o(300));return c}function Yx(){var c=Ef!==0;return Ef=0,c}function xo(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Tn.memoizedState=cr=c:cr=cr.next=c,cr}function Xs(){if(Tr===null){var c=Tn.alternate;c=c!==null?c.memoizedState:null}else c=Tr.next;var d=cr===null?Tn.memoizedState:cr.next;if(d!==null)cr=d,Tr=c;else{if(c===null)throw Error(o(310));Tr=c,c={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},cr===null?Tn.memoizedState=cr=c:cr=cr.next=c}return cr}function bl(c,d){return typeof d=="function"?d(c):d}function Fm(c){var d=Xs(),v=d.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var M=Tr,w=M.baseQueue,E=v.pending;if(E!==null){if(w!==null){var z=w.next;w.next=E.next,E.next=z}M.baseQueue=w=E,v.pending=null}if(w!==null){E=w.next,M=M.baseState;var J=z=null,he=null,Re=E;do{var We=Re.lane;if((su&We)===We)he!==null&&(he=he.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),M=Re.hasEagerState?Re.eagerState:c(M,Re.action);else{var vt={lane:We,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};he===null?(J=he=vt,z=M):he=he.next=vt,Tn.lanes|=We,au|=We}Re=Re.next}while(Re!==null&&Re!==E);he===null?z=M:he.next=J,wi(M,d.memoizedState)||(Ei=!0),d.memoizedState=M,d.baseState=z,d.baseQueue=he,v.lastRenderedState=M}if(c=v.interleaved,c!==null){w=c;do E=w.lane,Tn.lanes|=E,au|=E,w=w.next;while(w!==c)}else w===null&&(v.lanes=0);return[d.memoizedState,v.dispatch]}function km(c){var d=Xs(),v=d.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var M=v.dispatch,w=v.pending,E=d.memoizedState;if(w!==null){v.pending=null;var z=w=w.next;do E=c(E,z.action),z=z.next;while(z!==w);wi(E,d.memoizedState)||(Ei=!0),d.memoizedState=E,d.baseQueue===null&&(d.baseState=E),v.lastRenderedState=E}return[E,M]}function XC(){}function $C(c,d){var v=Tn,M=Xs(),w=d(),E=!wi(M.memoizedState,w);if(E&&(M.memoizedState=w,Ei=!0),M=M.queue,Rf(YC.bind(null,v,M,c),[c]),M.getSnapshot!==d||E||cr!==null&&cr.memoizedState.tag&1){if(v.flags|=2048,Tf(9,KC.bind(null,v,M,w,d),void 0,null),Gn===null)throw Error(o(349));su&30||JC(v,d,w)}return w}function JC(c,d,v){c.flags|=16384,c={getSnapshot:d,value:v},d=Tn.updateQueue,d===null?(d={lastEffect:null,stores:null},Tn.updateQueue=d,d.stores=[c]):(v=d.stores,v===null?d.stores=[c]:v.push(c))}function KC(c,d,v,M){d.value=v,d.getSnapshot=M,qC(d)&&Zi(c,1,-1)}function YC(c,d,v){return v(function(){qC(d)&&Zi(c,1,-1)})}function qC(c){var d=c.getSnapshot;c=c.value;try{var v=d();return!wi(c,v)}catch{return!0}}function qx(c){var d=xo();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:c},d.queue=c,c=c.dispatch=QU.bind(null,Tn,c),[d.memoizedState,c]}function Tf(c,d,v,M){return c={tag:c,create:d,destroy:v,deps:M,next:null},d=Tn.updateQueue,d===null?(d={lastEffect:null,stores:null},Tn.updateQueue=d,d.lastEffect=c.next=c):(v=d.lastEffect,v===null?d.lastEffect=c.next=c:(M=v.next,v.next=c,c.next=M,d.lastEffect=c)),c}function QC(){return Xs().memoizedState}function Nm(c,d,v,M){var w=xo();Tn.flags|=c,w.memoizedState=Tf(1|d,v,void 0,M===void 0?null:M)}function Om(c,d,v,M){var w=Xs();M=M===void 0?null:M;var E=void 0;if(Tr!==null){var z=Tr.memoizedState;if(E=z.destroy,M!==null&&Jx(M,z.deps)){w.memoizedState=Tf(d,v,E,M);return}}Tn.flags|=c,w.memoizedState=Tf(1|d,v,E,M)}function Qx(c,d){return Nm(8390656,8,c,d)}function Rf(c,d){return Om(2048,8,c,d)}function ZC(c,d){return Om(4,2,c,d)}function eE(c,d){return Om(4,4,c,d)}function tE(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function nE(c,d,v){return v=v!=null?v.concat([c]):null,Om(4,4,tE.bind(null,d,c),v)}function Zx(){}function rE(c,d){var v=Xs();d=d===void 0?null:d;var M=v.memoizedState;return M!==null&&d!==null&&Jx(d,M[1])?M[0]:(v.memoizedState=[c,d],c)}function iE(c,d){var v=Xs();d=d===void 0?null:d;var M=v.memoizedState;return M!==null&&d!==null&&Jx(d,M[1])?M[0]:(c=c(),v.memoizedState=[c,d],c)}function YU(c,d){var v=Tt;Tt=v!==0&&4>v?v:4,c(!0);var M=Qi.transition;Qi.transition={};try{c(!1),d()}finally{Tt=v,Qi.transition=M}}function sE(){return Xs().memoizedState}function qU(c,d,v){var M=da(c);v={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null},oE(c)?aE(d,v):(lE(c,d,v),v=qr(),c=Zi(c,M,v),c!==null&&cE(c,d,M))}function QU(c,d,v){var M=da(c),w={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null};if(oE(c))aE(d,w);else{lE(c,d,w);var E=c.alternate;if(c.lanes===0&&(E===null||E.lanes===0)&&(E=d.lastRenderedReducer,E!==null))try{var z=d.lastRenderedState,J=E(z,v);if(w.hasEagerState=!0,w.eagerState=J,wi(J,z))return}catch{}finally{}v=qr(),c=Zi(c,M,v),c!==null&&cE(c,d,M)}}function oE(c){var d=c.alternate;return c===Tn||d!==null&&d===Tn}function aE(c,d){Cf=Dm=!0;var v=c.pending;v===null?d.next=d:(d.next=v.next,v.next=d),c.pending=d}function lE(c,d,v){Gn!==null&&c.mode&1&&!(bt&2)?(c=d.interleaved,c===null?(v.next=v,Ws===null?Ws=[d]:Ws.push(d)):(v.next=c.next,c.next=v),d.interleaved=v):(c=d.pending,c===null?v.next=v:(v.next=c.next,c.next=v),d.pending=v)}function cE(c,d,v){if(v&4194240){var M=d.lanes;M&=c.pendingLanes,v|=M,d.lanes=v,oa(c,v)}}var Um={readContext:Ji,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},ZU={readContext:Ji,useCallback:function(c,d){return xo().memoizedState=[c,d===void 0?null:d],c},useContext:Ji,useEffect:Qx,useImperativeHandle:function(c,d,v){return v=v!=null?v.concat([c]):null,Nm(4194308,4,tE.bind(null,d,c),v)},useLayoutEffect:function(c,d){return Nm(4194308,4,c,d)},useInsertionEffect:function(c,d){return Nm(4,2,c,d)},useMemo:function(c,d){var v=xo();return d=d===void 0?null:d,c=c(),v.memoizedState=[c,d],c},useReducer:function(c,d,v){var M=xo();return d=v!==void 0?v(d):d,M.memoizedState=M.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},M.queue=c,c=c.dispatch=qU.bind(null,Tn,c),[M.memoizedState,c]},useRef:function(c){var d=xo();return c={current:c},d.memoizedState=c},useState:qx,useDebugValue:Zx,useDeferredValue:function(c){var d=qx(c),v=d[0],M=d[1];return Qx(function(){var w=Qi.transition;Qi.transition={};try{M(c)}finally{Qi.transition=w}},[c]),v},useTransition:function(){var c=qx(!1),d=c[0];return c=YU.bind(null,c[1]),xo().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,v){var M=Tn,w=xo();if(_n){if(v===void 0)throw Error(o(407));v=v()}else{if(v=d(),Gn===null)throw Error(o(349));su&30||JC(M,d,v)}w.memoizedState=v;var E={value:v,getSnapshot:d};return w.queue=E,Qx(YC.bind(null,M,E,c),[c]),M.flags|=2048,Tf(9,KC.bind(null,M,E,v,d),void 0,null),v},useId:function(){var c=xo(),d=Gn.identifierPrefix;if(_n){var v=yo,M=vo;v=(M&~(1<<32-Er(M)-1)).toString(32)+v,d=":"+d+"R"+v,v=Ef++,0<v&&(d+="H"+v.toString(32)),d+=":"}else v=KU++,d=":"+d+"r"+v.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},ez={readContext:Ji,useCallback:rE,useContext:Ji,useEffect:Rf,useImperativeHandle:nE,useInsertionEffect:ZC,useLayoutEffect:eE,useMemo:iE,useReducer:Fm,useRef:QC,useState:function(){return Fm(bl)},useDebugValue:Zx,useDeferredValue:function(c){var d=Fm(bl),v=d[0],M=d[1];return Rf(function(){var w=Qi.transition;Qi.transition={};try{M(c)}finally{Qi.transition=w}},[c]),v},useTransition:function(){var c=Fm(bl)[0],d=Xs().memoizedState;return[c,d]},useMutableSource:XC,useSyncExternalStore:$C,useId:sE,unstable_isNewReconciler:!1},tz={readContext:Ji,useCallback:rE,useContext:Ji,useEffect:Rf,useImperativeHandle:nE,useInsertionEffect:ZC,useLayoutEffect:eE,useMemo:iE,useReducer:km,useRef:QC,useState:function(){return km(bl)},useDebugValue:Zx,useDeferredValue:function(c){var d=km(bl),v=d[0],M=d[1];return Rf(function(){var w=Qi.transition;Qi.transition={};try{M(c)}finally{Qi.transition=w}},[c]),v},useTransition:function(){var c=km(bl)[0],d=Xs().memoizedState;return[c,d]},useMutableSource:XC,useSyncExternalStore:$C,useId:sE,unstable_isNewReconciler:!1};function e_(c,d){try{var v="",M=d;do v+=Et(M),M=M.return;while(M);var w=v}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:c,source:d,stack:w}}function t_(c,d){try{console.error(d.value)}catch(v){setTimeout(function(){throw v})}}var nz=typeof WeakMap=="function"?WeakMap:Map;function uE(c,d,v){v=go(-1,v),v.tag=3,v.payload={element:null};var M=d.value;return v.callback=function(){tg||(tg=!0,x_=M),t_(c,d)},v}function dE(c,d,v){v=go(-1,v),v.tag=3;var M=c.type.getDerivedStateFromError;if(typeof M=="function"){var w=d.value;v.payload=function(){return M(w)},v.callback=function(){t_(c,d)}}var E=c.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(v.callback=function(){t_(c,d),typeof M!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var z=d.stack;this.componentDidCatch(d.value,{componentStack:z!==null?z:""})}),v}function fE(c,d,v){var M=c.pingCache;if(M===null){M=c.pingCache=new nz;var w=new Set;M.set(d,w)}else w=M.get(d),w===void 0&&(w=new Set,M.set(d,w));w.has(v)||(w.add(v),c=gz.bind(null,c,d,v),d.then(c,c))}function hE(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function pE(c,d,v,M,w){return c.mode&1?(c.flags|=65536,c.lanes=w,c):(c===d?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(d=go(-1,1),d.tag=2,la(v,d))),v.lanes|=1),c)}function $s(c){c.flags|=4}function mE(c,d){if(c!==null&&c.child===d.child)return!0;if(d.flags&16)return!1;for(c=d.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var Pf,Bf,zm,Hm;if(q)Pf=function(c,d){for(var v=d.child;v!==null;){if(v.tag===5||v.tag===6)xe(c,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Bf=function(){},zm=function(c,d,v,M,w){if(c=c.memoizedProps,c!==M){var E=d.stateNode,z=js(qi.current);v=re(E,v,c,M,w,z),(d.updateQueue=v)&&$s(d)}},Hm=function(c,d,v,M){v!==M&&$s(d)};else if(ye){Pf=function(c,d,v,M){for(var w=d.child;w!==null;){if(w.tag===5){var E=w.stateNode;v&&M&&(E=Xr(E,w.type,w.memoizedProps,w)),xe(c,E)}else if(w.tag===6)E=w.stateNode,v&&M&&(E=$r(E,w.memoizedProps,w)),xe(c,E);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)E=w.child,E!==null&&(E.return=w),Pf(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var gE=function(c,d,v,M){for(var w=d.child;w!==null;){if(w.tag===5){var E=w.stateNode;v&&M&&(E=Xr(E,w.type,w.memoizedProps,w)),ln(c,E)}else if(w.tag===6)E=w.stateNode,v&&M&&(E=$r(E,w.memoizedProps,w)),ln(c,E);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)E=w.child,E!==null&&(E.return=w),gE(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};Bf=function(c,d){var v=d.stateNode;if(!mE(c,d)){c=v.containerInfo;var M=Bt(c);gE(M,d,!1,!1),v.pendingChildren=M,$s(d),Hn(c,M)}},zm=function(c,d,v,M,w){var E=c.stateNode,z=c.memoizedProps;if((c=mE(c,d))&&z===M)d.stateNode=E;else{var J=d.stateNode,he=js(qi.current),Re=null;z!==M&&(Re=re(J,v,z,M,w,he)),c&&Re===null?d.stateNode=E:(E=Zt(E,Re,v,z,M,d,c,J),we(E,v,M,w,he)&&$s(d),d.stateNode=E,c?$s(d):Pf(E,d,!1,!1))}},Hm=function(c,d,v,M){v!==M?(c=js(ru.current),v=js(qi.current),d.stateNode=be(M,c,v,d),$s(d)):d.stateNode=c.stateNode}}else Bf=function(){},zm=function(){},Hm=function(){};function If(c,d){if(!_n)switch(c.tailMode){case"hidden":d=c.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var M=null;v!==null;)v.alternate!==null&&(M=v),v=v.sibling;M===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:M.sibling=null}}function Pr(c){var d=c.alternate!==null&&c.alternate.child===c.child,v=0,M=0;if(d)for(var w=c.child;w!==null;)v|=w.lanes|w.childLanes,M|=w.subtreeFlags&14680064,M|=w.flags&14680064,w.return=c,w=w.sibling;else for(w=c.child;w!==null;)v|=w.lanes|w.childLanes,M|=w.subtreeFlags,M|=w.flags,w.return=c,w=w.sibling;return c.subtreeFlags|=M,c.childLanes=v,d}function rz(c,d,v){var M=d.pendingProps;switch(zx(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(d),null;case 1:return Gt(d.type)&&Kr(),Pr(d),null;case 3:return M=d.stateNode,iu(),ze(Kn),ze(un),$x(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(c===null||c.child===null)&&(Af(d)?$s(d):c===null||c.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,_s!==null&&(A_(_s),_s=null))),Bf(c,d),Pr(d),null;case 5:jx(d),v=js(ru.current);var w=d.type;if(c!==null&&d.stateNode!=null)zm(c,d,w,M,v),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!M){if(d.stateNode===null)throw Error(o(166));return Pr(d),null}if(c=js(qi.current),Af(d)){if(!pe)throw Error(o(175));c=mf(d.stateNode,d.type,d.memoizedProps,v,c,d,!Sf),d.updateQueue=c,c!==null&&$s(d)}else{var E=ne(w,M,v,c,d);Pf(E,d,!1,!1),d.stateNode=E,we(E,w,M,v,c)&&$s(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Pr(d),null;case 6:if(c&&d.stateNode!=null)Hm(c,d,c.memoizedProps,M);else{if(typeof M!="string"&&d.stateNode===null)throw Error(o(166));if(c=js(ru.current),v=js(qi.current),Af(d)){if(!pe)throw Error(o(176));if(c=d.stateNode,M=d.memoizedProps,(v=gf(c,M,d,!Sf))&&(w=bi,w!==null))switch(E=(w.mode&1)!==0,w.tag){case 3:nt(w.stateNode.containerInfo,c,M,E);break;case 5:ht(w.type,w.memoizedProps,w.stateNode,c,M,E)}v&&$s(d)}else d.stateNode=be(M,c,v,d)}return Pr(d),null;case 13:if(ze(An),M=d.memoizedState,_n&&Ci!==null&&d.mode&1&&!(d.flags&128)){for(c=Ci;c;)c=gr(c);return tu(),d.flags|=98560,d}if(M!==null&&M.dehydrated!==null){if(M=Af(d),c===null){if(!M)throw Error(o(318));if(!pe)throw Error(o(344));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));F(c,d)}else tu(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return Pr(d),null}return _s!==null&&(A_(_s),_s=null),d.flags&128?(d.lanes=v,d):(M=M!==null,v=!1,c===null?Af(d):v=c.memoizedState!==null,M&&!v&&(d.child.flags|=8192,d.mode&1&&(c===null||An.current&1?Yn===0&&(Yn=3):w_())),d.updateQueue!==null&&(d.flags|=4),Pr(d),null);case 4:return iu(),Bf(c,d),c===null&&Ee(d.stateNode.containerInfo),Pr(d),null;case 10:return Dx(d.type._context),Pr(d),null;case 17:return Gt(d.type)&&Kr(),Pr(d),null;case 19:if(ze(An),w=d.memoizedState,w===null)return Pr(d),null;if(M=(d.flags&128)!==0,E=w.rendering,E===null)if(M)If(w,!1);else{if(Yn!==0||c!==null&&c.flags&128)for(c=d.child;c!==null;){if(E=Im(c),E!==null){for(d.flags|=128,If(w,!1),c=E.updateQueue,c!==null&&(d.updateQueue=c,d.flags|=4),d.subtreeFlags=0,c=v,M=d.child;M!==null;)v=M,w=c,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=w,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,w=E.dependencies,v.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),M=M.sibling;return jt(An,An.current&1|2),d.child}c=c.sibling}w.tail!==null&&Ln()>y_&&(d.flags|=128,M=!0,If(w,!1),d.lanes=4194304)}else{if(!M)if(c=Im(E),c!==null){if(d.flags|=128,M=!0,c=c.updateQueue,c!==null&&(d.updateQueue=c,d.flags|=4),If(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!_n)return Pr(d),null}else 2*Ln()-w.renderingStartTime>y_&&v!==1073741824&&(d.flags|=128,M=!0,If(w,!1),d.lanes=4194304);w.isBackwards?(E.sibling=d.child,d.child=E):(c=w.last,c!==null?c.sibling=E:d.child=E,w.last=E)}return w.tail!==null?(d=w.tail,w.rendering=d,w.tail=d.sibling,w.renderingStartTime=Ln(),d.sibling=null,c=An.current,jt(An,M?c&1|2:c&1),d):(Pr(d),null);case 22:case 23:return M_(),M=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==M&&(d.flags|=8192),M&&d.mode&1?Ti&1073741824&&(Pr(d),q&&d.subtreeFlags&6&&(d.flags|=8192)):Pr(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var iz=a.ReactCurrentOwner,Ei=!1;function Yr(c,d,v,M){d.child=c===null?WC(d,null,v,M):nu(d,c.child,v,M)}function vE(c,d,v,M,w){v=v.render;var E=d.ref;return Qc(d,w),M=Kx(c,d,v,M,E,w),v=Yx(),c!==null&&!Ei?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~w,_o(c,d,w)):(_n&&v&&Ux(d),d.flags|=1,Yr(c,d,M,w),d.child)}function yE(c,d,v,M,w){if(c===null){var E=v.type;return typeof E=="function"&&!b_(E)&&E.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(d.tag=15,d.type=E,xE(c,d,E,M,w)):(c=lg(v.type,null,M,d,d.mode,w),c.ref=d.ref,c.return=d,d.child=c)}if(E=c.child,!(c.lanes&w)){var z=E.memoizedProps;if(v=v.compare,v=v!==null?v:rn,v(z,M)&&c.ref===d.ref)return _o(c,d,w)}return d.flags|=1,c=ha(E,M),c.ref=d.ref,c.return=d,d.child=c}function xE(c,d,v,M,w){if(c!==null&&rn(c.memoizedProps,M)&&c.ref===d.ref)if(Ei=!1,(c.lanes&w)!==0)c.flags&131072&&(Ei=!0);else return d.lanes=c.lanes,_o(c,d,w);return n_(c,d,v,M,w)}function _E(c,d,v){var M=d.pendingProps,w=M.children,E=c!==null?c.memoizedState:null;if(M.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},jt(ou,Ti),Ti|=v;else if(v&1073741824)d.memoizedState={baseLanes:0,cachePool:null},M=E!==null?E.baseLanes:v,jt(ou,Ti),Ti|=M;else return c=E!==null?E.baseLanes|v:v,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null},d.updateQueue=null,jt(ou,Ti),Ti|=c,null;else E!==null?(M=E.baseLanes|v,d.memoizedState=null):M=v,jt(ou,Ti),Ti|=M;return Yr(c,d,w,v),d.child}function SE(c,d){var v=d.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(d.flags|=512,d.flags|=2097152)}function n_(c,d,v,M,w){var E=Gt(v)?Jr:un.current;return E=Xi(d,E),Qc(d,w),v=Kx(c,d,v,M,E,w),M=Yx(),c!==null&&!Ei?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~w,_o(c,d,w)):(_n&&M&&Ux(d),d.flags|=1,Yr(c,d,v,w),d.child)}function AE(c,d,v,M,w){if(Gt(v)){var E=!0;Ai(d)}else E=!1;if(Qc(d,w),d.stateNode===null)c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),kC(d,v,M),Ox(d,v,M,w),M=!0;else if(c===null){var z=d.stateNode,J=d.memoizedProps;z.props=J;var he=z.context,Re=v.contextType;typeof Re=="object"&&Re!==null?Re=Ji(Re):(Re=Gt(v)?Jr:un.current,Re=Xi(d,Re));var We=v.getDerivedStateFromProps,vt=typeof We=="function"||typeof z.getSnapshotBeforeUpdate=="function";vt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(J!==M||he!==Re)&&NC(d,z,M,Re),aa=!1;var at=d.memoizedState;z.state=at,Em(d,M,z,w),he=d.memoizedState,J!==M||at!==he||Kn.current||aa?(typeof We=="function"&&(Nx(d,v,We,M),he=d.memoizedState),(J=aa||FC(d,v,J,M,at,he,Re))?(vt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(d.flags|=4194308)):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=M,d.memoizedState=he),z.props=M,z.state=he,z.context=Re,M=J):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),M=!1)}else{z=d.stateNode,BC(c,d),J=d.memoizedProps,Re=d.type===d.elementType?J:Rt(d.type,J),z.props=Re,vt=d.pendingProps,at=z.context,he=v.contextType,typeof he=="object"&&he!==null?he=Ji(he):(he=Gt(v)?Jr:un.current,he=Xi(d,he));var cn=v.getDerivedStateFromProps;(We=typeof cn=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(J!==vt||at!==he)&&NC(d,z,M,he),aa=!1,at=d.memoizedState,z.state=at,Em(d,M,z,w);var et=d.memoizedState;J!==vt||at!==et||Kn.current||aa?(typeof cn=="function"&&(Nx(d,v,cn,M),et=d.memoizedState),(Re=aa||FC(d,v,Re,M,at,et,he)||!1)?(We||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(M,et,he),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(M,et,he)),typeof z.componentDidUpdate=="function"&&(d.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof z.componentDidUpdate!="function"||J===c.memoizedProps&&at===c.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&at===c.memoizedState||(d.flags|=1024),d.memoizedProps=M,d.memoizedState=et),z.props=M,z.state=et,z.context=he,M=Re):(typeof z.componentDidUpdate!="function"||J===c.memoizedProps&&at===c.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&at===c.memoizedState||(d.flags|=1024),M=!1)}return r_(c,d,v,M,E,w)}function r_(c,d,v,M,w,E){SE(c,d);var z=(d.flags&128)!==0;if(!M&&!z)return w&&ia(d,v,!1),_o(c,d,E);M=d.stateNode,iz.current=d;var J=z&&typeof v.getDerivedStateFromError!="function"?null:M.render();return d.flags|=1,c!==null&&z?(d.child=nu(d,c.child,null,E),d.child=nu(d,null,J,E)):Yr(c,d,J,E),d.memoizedState=M.state,w&&ia(d,v,!0),d.child}function ME(c){var d=c.stateNode;d.pendingContext?ra(c,d.pendingContext,d.pendingContext!==d.context):d.context&&ra(c,d.context,!1),Wx(c,d.containerInfo)}function wE(c,d,v,M,w){return tu(),Vx(w),d.flags|=256,Yr(c,d,v,M),d.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function Vm(c){return{baseLanes:c,cachePool:null}}function bE(c,d,v){var M=d.pendingProps,w=An.current,E=!1,z=(d.flags&128)!==0,J;if((J=z)||(J=c!==null&&c.memoizedState===null?!1:(w&2)!==0),J?(E=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(w|=1),jt(An,w&1),c===null)return Gx(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(d.mode&1?Vs(c)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(w=M.children,c=M.fallback,E?(M=d.mode,E=d.child,w={mode:"hidden",children:w},!(M&1)&&E!==null?(E.childLanes=0,E.pendingProps=w):E=cg(w,M,0,null),c=Bl(c,M,v,null),E.return=d,c.return=d,E.sibling=c,d.child=E,d.child.memoizedState=Vm(v),d.memoizedState=Gm,c):i_(d,w));if(w=c.memoizedState,w!==null){if(J=w.dehydrated,J!==null){if(z)return d.flags&256?(d.flags&=-257,Wm(c,d,v,Error(o(422)))):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(E=M.fallback,w=d.mode,M=cg({mode:"visible",children:M.children},w,0,null),E=Bl(E,w,v,null),E.flags|=2,M.return=d,E.return=d,M.sibling=E,d.child=M,d.mode&1&&nu(d,c.child,null,v),d.child.memoizedState=Vm(v),d.memoizedState=Gm,E);if(!(d.mode&1))d=Wm(c,d,v,null);else if(Vs(J))d=Wm(c,d,v,Error(o(419)));else if(M=(v&c.childLanes)!==0,Ei||M){if(M=Gn,M!==null){switch(v&-v){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}M=E&(M.suspendedLanes|v)?0:E,M!==0&&M!==w.retryLane&&(w.retryLane=M,Zi(c,M,-1))}w_(),d=Wm(c,d,v,Error(o(421)))}else Vc(J)?(d.flags|=128,d.child=c.child,d=vz.bind(null,c),Wc(J,d),d=null):(v=w.treeContext,pe&&(Ci=pf(J),bi=d,_n=!0,_s=null,Sf=!1,v!==null&&(Ki[Yi++]=vo,Ki[Yi++]=yo,Ki[Yi++]=Ml,vo=v.id,yo=v.overflow,Ml=d)),d=i_(d,d.pendingProps.children),d.flags|=4096);return d}return E?(M=EE(c,d,M.children,M.fallback,v),E=d.child,w=c.child.memoizedState,E.memoizedState=w===null?Vm(v):{baseLanes:w.baseLanes|v,cachePool:null},E.childLanes=c.childLanes&~v,d.memoizedState=Gm,M):(v=CE(c,d,M.children,v),d.memoizedState=null,v)}return E?(M=EE(c,d,M.children,M.fallback,v),E=d.child,w=c.child.memoizedState,E.memoizedState=w===null?Vm(v):{baseLanes:w.baseLanes|v,cachePool:null},E.childLanes=c.childLanes&~v,d.memoizedState=Gm,M):(v=CE(c,d,M.children,v),d.memoizedState=null,v)}function i_(c,d){return d=cg({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function CE(c,d,v,M){var w=c.child;return c=w.sibling,v=ha(w,{mode:"visible",children:v}),!(d.mode&1)&&(v.lanes=M),v.return=d,v.sibling=null,c!==null&&(M=d.deletions,M===null?(d.deletions=[c],d.flags|=16):M.push(c)),d.child=v}function EE(c,d,v,M,w){var E=d.mode;c=c.child;var z=c.sibling,J={mode:"hidden",children:v};return!(E&1)&&d.child!==c?(v=d.child,v.childLanes=0,v.pendingProps=J,d.deletions=null):(v=ha(c,J),v.subtreeFlags=c.subtreeFlags&14680064),z!==null?M=ha(z,M):(M=Bl(M,E,w,null),M.flags|=2),M.return=d,v.return=d,v.sibling=M,d.child=v,M}function Wm(c,d,v,M){return M!==null&&Vx(M),nu(d,c.child,null,v),c=i_(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function TE(c,d,v){c.lanes|=d;var M=c.alternate;M!==null&&(M.lanes|=d),Fx(c.return,d,v)}function s_(c,d,v,M,w){var E=c.memoizedState;E===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:M,tail:v,tailMode:w}:(E.isBackwards=d,E.rendering=null,E.renderingStartTime=0,E.last=M,E.tail=v,E.tailMode=w)}function RE(c,d,v){var M=d.pendingProps,w=M.revealOrder,E=M.tail;if(Yr(c,d,M.children,v),M=An.current,M&2)M=M&1|2,d.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&TE(c,v,d);else if(c.tag===19)TE(c,v,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}M&=1}if(jt(An,M),!(d.mode&1))d.memoizedState=null;else switch(w){case"forwards":for(v=d.child,w=null;v!==null;)c=v.alternate,c!==null&&Im(c)===null&&(w=v),v=v.sibling;v=w,v===null?(w=d.child,d.child=null):(w=v.sibling,v.sibling=null),s_(d,!1,w,v,E);break;case"backwards":for(v=null,w=d.child,d.child=null;w!==null;){if(c=w.alternate,c!==null&&Im(c)===null){d.child=w;break}c=w.sibling,w.sibling=v,v=w,w=c}s_(d,!0,v,null,E);break;case"together":s_(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function _o(c,d,v){if(c!==null&&(d.dependencies=c.dependencies),au|=d.lanes,!(v&d.childLanes))return null;if(c!==null&&d.child!==c.child)throw Error(o(153));if(d.child!==null){for(c=d.child,v=ha(c,c.pendingProps),d.child=v,v.return=d;c.sibling!==null;)c=c.sibling,v=v.sibling=ha(c,c.pendingProps),v.return=d;v.sibling=null}return d.child}function sz(c,d,v){switch(d.tag){case 3:ME(d),tu();break;case 5:jC(d);break;case 1:Gt(d.type)&&Ai(d);break;case 4:Wx(d,d.stateNode.containerInfo);break;case 10:_f(d,d.type._context,d.memoizedProps.value);break;case 13:var M=d.memoizedState;if(M!==null)return M.dehydrated!==null?(jt(An,An.current&1),d.flags|=128,null):v&d.child.childLanes?bE(c,d,v):(jt(An,An.current&1),c=_o(c,d,v),c!==null?c.sibling:null);jt(An,An.current&1);break;case 19:if(M=(v&d.childLanes)!==0,c.flags&128){if(M)return RE(c,d,v);d.flags|=128}var w=d.memoizedState;if(w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),jt(An,An.current),M)break;return null;case 22:case 23:return d.lanes=0,_E(c,d,v)}return _o(c,d,v)}function oz(c,d){switch(zx(d),d.tag){case 1:return Gt(d.type)&&Kr(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return iu(),ze(Kn),ze(un),$x(),c=d.flags,c&65536&&!(c&128)?(d.flags=c&-65537|128,d):null;case 5:return jx(d),null;case 13:if(ze(An),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(o(340));tu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return ze(An),null;case 4:return iu(),null;case 10:return Dx(d.type._context),null;case 22:case 23:return M_(),null;case 24:return null;default:return null}}var jm=!1,Cl=!1,az=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Xm(c,d){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(M){ui(c,d,M)}else v.current=null}function o_(c,d,v){try{v()}catch(M){ui(c,d,M)}}var PE=!1;function lz(c,d){for(j(c.containerInfo),Ne=d;Ne!==null;)if(c=Ne,d=c.child,(c.subtreeFlags&1028)!==0&&d!==null)d.return=c,Ne=d;else for(;Ne!==null;){c=Ne;try{var v=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var M=v.memoizedProps,w=v.memoizedState,E=c.stateNode,z=E.getSnapshotBeforeUpdate(c.elementType===c.type?M:Rt(c.type,M),w);E.__reactInternalSnapshotBeforeUpdate=z}break;case 3:q&&Qe(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(J){ui(c,c.return,J)}if(d=c.sibling,d!==null){d.return=c.return,Ne=d;break}Ne=c.return}return v=PE,PE=!1,v}function El(c,d,v){var M=d.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var w=M=M.next;do{if((w.tag&c)===c){var E=w.destroy;w.destroy=void 0,E!==void 0&&o_(d,v,E)}w=w.next}while(w!==M)}}function Lf(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var v=d=d.next;do{if((v.tag&c)===c){var M=v.create;v.destroy=M()}v=v.next}while(v!==d)}}function a_(c){var d=c.ref;if(d!==null){var v=c.stateNode;switch(c.tag){case 5:c=de(v);break;default:c=v}typeof d=="function"?d(c):d.current=c}}function BE(c,d,v){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(qc,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(c=d.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var M=c=c.next;do{var w=M,E=w.destroy;w=w.tag,E!==void 0&&(w&2||w&4)&&o_(d,v,E),M=M.next}while(M!==c)}break;case 1:if(Xm(d,v),c=d.stateNode,typeof c.componentWillUnmount=="function")try{c.props=d.memoizedProps,c.state=d.memoizedState,c.componentWillUnmount()}catch(z){ui(d,v,z)}break;case 5:Xm(d,v);break;case 4:q?NE(c,d,v):ye&&ye&&(d=d.stateNode.containerInfo,v=Bt(d),en(d,v))}}function IE(c,d,v){for(var M=d;;)if(BE(c,M,v),M.child===null||q&&M.tag===4){if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function LE(c){var d=c.alternate;d!==null&&(c.alternate=null,LE(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&U(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function DE(c){return c.tag===5||c.tag===3||c.tag===4}function FE(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||DE(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function kE(c){if(q){e:{for(var d=c.return;d!==null;){if(DE(d))break e;d=d.return}throw Error(o(160))}var v=d;switch(v.tag){case 5:d=v.stateNode,v.flags&32&&($e(d),v.flags&=-33),v=FE(c),c_(c,v,d);break;case 3:case 4:d=v.stateNode.containerInfo,v=FE(c),l_(c,v,d);break;default:throw Error(o(161))}}}function l_(c,d,v){var M=c.tag;if(M===5||M===6)c=c.stateNode,d?Ht(v,c,d):ft(v,c);else if(M!==4&&(c=c.child,c!==null))for(l_(c,d,v),c=c.sibling;c!==null;)l_(c,d,v),c=c.sibling}function c_(c,d,v){var M=c.tag;if(M===5||M===6)c=c.stateNode,d?Ct(v,c,d):Ue(v,c);else if(M!==4&&(c=c.child,c!==null))for(c_(c,d,v),c=c.sibling;c!==null;)c_(c,d,v),c=c.sibling}function NE(c,d,v){for(var M=d,w=!1,E,z;;){if(!w){w=M.return;e:for(;;){if(w===null)throw Error(o(160));switch(E=w.stateNode,w.tag){case 5:z=!1;break e;case 3:E=E.containerInfo,z=!0;break e;case 4:E=E.containerInfo,z=!0;break e}w=w.return}w=!0}if(M.tag===5||M.tag===6)IE(c,M,v),z?kt(E,M.stateNode):Ft(E,M.stateNode);else if(M.tag===18)z?ke(E,M.stateNode):se(E,M.stateNode);else if(M.tag===4){if(M.child!==null){E=M.stateNode.containerInfo,z=!0,M.child.return=M,M=M.child;continue}}else if(BE(c,M,v),M.child!==null){M.child.return=M,M=M.child;continue}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return,M.tag===4&&(w=!1)}M.sibling.return=M.return,M=M.sibling}}function u_(c,d){if(q){switch(d.tag){case 0:case 11:case 14:case 15:El(3,d,d.return),Lf(3,d),El(5,d,d.return);return;case 1:return;case 5:var v=d.stateNode;if(v!=null){var M=d.memoizedProps;c=c!==null?c.memoizedProps:M;var w=d.type,E=d.updateQueue;d.updateQueue=null,E!==null&&wt(v,E,w,c,M,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));v=d.memoizedProps,Ve(d.stateNode,c!==null?c.memoizedProps:v,v);return;case 3:pe&&c!==null&&c.memoizedState.isDehydrated&&ae(d.stateNode.containerInfo);return;case 12:return;case 13:$m(d);return;case 19:$m(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:El(3,d,d.return),Lf(3,d),El(5,d,d.return);return;case 12:return;case 13:$m(d);return;case 19:$m(d);return;case 3:pe&&c!==null&&c.memoizedState.isDehydrated&&ae(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(ye){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,en(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function $m(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new az),d.forEach(function(M){var w=yz.bind(null,c,M);v.has(M)||(v.add(M),M.then(w,w))})}}function cz(c,d){for(Ne=d;Ne!==null;){d=Ne;var v=d.deletions;if(v!==null)for(var M=0;M<v.length;M++){var w=v[M];try{var E=c;q?NE(E,w,d):IE(E,w,d);var z=w.alternate;z!==null&&(z.return=null),w.return=null}catch(Ze){ui(w,d,Ze)}}if(v=d.child,d.subtreeFlags&12854&&v!==null)v.return=d,Ne=v;else for(;Ne!==null;){d=Ne;try{var J=d.flags;if(J&32&&q&&$e(d.stateNode),J&512){var he=d.alternate;if(he!==null){var Re=he.ref;Re!==null&&(typeof Re=="function"?Re(null):Re.current=null)}}if(J&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var We=d.alternate;(We===null||We.memoizedState===null)&&(v_=Ln())}break;case 22:var vt=d.memoizedState!==null,at=d.alternate,cn=at!==null&&at.memoizedState!==null;if(v=d,q){e:if(M=v,w=vt,E=null,q)for(var et=M;;){if(et.tag===5){if(E===null){E=et;var Br=et.stateNode;w?V(Br):Ie(et.stateNode,et.memoizedProps)}}else if(et.tag===6){if(E===null){var ts=et.stateNode;w?Le(ts):qe(ts,et.memoizedProps)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===M)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===M)break;for(;et.sibling===null;){if(et.return===null||et.return===M)break e;E===et&&(E=null),et=et.return}E===et&&(E=null),et.sibling.return=et.return,et=et.sibling}}if(vt&&!cn&&v.mode&1){Ne=v;for(var ie=v.child;ie!==null;){for(v=Ne=ie;Ne!==null;){M=Ne;var Y=M.child;switch(M.tag){case 0:case 11:case 14:case 15:El(4,M,M.return);break;case 1:Xm(M,M.return);var ue=M.stateNode;if(typeof ue.componentWillUnmount=="function"){var Oe=M.return;try{ue.props=M.memoizedProps,ue.state=M.memoizedState,ue.componentWillUnmount()}catch(Ze){ui(M,Oe,Ze)}}break;case 5:Xm(M,M.return);break;case 22:if(M.memoizedState!==null){zE(v);continue}}Y!==null?(Y.return=M,Ne=Y):zE(v)}ie=ie.sibling}}}switch(J&4102){case 2:kE(d),d.flags&=-3;break;case 6:kE(d),d.flags&=-3,u_(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,u_(d.alternate,d);break;case 4:u_(d.alternate,d)}}catch(Ze){ui(d,d.return,Ze)}if(v=d.sibling,v!==null){v.return=d.return,Ne=v;break}Ne=d.return}}}function uz(c,d,v){Ne=c,OE(c)}function OE(c,d,v){for(var M=(c.mode&1)!==0;Ne!==null;){var w=Ne,E=w.child;if(w.tag===22&&M){var z=w.memoizedState!==null||jm;if(!z){var J=w.alternate,he=J!==null&&J.memoizedState!==null||Cl;J=jm;var Re=Cl;if(jm=z,(Cl=he)&&!Re)for(Ne=w;Ne!==null;)z=Ne,he=z.child,z.tag===22&&z.memoizedState!==null?HE(w):he!==null?(he.return=z,Ne=he):HE(w);for(;E!==null;)Ne=E,OE(E),E=E.sibling;Ne=w,jm=J,Cl=Re}UE(c)}else w.subtreeFlags&8772&&E!==null?(E.return=w,Ne=E):UE(c)}}function UE(c){for(;Ne!==null;){var d=Ne;if(d.flags&8772){var v=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:Cl||Lf(5,d);break;case 1:var M=d.stateNode;if(d.flags&4&&!Cl)if(v===null)M.componentDidMount();else{var w=d.elementType===d.type?v.memoizedProps:Rt(d.type,v.memoizedProps);M.componentDidUpdate(w,v.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var E=d.updateQueue;E!==null&&LC(d,E,M);break;case 3:var z=d.updateQueue;if(z!==null){if(v=null,d.child!==null)switch(d.child.tag){case 5:v=de(d.child.stateNode);break;case 1:v=d.child.stateNode}LC(d,z,v)}break;case 5:var J=d.stateNode;v===null&&d.flags&4&&je(J,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(pe&&d.memoizedState===null){var he=d.alternate;if(he!==null){var Re=he.memoizedState;if(Re!==null){var We=Re.dehydrated;We!==null&&le(We)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Cl||d.flags&512&&a_(d)}catch(vt){ui(d,d.return,vt)}}if(d===c){Ne=null;break}if(v=d.sibling,v!==null){v.return=d.return,Ne=v;break}Ne=d.return}}function zE(c){for(;Ne!==null;){var d=Ne;if(d===c){Ne=null;break}var v=d.sibling;if(v!==null){v.return=d.return,Ne=v;break}Ne=d.return}}function HE(c){for(;Ne!==null;){var d=Ne;try{switch(d.tag){case 0:case 11:case 15:var v=d.return;try{Lf(4,d)}catch(he){ui(d,v,he)}break;case 1:var M=d.stateNode;if(typeof M.componentDidMount=="function"){var w=d.return;try{M.componentDidMount()}catch(he){ui(d,w,he)}}var E=d.return;try{a_(d)}catch(he){ui(d,E,he)}break;case 5:var z=d.return;try{a_(d)}catch(he){ui(d,z,he)}}}catch(he){ui(d,d.return,he)}if(d===c){Ne=null;break}var J=d.sibling;if(J!==null){J.return=d.return,Ne=J;break}Ne=d.return}}var Jm=0,Km=1,Ym=2,qm=3,Qm=4;if(typeof Symbol=="function"&&Symbol.for){var Df=Symbol.for;Jm=Df("selector.component"),Km=Df("selector.has_pseudo_class"),Ym=Df("selector.role"),qm=Df("selector.test_id"),Qm=Df("selector.text")}function d_(c){var d=Pe(c);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(c=me(c),c===null)throw Error(o(362));return c.stateNode.current}function f_(c,d){switch(d.$$typeof){case Jm:if(c.type===d.value)return!0;break;case Km:e:{d=d.value,c=[c,0];for(var v=0;v<c.length;){var M=c[v++],w=c[v++],E=d[w];if(M.tag!==5||!Ae(M)){for(;E!=null&&f_(M,E);)w++,E=d[w];if(w===d.length){d=!0;break e}else for(M=M.child;M!==null;)c.push(M,w),M=M.sibling}}d=!1}return d;case Ym:if(c.tag===5&&Ke(c.stateNode,d.value))return!0;break;case Qm:if((c.tag===5||c.tag===6)&&(c=Xe(c),c!==null&&0<=c.indexOf(d.value)))return!0;break;case qm:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function h_(c){switch(c.$$typeof){case Jm:return"<"+(R(c.value)||"Unknown")+">";case Km:return":has("+(h_(c)||"")+")";case Ym:return'[role="'+c.value+'"]';case Qm:return'"'+c.value+'"';case qm:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function GE(c,d){var v=[];c=[c,0];for(var M=0;M<c.length;){var w=c[M++],E=c[M++],z=d[E];if(w.tag!==5||!Ae(w)){for(;z!=null&&f_(w,z);)E++,z=d[E];if(E===d.length)v.push(w);else for(w=w.child;w!==null;)c.push(w,E),w=w.sibling}}return v}function p_(c,d){if(!fe)throw Error(o(363));c=d_(c),c=GE(c,d),d=[],c=Array.from(c);for(var v=0;v<c.length;){var M=c[v++];if(M.tag===5)Ae(M)||d.push(M.stateNode);else for(M=M.child;M!==null;)c.push(M),M=M.sibling}return d}var dz=Math.ceil,Zm=a.ReactCurrentDispatcher,m_=a.ReactCurrentOwner,Dn=a.ReactCurrentBatchConfig,bt=0,Gn=null,Vn=null,xr=0,Ti=0,ou=Nt(0),Yn=0,Ff=null,au=0,eg=0,g_=0,kf=null,li=null,v_=0,y_=1/0;function lu(){y_=Ln()+500}var tg=!1,x_=null,ca=null,ng=!1,ua=null,rg=0,Nf=0,__=null,ig=-1,sg=0;function qr(){return bt&6?Ln():ig!==-1?ig:ig=Ln()}function da(c){return c.mode&1?bt&2&&xr!==0?xr&-xr:nn.transition!==null?(sg===0&&(c=$c,$c<<=1,!($c&4194240)&&($c=64),sg=c),sg):(c=Tt,c!==0?c:Te()):1}function Zi(c,d,v){if(50<Nf)throw Nf=0,__=null,Error(o(185));var M=og(c,d);return M===null?null:(yl(M,d,v),(!(bt&2)||M!==Gn)&&(M===Gn&&(!(bt&2)&&(eg|=d),Yn===4&&fa(M,xr)),ci(M,v),d===1&&bt===0&&!(c.mode&1)&&(lu(),O&&gt())),M)}function og(c,d){c.lanes|=d;var v=c.alternate;for(v!==null&&(v.lanes|=d),v=c,c=c.return;c!==null;)c.childLanes|=d,v=c.alternate,v!==null&&(v.childLanes|=d),v=c,c=c.return;return v.tag===3?v.stateNode:null}function ci(c,d){var v=c.callbackNode;Px(c,d);var M=Kc(c,c===Gn?xr:0);if(M===0)v!==null&&Mm(v),c.callbackNode=null,c.callbackPriority=0;else if(d=M&-M,c.callbackPriority!==d){if(v!=null&&Mm(v),d===1)c.tag===0?He(WE.bind(null,c)):oe(WE.bind(null,c)),I?te(function(){bt===0&&gt()}):xl(ys,gt),v=null;else{switch(Yc(M)){case 1:v=ys;break;case 4:v=_l;break;case 16:v=xf;break;case 536870912:v=bm;break;default:v=xf}v=ZE(v,VE.bind(null,c))}c.callbackPriority=d,c.callbackNode=v}}function VE(c,d){if(ig=-1,sg=0,bt&6)throw Error(o(327));var v=c.callbackNode;if(Pl()&&c.callbackNode!==v)return null;var M=Kc(c,c===Gn?xr:0);if(M===0)return null;if(M&30||M&c.expiredLanes||d)d=ag(c,M);else{d=M;var w=bt;bt|=2;var E=$E();(Gn!==c||xr!==d)&&(lu(),Tl(c,d));do try{pz();break}catch(J){XE(c,J)}while(!0);Al(),Zm.current=E,bt=w,Vn!==null?d=0:(Gn=null,xr=0,d=Yn)}if(d!==0){if(d===2&&(w=vl(c),w!==0&&(M=w,d=S_(c,w))),d===1)throw v=Ff,Tl(c,0),fa(c,M),ci(c,Ln()),v;if(d===6)fa(c,M);else{if(w=c.current.alternate,!(M&30)&&!fz(w)&&(d=ag(c,M),d===2&&(E=vl(c),E!==0&&(M=E,d=S_(c,E))),d===1))throw v=Ff,Tl(c,0),fa(c,M),ci(c,Ln()),v;switch(c.finishedWork=w,c.finishedLanes=M,d){case 0:case 1:throw Error(o(345));case 2:Rl(c,li);break;case 3:if(fa(c,M),(M&130023424)===M&&(d=v_+500-Ln(),10<d)){if(Kc(c,0)!==0)break;if(w=c.suspendedLanes,(w&M)!==M){qr(),c.pingedLanes|=c.suspendedLanes&w;break}c.timeoutHandle=Me(Rl.bind(null,c,li),d);break}Rl(c,li);break;case 4:if(fa(c,M),(M&4194240)===M)break;for(d=c.eventTimes,w=-1;0<M;){var z=31-Er(M);E=1<<z,z=d[z],z>w&&(w=z),M&=~E}if(M=w,M=Ln()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*dz(M/1960))-M,10<M){c.timeoutHandle=Me(Rl.bind(null,c,li),M);break}Rl(c,li);break;case 5:Rl(c,li);break;default:throw Error(o(329))}}}return ci(c,Ln()),c.callbackNode===v?VE.bind(null,c):null}function S_(c,d){var v=kf;return c.current.memoizedState.isDehydrated&&(Tl(c,d).flags|=256),c=ag(c,d),c!==2&&(d=li,li=v,d!==null&&A_(d)),c}function A_(c){li===null?li=c:li.push.apply(li,c)}function fz(c){for(var d=c;;){if(d.flags&16384){var v=d.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var M=0;M<v.length;M++){var w=v[M],E=w.getSnapshot;w=w.value;try{if(!wi(E(),w))return!1}catch{return!1}}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function fa(c,d){for(d&=~g_,d&=~eg,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var v=31-Er(d),M=1<<v;c[v]=-1,d&=~M}}function WE(c){if(bt&6)throw Error(o(327));Pl();var d=Kc(c,0);if(!(d&1))return ci(c,Ln()),null;var v=ag(c,d);if(c.tag!==0&&v===2){var M=vl(c);M!==0&&(d=M,v=S_(c,M))}if(v===1)throw v=Ff,Tl(c,0),fa(c,d),ci(c,Ln()),v;if(v===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Rl(c,li),ci(c,Ln()),null}function jE(c){ua!==null&&ua.tag===0&&!(bt&6)&&Pl();var d=bt;bt|=1;var v=Dn.transition,M=Tt;try{if(Dn.transition=null,Tt=1,c)return c()}finally{Tt=M,Dn.transition=v,bt=d,!(bt&6)&&gt()}}function M_(){Ti=ou.current,ze(ou)}function Tl(c,d){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==pt&&(c.timeoutHandle=pt,rt(v)),Vn!==null)for(v=Vn.return;v!==null;){var M=v;switch(zx(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Kr();break;case 3:iu(),ze(Kn),ze(un),$x();break;case 5:jx(M);break;case 4:iu();break;case 13:ze(An);break;case 19:ze(An);break;case 10:Dx(M.type._context);break;case 22:case 23:M_()}v=v.return}if(Gn=c,Vn=c=ha(c.current,null),xr=Ti=d,Yn=0,Ff=null,g_=eg=au=0,li=kf=null,Ws!==null){for(d=0;d<Ws.length;d++)if(v=Ws[d],M=v.interleaved,M!==null){v.interleaved=null;var w=M.next,E=v.pending;if(E!==null){var z=E.next;E.next=w,M.next=z}v.pending=M}Ws=null}return c}function XE(c,d){do{var v=Vn;try{if(Al(),Lm.current=Um,Dm){for(var M=Tn.memoizedState;M!==null;){var w=M.queue;w!==null&&(w.pending=null),M=M.next}Dm=!1}if(su=0,cr=Tr=Tn=null,Cf=!1,Ef=0,m_.current=null,v===null||v.return===null){Yn=1,Ff=d,Vn=null;break}e:{var E=c,z=v.return,J=v,he=d;if(d=xr,J.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Re=he,We=J,vt=We.tag;if(!(We.mode&1)&&(vt===0||vt===11||vt===15)){var at=We.alternate;at?(We.updateQueue=at.updateQueue,We.memoizedState=at.memoizedState,We.lanes=at.lanes):(We.updateQueue=null,We.memoizedState=null)}var cn=hE(z);if(cn!==null){cn.flags&=-257,pE(cn,z,J,E,d),cn.mode&1&&fE(E,Re,d),d=cn,he=Re;var et=d.updateQueue;if(et===null){var Br=new Set;Br.add(he),d.updateQueue=Br}else et.add(he);break e}else{if(!(d&1)){fE(E,Re,d),w_();break e}he=Error(o(426))}}else if(_n&&J.mode&1){var ts=hE(z);if(ts!==null){!(ts.flags&65536)&&(ts.flags|=256),pE(ts,z,J,E,d),Vx(he);break e}}E=he,Yn!==4&&(Yn=2),kf===null?kf=[E]:kf.push(E),he=e_(he,J),J=z;do{switch(J.tag){case 3:J.flags|=65536,d&=-d,J.lanes|=d;var ie=uE(J,he,d);IC(J,ie);break e;case 1:E=he;var Y=J.type,ue=J.stateNode;if(!(J.flags&128)&&(typeof Y.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(ca===null||!ca.has(ue)))){J.flags|=65536,d&=-d,J.lanes|=d;var Oe=dE(J,E,d);IC(J,Oe);break e}}J=J.return}while(J!==null)}KE(v)}catch(Ze){d=Ze,Vn===v&&v!==null&&(Vn=v=v.return);continue}break}while(!0)}function $E(){var c=Zm.current;return Zm.current=Um,c===null?Um:c}function w_(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),Gn===null||!(au&268435455)&&!(eg&268435455)||fa(Gn,xr)}function ag(c,d){var v=bt;bt|=2;var M=$E();Gn===c&&xr===d||Tl(c,d);do try{hz();break}catch(w){XE(c,w)}while(!0);if(Al(),bt=v,Zm.current=M,Vn!==null)throw Error(o(261));return Gn=null,xr=0,Yn}function hz(){for(;Vn!==null;)JE(Vn)}function pz(){for(;Vn!==null&&!wm();)JE(Vn)}function JE(c){var d=QE(c.alternate,c,Ti);c.memoizedProps=c.pendingProps,d===null?KE(c):Vn=d,m_.current=null}function KE(c){var d=c;do{var v=d.alternate;if(c=d.return,d.flags&32768){if(v=oz(v,d),v!==null){v.flags&=32767,Vn=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Yn=6,Vn=null;return}}else if(v=rz(v,d,Ti),v!==null){Vn=v;return}if(d=d.sibling,d!==null){Vn=d;return}Vn=d=c}while(d!==null);Yn===0&&(Yn=5)}function Rl(c,d){var v=Tt,M=Dn.transition;try{Dn.transition=null,Tt=1,mz(c,d,v)}finally{Dn.transition=M,Tt=v}return null}function mz(c,d,v){do Pl();while(ua!==null);if(bt&6)throw Error(o(327));var M=c.finishedWork,w=c.finishedLanes;if(M===null)return null;if(c.finishedWork=null,c.finishedLanes=0,M===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var E=M.lanes|M.childLanes;if(Bx(c,E),c===Gn&&(Vn=Gn=null,xr=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||ng||(ng=!0,ZE(xf,function(){return Pl(),null})),E=(M.flags&15990)!==0,M.subtreeFlags&15990||E){E=Dn.transition,Dn.transition=null;var z=Tt;Tt=1;var J=bt;bt|=4,m_.current=null,lz(c,M),cz(c,M),W(c.containerInfo),c.current=M,uz(M),yf(),bt=J,Tt=z,Dn.transition=E}else c.current=M;if(ng&&(ng=!1,ua=c,rg=w),E=c.pendingLanes,E===0&&(ca=null),Ix(M.stateNode),ci(c,Ln()),d!==null)for(v=c.onRecoverableError,M=0;M<d.length;M++)v(d[M]);if(tg)throw tg=!1,c=x_,x_=null,c;return rg&1&&c.tag!==0&&Pl(),E=c.pendingLanes,E&1?c===__?Nf++:(Nf=0,__=c):Nf=0,gt(),null}function Pl(){if(ua!==null){var c=Yc(rg),d=Dn.transition,v=Tt;try{if(Dn.transition=null,Tt=16>c?16:c,ua===null)var M=!1;else{if(c=ua,ua=null,rg=0,bt&6)throw Error(o(331));var w=bt;for(bt|=4,Ne=c.current;Ne!==null;){var E=Ne,z=E.child;if(Ne.flags&16){var J=E.deletions;if(J!==null){for(var he=0;he<J.length;he++){var Re=J[he];for(Ne=Re;Ne!==null;){var We=Ne;switch(We.tag){case 0:case 11:case 15:El(8,We,E)}var vt=We.child;if(vt!==null)vt.return=We,Ne=vt;else for(;Ne!==null;){We=Ne;var at=We.sibling,cn=We.return;if(LE(We),We===Re){Ne=null;break}if(at!==null){at.return=cn,Ne=at;break}Ne=cn}}}var et=E.alternate;if(et!==null){var Br=et.child;if(Br!==null){et.child=null;do{var ts=Br.sibling;Br.sibling=null,Br=ts}while(Br!==null)}}Ne=E}}if(E.subtreeFlags&2064&&z!==null)z.return=E,Ne=z;else e:for(;Ne!==null;){if(E=Ne,E.flags&2048)switch(E.tag){case 0:case 11:case 15:El(9,E,E.return)}var ie=E.sibling;if(ie!==null){ie.return=E.return,Ne=ie;break e}Ne=E.return}}var Y=c.current;for(Ne=Y;Ne!==null;){z=Ne;var ue=z.child;if(z.subtreeFlags&2064&&ue!==null)ue.return=z,Ne=ue;else e:for(z=Y;Ne!==null;){if(J=Ne,J.flags&2048)try{switch(J.tag){case 0:case 11:case 15:Lf(9,J)}}catch(Ze){ui(J,J.return,Ze)}if(J===z){Ne=null;break e}var Oe=J.sibling;if(Oe!==null){Oe.return=J.return,Ne=Oe;break e}Ne=J.return}}if(bt=w,gt(),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(qc,c)}catch{}M=!0}return M}finally{Tt=v,Dn.transition=d}}return!1}function YE(c,d,v){d=e_(v,d),d=uE(c,d,1),la(c,d),d=qr(),c=og(c,1),c!==null&&(yl(c,1,d),ci(c,d))}function ui(c,d,v){if(c.tag===3)YE(c,c,v);else for(;d!==null;){if(d.tag===3){YE(d,c,v);break}else if(d.tag===1){var M=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(ca===null||!ca.has(M))){c=e_(v,c),c=dE(d,c,1),la(d,c),c=qr(),d=og(d,1),d!==null&&(yl(d,1,c),ci(d,c));break}}d=d.return}}function gz(c,d,v){var M=c.pingCache;M!==null&&M.delete(d),d=qr(),c.pingedLanes|=c.suspendedLanes&v,Gn===c&&(xr&v)===v&&(Yn===4||Yn===3&&(xr&130023424)===xr&&500>Ln()-v_?Tl(c,0):g_|=v),ci(c,d)}function qE(c,d){d===0&&(c.mode&1?(d=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):d=1);var v=qr();c=og(c,d),c!==null&&(yl(c,d,v),ci(c,v))}function vz(c){var d=c.memoizedState,v=0;d!==null&&(v=d.retryLane),qE(c,v)}function yz(c,d){var v=0;switch(c.tag){case 13:var M=c.stateNode,w=c.memoizedState;w!==null&&(v=w.retryLane);break;case 19:M=c.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(d),qE(c,v)}var QE;QE=function(c,d,v){if(c!==null)if(c.memoizedProps!==d.pendingProps||Kn.current)Ei=!0;else{if(!(c.lanes&v)&&!(d.flags&128))return Ei=!1,sz(c,d,v);Ei=!!(c.flags&131072)}else Ei=!1,_n&&d.flags&1048576&&OC(d,Pm,d.index);switch(d.lanes=0,d.tag){case 2:var M=d.type;c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),c=d.pendingProps;var w=Xi(d,un.current);Qc(d,v),w=Kx(null,d,M,c,w,v);var E=Yx();return d.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Gt(M)?(E=!0,Ai(d)):E=!1,d.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,kx(d),w.updater=Tm,d.stateNode=w,w._reactInternals=d,Ox(d,M,c,v),d=r_(null,d,M,!0,E,v)):(d.tag=0,_n&&E&&Ux(d),Yr(null,d,w,v),d=d.child),d;case 16:M=d.elementType;e:{switch(c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),c=d.pendingProps,w=M._init,M=w(M._payload),d.type=M,w=d.tag=_z(M),c=Rt(M,c),w){case 0:d=n_(null,d,M,c,v);break e;case 1:d=AE(null,d,M,c,v);break e;case 11:d=vE(null,d,M,c,v);break e;case 14:d=yE(null,d,M,Rt(M.type,c),v);break e}throw Error(o(306,M,""))}return d;case 0:return M=d.type,w=d.pendingProps,w=d.elementType===M?w:Rt(M,w),n_(c,d,M,w,v);case 1:return M=d.type,w=d.pendingProps,w=d.elementType===M?w:Rt(M,w),AE(c,d,M,w,v);case 3:e:{if(ME(d),c===null)throw Error(o(387));M=d.pendingProps,E=d.memoizedState,w=E.element,BC(c,d),Em(d,M,null,v);var z=d.memoizedState;if(M=z.element,pe&&E.isDehydrated)if(E={element:M,isDehydrated:!1,cache:z.cache,transitions:z.transitions},d.updateQueue.baseState=E,d.memoizedState=E,d.flags&256){w=Error(o(423)),d=wE(c,d,M,v,w);break e}else if(M!==w){w=Error(o(424)),d=wE(c,d,M,v,w);break e}else for(pe&&(Ci=Xc(d.stateNode.containerInfo),bi=d,_n=!0,_s=null,Sf=!1),v=WC(d,null,M,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(tu(),M===w){d=_o(c,d,v);break e}Yr(c,d,M,v)}d=d.child}return d;case 5:return jC(d),c===null&&Gx(d),M=d.type,w=d.pendingProps,E=c!==null?c.memoizedProps:null,z=w.children,Se(M,w)?z=null:E!==null&&Se(M,E)&&(d.flags|=32),SE(c,d),Yr(c,d,z,v),d.child;case 6:return c===null&&Gx(d),null;case 13:return bE(c,d,v);case 4:return Wx(d,d.stateNode.containerInfo),M=d.pendingProps,c===null?d.child=nu(d,null,M,v):Yr(c,d,M,v),d.child;case 11:return M=d.type,w=d.pendingProps,w=d.elementType===M?w:Rt(M,w),vE(c,d,M,w,v);case 7:return Yr(c,d,d.pendingProps,v),d.child;case 8:return Yr(c,d,d.pendingProps.children,v),d.child;case 12:return Yr(c,d,d.pendingProps.children,v),d.child;case 10:e:{if(M=d.type._context,w=d.pendingProps,E=d.memoizedProps,z=w.value,_f(d,M,z),E!==null)if(wi(E.value,z)){if(E.children===w.children&&!Kn.current){d=_o(c,d,v);break e}}else for(E=d.child,E!==null&&(E.return=d);E!==null;){var J=E.dependencies;if(J!==null){z=E.child;for(var he=J.firstContext;he!==null;){if(he.context===M){if(E.tag===1){he=go(-1,v&-v),he.tag=2;var Re=E.updateQueue;if(Re!==null){Re=Re.shared;var We=Re.pending;We===null?he.next=he:(he.next=We.next,We.next=he),Re.pending=he}}E.lanes|=v,he=E.alternate,he!==null&&(he.lanes|=v),Fx(E.return,v,d),J.lanes|=v;break}he=he.next}}else if(E.tag===10)z=E.type===d.type?null:E.child;else if(E.tag===18){if(z=E.return,z===null)throw Error(o(341));z.lanes|=v,J=z.alternate,J!==null&&(J.lanes|=v),Fx(z,v,d),z=E.sibling}else z=E.child;if(z!==null)z.return=E;else for(z=E;z!==null;){if(z===d){z=null;break}if(E=z.sibling,E!==null){E.return=z.return,z=E;break}z=z.return}E=z}Yr(c,d,w.children,v),d=d.child}return d;case 9:return w=d.type,M=d.pendingProps.children,Qc(d,v),w=Ji(w),M=M(w),d.flags|=1,Yr(c,d,M,v),d.child;case 14:return M=d.type,w=Rt(M,d.pendingProps),w=Rt(M.type,w),yE(c,d,M,w,v);case 15:return xE(c,d,d.type,d.pendingProps,v);case 17:return M=d.type,w=d.pendingProps,w=d.elementType===M?w:Rt(M,w),c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Gt(M)?(c=!0,Ai(d)):c=!1,Qc(d,v),kC(d,M,w),Ox(d,M,w,v),r_(null,d,M,!0,c,v);case 19:return RE(c,d,v);case 22:return _E(c,d,v)}throw Error(o(156,d.tag))};function ZE(c,d){return xl(c,d)}function xz(c,d,v,M){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(c,d,v,M){return new xz(c,d,v,M)}function b_(c){return c=c.prototype,!(!c||!c.isReactComponent)}function _z(c){if(typeof c=="function")return b_(c)?1:0;if(c!=null){if(c=c.$$typeof,c===S)return 11;if(c===A)return 14}return 2}function ha(c,d){var v=c.alternate;return v===null?(v=es(c.tag,d,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=d,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,d=c.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function lg(c,d,v,M,w,E){var z=2;if(M=c,typeof c=="function")b_(c)&&(z=1);else if(typeof c=="string")z=5;else e:switch(c){case f:return Bl(v.children,w,E,d);case h:z=8,w|=8;break;case p:return c=es(12,v,d,w|2),c.elementType=p,c.lanes=E,c;case x:return c=es(13,v,d,w),c.elementType=x,c.lanes=E,c;case g:return c=es(19,v,d,w),c.elementType=g,c.lanes=E,c;case b:return cg(v,w,E,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:z=10;break e;case y:z=9;break e;case S:z=11;break e;case A:z=14;break e;case _:z=16,M=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return d=es(z,v,d,w),d.elementType=c,d.type=M,d.lanes=E,d}function Bl(c,d,v,M){return c=es(7,c,M,d),c.lanes=v,c}function cg(c,d,v,M){return c=es(22,c,M,d),c.elementType=b,c.lanes=v,c.stateNode={},c}function C_(c,d,v){return c=es(6,c,null,d),c.lanes=v,c}function E_(c,d,v){return d=es(4,c.children!==null?c.children:[],c.key,d),d.lanes=v,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function Sz(c,d,v,M,w){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vf(0),this.expirationTimes=vf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vf(0),this.identifierPrefix=M,this.onRecoverableError=w,pe&&(this.mutableSourceEagerHydrationData=null)}function eT(c,d,v,M,w,E,z,J,he){return c=new Sz(c,d,v,J,he),d===1?(d=1,E===!0&&(d|=8)):d=0,E=es(3,null,null,d),c.current=E,E.stateNode=c,E.memoizedState={element:M,isDehydrated:v,cache:null,transitions:null},kx(E),c}function tT(c){if(!c)return It;c=c._reactInternals;e:{if(P(c)!==c||c.tag!==1)throw Error(o(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Gt(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(c.tag===1){var v=c.type;if(Gt(v))return vr(c,v,d)}return d}function nT(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=X(d),c===null?null:c.stateNode}function rT(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<d?v:d}}function T_(c,d){rT(c,d),(c=c.alternate)&&rT(c,d)}function Az(c){return c=X(c),c===null?null:c.stateNode}function Mz(){return null}return n.attemptContinuousHydration=function(c){if(c.tag===13){var d=qr();Zi(c,134217728,d),T_(c,134217728)}},n.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var d=qr(),v=da(c);Zi(c,v,d),T_(c,v)}},n.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var v=sa(d.pendingLanes);v!==0&&(oa(d,v|1),ci(d,Ln()),!(bt&6)&&(lu(),gt()))}break;case 13:var M=qr();jE(function(){return Zi(c,1,M)}),T_(c,1)}},n.batchedUpdates=function(c,d){var v=bt;bt|=1;try{return c(d)}finally{bt=v,bt===0&&(lu(),O&&gt())}},n.createComponentSelector=function(c){return{$$typeof:Jm,value:c}},n.createContainer=function(c,d,v,M,w,E,z){return eT(c,d,!1,null,v,M,w,E,z)},n.createHasPseudoClassSelector=function(c){return{$$typeof:Km,value:c}},n.createHydrationContainer=function(c,d,v,M,w,E,z,J,he){return c=eT(v,M,!0,c,w,E,z,J,he),c.context=tT(null),v=c.current,M=qr(),w=da(v),E=go(M,w),E.callback=d??null,la(v,E),c.current.lanes=w,yl(c,w,M),ci(c,M),c},n.createPortal=function(c,d,v){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:c,containerInfo:d,implementation:v}},n.createRoleSelector=function(c){return{$$typeof:Ym,value:c}},n.createTestNameSelector=function(c){return{$$typeof:qm,value:c}},n.createTextSelector=function(c){return{$$typeof:Qm,value:c}},n.deferredUpdates=function(c){var d=Tt,v=Dn.transition;try{return Dn.transition=null,Tt=16,c()}finally{Tt=d,Dn.transition=v}},n.discreteUpdates=function(c,d,v,M,w){var E=Tt,z=Dn.transition;try{return Dn.transition=null,Tt=1,c(d,v,M,w)}finally{Tt=E,Dn.transition=z,bt===0&&lu()}},n.findAllNodes=p_,n.findBoundingRects=function(c,d){if(!fe)throw Error(o(363));d=p_(c,d),c=[];for(var v=0;v<d.length;v++)c.push(_e(d[v]));for(d=c.length-1;0<d;d--){v=c[d];for(var M=v.x,w=M+v.width,E=v.y,z=E+v.height,J=d-1;0<=J;J--)if(d!==J){var he=c[J],Re=he.x,We=Re+he.width,vt=he.y,at=vt+he.height;if(M>=Re&&E>=vt&&w<=We&&z<=at){c.splice(d,1);break}else if(M!==Re||v.width!==he.width||at<E||vt>z){if(!(E!==vt||v.height!==he.height||We<M||Re>w)){Re>M&&(he.width+=Re-M,he.x=M),We<w&&(he.width=w-Re),c.splice(d,1);break}}else{vt>E&&(he.height+=vt-E,he.y=E),at<z&&(he.height=z-vt),c.splice(d,1);break}}}return c},n.findHostInstance=nT,n.findHostInstanceWithNoPortals=function(c){return c=k(c),c=c!==null?ee(c):null,c===null?null:c.stateNode},n.findHostInstanceWithWarning=function(c){return nT(c)},n.flushControlled=function(c){var d=bt;bt|=1;var v=Dn.transition,M=Tt;try{Dn.transition=null,Tt=1,c()}finally{Tt=M,Dn.transition=v,bt=d,bt===0&&(lu(),gt())}},n.flushPassiveEffects=Pl,n.flushSync=jE,n.focusWithin=function(c,d){if(!fe)throw Error(o(363));for(c=d_(c),d=GE(c,d),d=Array.from(d),c=0;c<d.length;){var v=d[c++];if(!Ae(v)){if(v.tag===5&&it(v.stateNode))return!0;for(v=v.child;v!==null;)d.push(v),v=v.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Tt},n.getFindAllNodesFailureDescription=function(c,d){if(!fe)throw Error(o(363));var v=0,M=[];c=[d_(c),0];for(var w=0;w<c.length;){var E=c[w++],z=c[w++],J=d[z];if((E.tag!==5||!Ae(E))&&(f_(E,J)&&(M.push(h_(J)),z++,z>v&&(v=z)),z<d.length))for(E=E.child;E!==null;)c.push(E,z),E=E.sibling}if(v<d.length){for(c=[];v<d.length;v++)c.push(h_(d[v]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},n.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return de(c.child.stateNode);default:return c.child.stateNode}},n.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Az,findFiberByHostInstance:c.findFiberByHostInstance||Mz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)c=!0;else{try{qc=d.inject(c),Mi=d}catch{}c=!!d.checkDCE}}return c},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(c,d,v,M){if(!fe)throw Error(o(363));c=p_(c,d);var w=Be(c,v,M).disconnect;return{disconnect:function(){w()}}},n.registerMutableSourceForHydration=function(c,d){var v=d._getVersion;v=v(d._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[d,v]:c.mutableSourceEagerHydrationData.push(d,v)},n.runWithPriority=function(c,d){var v=Tt;try{return Tt=c,d()}finally{Tt=v}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(c,d,v,M){var w=d.current,E=qr(),z=da(w);return v=tT(v),d.context===null?d.context=v:d.pendingContext=v,d=go(E,z),d.payload={element:c},M=M===void 0?null:M,M!==null&&(d.callback=M),la(w,d),c=Zi(w,z,E),c!==null&&Cm(c,w,z),z},n};Vk.exports=j7;var X7=Vk.exports;const $7=Xp(X7);var Wk={exports:{}},jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,j){var W=D.length;D.push(j);e:for(;0<W;){var ne=W-1>>>1,xe=D[ne];if(0<i(xe,j))D[ne]=j,D[W]=xe,W=ne;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var j=D[0],W=D.pop();if(W!==j){D[0]=W;e:for(var ne=0,xe=D.length,we=xe>>>1;ne<we;){var re=2*(ne+1)-1,Se=D[re],be=re+1,Me=D[be];if(0>i(Se,W))be<xe&&0>i(Me,Se)?(D[ne]=Me,D[be]=W,ne=be):(D[ne]=Se,D[re]=W,ne=re);else if(be<xe&&0>i(Me,W))D[ne]=Me,D[be]=W,ne=be;else break e}}return j}function i(D,j){var W=D.sortIndex-j.sortIndex;return W!==0?W:D.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,m=!1,y=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=D)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function b(D){if(S=!1,_(D),!y)if(n(l)!==null)y=!0,de(B);else{var j=n(u);j!==null&&ge(b,j.startTime-D)}}function B(D,j){y=!1,S&&(S=!1,g(L),L=-1),m=!0;var W=p;try{for(_(j),h=n(l);h!==null&&(!(h.expirationTime>j)||D&&!k());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var xe=ne(h.expirationTime<=j);j=t.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(l)&&r(l),_(j)}else r(l);h=n(l)}if(h!==null)var we=!0;else{var re=n(u);re!==null&&ge(b,re.startTime-j),we=!1}return we}finally{h=null,p=W,m=!1}}var T=!1,R=null,L=-1,P=5,C=-1;function k(){return!(t.unstable_now()-C<P)}function X(){if(R!==null){var D=t.unstable_now();C=D;var j=!0;try{j=R(!0,D)}finally{j?H():(T=!1,R=null)}}else T=!1}var H;if(typeof A=="function")H=function(){A(X)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Q=ee.port2;ee.port1.onmessage=X,H=function(){Q.postMessage(null)}}else H=function(){x(X,0)};function de(D){R=D,T||(T=!0,H())}function ge(D,j){L=x(function(){D(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,de(B))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var W=p;p=j;try{return D()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=p;p=D;try{return j()}finally{p=W}},t.unstable_scheduleCallback=function(D,j,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,D){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=W+xe,D={id:f++,callback:j,priorityLevel:D,startTime:W,expirationTime:xe,sortIndex:-1},W>ne?(D.sortIndex=W,e(u,D),n(l)===null&&D===n(u)&&(S?(g(L),L=-1):S=!0,ge(b,W-ne))):(D.sortIndex=xe,e(l,D),y||m||(y=!0,de(B))),D},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(D){var j=p;return function(){var W=p;p=j;try{return D.apply(this,arguments)}finally{p=W}}}})(jk);Wk.exports=jk;var YP=Wk.exports;const J7=t=>typeof t=="object"&&typeof t.then=="function",fc=[];function Xk(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function $k(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of fc)if(Xk(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=fc.indexOf(i);s!==-1&&fc.splice(s,1)},promise:(J7(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(fc.push(i),!n)throw i.promise}const K7=(t,e,n)=>$k(t,e,!1,n),Y7=(t,e,n)=>void $k(t,e,!0,n),q7=t=>{if(t===void 0||t.length===0)fc.splice(0,fc.length);else{const e=fc.find(n=>Xk(t,n.keys,n.equal));e&&e.remove()}},Ib={},Q7=t=>void Object.assign(Ib,t);function Z7(t,e){function n(f,{args:h=[],attach:p,...m},y){let S=`${f[0].toUpperCase()}${f.slice(1)}`,x;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=Nu(g,{type:f,root:y,attach:p,primitive:!0})}else{const g=Ib[S];if(!g)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=Nu(new g(...h),{type:f,root:y,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof xt?x.__r3f.attach="geometry":x instanceof $n&&(x.__r3f.attach="material")),S!=="inject"&&WS(x,m),x}function r(f,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?VS(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(y=f.__r3f)==null||y.objects.push(h),h.__r3f||Nu(h,{}),h.__r3f.parent=f,pM(h),Ou(h)}}function i(f,h,p){let m=!1;if(h){var y,S;if((y=h.__r3f)!=null&&y.attach)VS(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:h});const x=f.children.filter(A=>A!==h),g=x.indexOf(p);f.children=[...x.slice(0,g),h,...x.slice(g)],m=!0}m||(S=f.__r3f)==null||S.objects.push(h),h.__r3f||Nu(h,{}),h.__r3f.parent=f,pM(h),Ou(h)}}function s(f,h,p=!1){f&&[...f].forEach(m=>o(h,m,p))}function o(f,h,p){if(h){var m,y,S;if(h.__r3f&&(h.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(b=>b!==h)),(y=h.__r3f)!=null&&y.attach)t2(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var x;f.remove(h),(x=h.__r3f)!=null&&x.root&&lj(tv(h),h)}const A=(S=h.__r3f)==null?void 0:S.primitive,_=!A&&(p===void 0?h.dispose!==null:p);if(!A){var g;s((g=h.__r3f)==null?void 0:g.objects,h,_),s(h.children,h,_)}if(delete h.__r3f,_&&h.dispose&&h.type!=="Scene"){const b=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?YP.unstable_scheduleCallback(YP.unstable_IdlePriority,b):b()}Ou(f)}}function a(f,h,p,m){var y;const S=(y=f.__r3f)==null?void 0:y.parent;if(!S)return;const x=n(h,p,f.__r3f.root);if(f.children){for(const g of f.children)g.__r3f&&r(x,g);f.children=f.children.filter(g=>!g.__r3f)}f.__r3f.objects.forEach(g=>r(x,g)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(S,f),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(S,x),x.raycast&&x.__r3f.eventCount&&tv(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:$7({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,r(p,h))},removeChildFromContainer:(f,h)=>{h&&o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const m=f.getState().scene;m.__r3f&&i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;return!!((h=f==null?void 0:f.__r3f)!=null?h:{}).handlers},prepareUpdate(f,h,p,m){var y;if(((y=f==null?void 0:f.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==f)return[!0];{const{args:x=[],children:g,...A}=m,{args:_=[],children:b,...B}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((R,L)=>R!==_[L]))return[!0];const T=eN(f,A,B,!0);return T.changes.length?[!1,T]:null}},commitUpdate(f,[h,p],m,y,S,x){h?a(f,m,S,x):WS(f,p)},commitMount(f,h,p,m){var y;const S=(y=f.__r3f)!=null?y:{};f.raycast&&S.handlers&&S.eventCount&&tv(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Nu(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:m}=(h=f.__r3f)!=null?h:{};p&&m&&t2(m,f,p),f.isObject3D&&(f.visible=!1),Ou(f)},unhideInstance(f,h){var p;const{attach:m,parent:y}=(p=f.__r3f)!=null?p:{};m&&y&&VS(y,f,m),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),Ou(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():id.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&gn.fun(performance.now)?performance.now:gn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:gn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:gn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:WS}}var qP,QP;const GS=t=>"colorSpace"in t||"outputColorSpace"in t,Jk=()=>{var t;return(t=Ib.ColorManagement)!=null?t:null},Kk=t=>t&&t.isOrthographicCamera,ej=t=>t&&t.hasOwnProperty("current"),um=typeof window<"u"&&((qP=window.document)!=null&&qP.createElement||((QP=window.navigator)==null?void 0:QP.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function Yk(t){const e=G.useRef(t);return um(()=>void(e.current=t),[t]),e}function tj({set:t}){return um(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class qk extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}qk.getDerivedStateFromError=()=>({error:!0});const Qk="__default",ZP=new Map,nj=t=>t&&!!t.memoized&&!!t.changes;function Zk(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const rh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function tv(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const gn={obj:t=>t===Object(t)&&!gn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(gn.str(t)||gn.num(t))return t===e;const s=gn.obj(t);if(s&&r==="reference")return t===e;const o=gn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!gn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(gn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function rj(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function ij(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Nu(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function hM(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const e2=/-\d+$/;function VS(t,e,n){if(gn.str(n)){if(e2.test(n)){const s=n.replace(e2,""),{target:o,key:a}=hM(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=hM(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function t2(t,e,n){var r,i;if(gn.str(n)){const{target:s,key:o}=hM(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function eN(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var f;const h=(f=t==null?void 0:t.__r3f)!=null?f:{},p=Object.entries(i),m=[];if(u){const S=Object.keys(l);for(let x=0;x<S.length;x++)i.hasOwnProperty(S[x])||p.unshift([S[x],Qk+"remove"])}p.forEach(([S,x])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&S==="object"||gn.equ(x,l[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return m.push([S,x,!0,[]]);let A=[];S.includes("-")&&(A=S.split("-")),m.push([S,x,!1,A]);for(const _ in i){const b=i[_];_.startsWith(`${S}-`)&&m.push([_,b,!1,_.split("-")])}});const y={...i};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:m}}const sj=typeof process<"u"&&!1;function WS(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=nj(e)?e:eN(t,e),f=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,y,S,x]=u[p];if(GS(t)){const b="srgb",B="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?b:B):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?b:B)}let g=t,A=g[m];if(x.length&&(A=x.reduce((_,b)=>_[b],t),!(A&&A.set))){const[_,...b]=x.reverse();g=b.reverse().reduce((B,T)=>B[T],t),m=_}if(y===Qk+"remove")if(g.constructor){let _=ZP.get(g.constructor);_||(_=new g.constructor,ZP.set(g.constructor,_)),y=_[m]}else y=0;if(S)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(A&&A.set&&(A.copy||A instanceof _c)){if(Array.isArray(y))A.fromArray?A.fromArray(y):A.set(...y);else if(A.copy&&y&&y.constructor&&(sj?A.constructor.name===y.constructor.name:A.constructor===y.constructor))A.copy(y);else if(y!==void 0){const _=A instanceof De;!_&&A.setScalar?A.setScalar(y):A instanceof _c&&y instanceof _c?A.mask=y.mask:A.set(y),!Jk()&&!a.linear&&_&&A.convertSRGBToLinear()}}else if(g[m]=y,g[m]instanceof yn&&g[m].format===mi&&g[m].type===oo){const _=g[m];GS(_)&&GS(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}Ou(t)}if(s.parent&&t.raycast&&f!==s.eventCount){const p=tv(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),s.eventCount&&p.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&pM(t),t}function Ou(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function pM(t){t.onUpdate==null||t.onUpdate(t)}function oj(t,e){t.manual||(Kk(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function x0(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function aj(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return id.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return id.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return id.ContinuousEventPriority;default:return id.DefaultEventPriority}}function tN(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function lj(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{tN(n.capturedMap,e,r,i)})}function cj(t){function e(l){const{internal:u}=t.getState(),f=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function r(l,u){const f=t.getState(),h=new Set,p=[],m=u?u(f.internal.interaction):f.internal.interaction;for(let g=0;g<m.length;g++){const A=rh(m[g]);A&&(A.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function y(g){const A=rh(g);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var _;A.events.compute==null||A.events.compute(l,A,(_=A.previousRoot)==null?void 0:_.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(g,!0):[]}let S=m.flatMap(y).sort((g,A)=>{const _=rh(g.object),b=rh(A.object);return!_||!b?g.distance-A.distance:b.events.priority-_.events.priority||g.distance-A.distance}).filter(g=>{const A=x0(g);return h.has(A)?!1:(h.add(A),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const g of S){let A=g.object;for(;A;){var x;(x=A.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:A}),A=A.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let g of f.internal.capturedMap.get(l.pointerId).values())h.has(x0(g.intersection))||p.push(g.intersection);return p}function i(l,u,f,h){const p=t.getState();if(l.length){const m={stopped:!1};for(const y of l){const S=rh(y.object)||p,{raycaster:x,pointer:g,camera:A,internal:_}=S,b=new N(g.x,g.y,0).unproject(A),B=C=>{var k,X;return(k=(X=_.capturedMap.get(C))==null?void 0:X.has(y.eventObject))!=null?k:!1},T=C=>{const k={intersection:y,target:u.target};_.capturedMap.has(C)?_.capturedMap.get(C).set(y.eventObject,k):_.capturedMap.set(C,new Map([[y.eventObject,k]])),u.target.setPointerCapture(C)},R=C=>{const k=_.capturedMap.get(C);k&&tN(_.capturedMap,y.eventObject,k,C)};let L={};for(let C in u){let k=u[C];typeof k!="function"&&(L[C]=k)}let P={...y,...L,pointer:g,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:b,ray:x.ray,camera:A,stopPropagation(){const C="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!C||C.has(y.eventObject))&&(P.stopped=m.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(k=>k.eventObject===y.eventObject))){const k=l.slice(0,l.indexOf(y));s([...k,y])}},target:{hasPointerCapture:B,setPointerCapture:T,releasePointerCapture:R},currentTarget:{hasPointerCapture:B,setPointerCapture:T,releasePointerCapture:R},nativeEvent:u};if(h(P),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const f of u.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(x0(f)),p!=null&&p.eventCount){const y={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,u){for(let f=0;f<u.length;f++){const h=u[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=t.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))})}}return function(f){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=f;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(f,m?n:void 0),g=y?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=x.map(_=>_.eventObject)),y&&!x.length&&g<=2&&(o(f,p.interaction),h&&h(f)),m&&s(x);function A(_){const b=_.eventObject,B=b.__r3f,T=B==null?void 0:B.handlers;if(B!=null&&B.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const R=x0(_),L=p.hovered.get(R);L?L.stopped&&_.stopPropagation():(p.hovered.set(R,_),T.onPointerOver==null||T.onPointerOver(_),T.onPointerEnter==null||T.onPointerEnter(_))}T.onPointerMove==null||T.onPointerMove(_)}else{const R=T[l];R?(!y||p.initialHits.includes(b))&&(o(f,p.interaction.filter(L=>!p.initialHits.includes(L))),R(_)):y&&p.initialHits.includes(b)&&o(f,p.interaction.filter(L=>!p.initialHits.includes(L)))}}i(x,f,g,A)}}return{handlePointer:a}}const nN=t=>!!(t!=null&&t.render),$v=G.createContext(null),uj=(t,e)=>{const n=G7((a,l)=>{const u=new N,f=new N,h=new N;function p(g=l().camera,A=f,_=l().size){const{width:b,height:B,top:T,left:R}=_,L=b/B;A instanceof N?h.copy(A):h.set(...A);const P=g.getWorldPosition(u).distanceTo(h);if(Kk(g))return{width:b/g.zoom,height:B/g.zoom,top:T,left:R,factor:1,distance:P,aspect:L};{const C=g.fov*Math.PI/180,k=2*Math.tan(C/2)*P,X=k*(b/B);return{width:X,height:k,top:T,left:R,factor:b/X,distance:P,aspect:L}}}let m;const y=g=>a(A=>({performance:{...A.performance,current:g}})),S=new ve;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,A)=>e(g,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Tb,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(A=>({...A,events:{...A.events,...g}})),setSize:(g,A,_,b,B)=>{const T=l().camera,R={width:g,height:A,top:b||0,left:B||0,updateStyle:_};a(L=>({size:R,viewport:{...L.viewport,...p(T,f,R)}}))},setDpr:g=>a(A=>{const _=Zk(g);return{viewport:{...A.viewport,dpr:_,initialDpr:A.viewport.initialDpr||_}}}),setFrameloop:(g="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,g!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,A,_)=>{const b=l().internal;return b.priority=b.priority+(A>0?1:0),b.subscribers.push({ref:g,priority:A,store:_}),b.subscribers=b.subscribers.sort((B,T)=>B.priority-T.priority),()=>{const B=l().internal;B!=null&&B.subscribers&&(B.priority=B.priority-(A>0?1:0),B.subscribers=B.subscribers.filter(T=>T.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:f,set:h}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var p;i=l,s=u.dpr,oj(a,l),f.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let _0,dj=new Set,fj=new Set,hj=new Set;function jS(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function ih(t,e){switch(t){case"before":return jS(dj,e);case"after":return jS(fj,e);case"tail":return jS(hj,e)}}let XS,$S;function JS(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),XS=e.internal.subscribers,_0=0;_0<XS.length;_0++)$S=XS[_0],$S.ref.current($S.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pj(t){let e=!1,n=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,ih("before",u),n=!0;for(const h of t.values()){var f;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(r+=JS(u,s))}if(n=!1,ih("after",u),r===0)return ih("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,f=1){var h;if(!u)return t.forEach(p=>a(p.store.getState(),f));(h=u.gl.xr)!=null&&h.isPresenting||!u.internal.active||u.frameloop==="never"||(f>1?u.internal.frames=Math.min(60,u.internal.frames+f):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,f=!0,h,p){if(f&&ih("before",u),h)JS(u,h,p);else for(const m of t.values())JS(u,m.store.getState());f&&ih("after",u)}return{loop:o,invalidate:a,advance:l}}function rN(){const t=G.useContext($v);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ex(t=n=>n,e){return rN()(t,e)}function dm(t,e=0){const n=rN(),r=n.getState().internal.subscribe,i=Yk(t);return um(()=>r(i,e,n),[e,r,n]),null}const n2=new WeakMap;function iN(t,e){return function(n,...r){let i=n2.get(n);return i||(i=new n,n2.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,rj(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function fm(t,e,n,r){const i=Array.isArray(e)?e:[e],s=K7(iN(n,r),[t,...i],{equal:gn.equ});return Array.isArray(e)?s:s[0]}fm.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return Y7(iN(n),[t,...r])};fm.clear=function(t,e){const n=Array.isArray(e)?e:[e];return q7([t,...n])};const $d=new Map,{invalidate:r2,advance:i2}=pj($d),{reconciler:Jv,applyProps:Iu}=Z7($d,aj),Lu={objects:"shallow",strict:!1},mj=(t,e)=>{const n=typeof t=="function"?t(e):t;return nN(n)?n:new QF({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function gj(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function vj(t){const e=$d.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||uj(r2,i2),o=n||Jv.createContainer(s,id.ConcurrentRoot,null,!1,null,"",i,null);e||$d.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(f={}){let{gl:h,size:p,scene:m,events:y,onCreated:S,shadows:x=!1,linear:g=!1,flat:A=!1,legacy:_=!1,orthographic:b=!1,frameloop:B="always",dpr:T=[1,2],performance:R,raycaster:L,camera:P,onPointerMissed:C}=f,k=s.getState(),X=k.gl;k.gl||k.set({gl:X=mj(h,t)});let H=k.raycaster;H||k.set({raycaster:H=new Uk});const{params:ee,...Q}=L||{};if(gn.equ(Q,H,Lu)||Iu(H,{...Q}),gn.equ(ee,H.params,Lu)||Iu(H,{params:{...H.params,...ee}}),!k.camera||k.camera===u&&!gn.equ(u,P,Lu)){u=P;const W=P instanceof tm,ne=W?P:b?new of(0,0,0,0,.1,1e3):new Qn(75,0,.1,1e3);W||(ne.position.z=5,P&&Iu(ne,P),!k.camera&&!(P!=null&&P.rotation)&&ne.lookAt(0,0,0)),k.set({camera:ne}),H.camera=ne}if(!k.scene){let W;m instanceof jv?W=m:(W=new jv,m&&Iu(W,m)),k.set({scene:Nu(W)})}if(!k.xr){var de;const W=(we,re)=>{const Se=s.getState();Se.frameloop!=="never"&&i2(we,!0,Se,re)},ne=()=>{const we=s.getState();we.gl.xr.enabled=we.gl.xr.isPresenting,we.gl.xr.setAnimationLoop(we.gl.xr.isPresenting?W:null),we.gl.xr.isPresenting||r2(we)},xe={connect(){const we=s.getState().gl;we.xr.addEventListener("sessionstart",ne),we.xr.addEventListener("sessionend",ne)},disconnect(){const we=s.getState().gl;we.xr.removeEventListener("sessionstart",ne),we.xr.removeEventListener("sessionend",ne)}};typeof((de=X.xr)==null?void 0:de.addEventListener)=="function"&&xe.connect(),k.set({xr:xe})}if(X.shadowMap){const W=X.shadowMap.enabled,ne=X.shadowMap.type;if(X.shadowMap.enabled=!!x,gn.boo(x))X.shadowMap.type=Uh;else if(gn.str(x)){var ge;const xe={basic:R3,percentage:Ey,soft:Uh,variance:Ts};X.shadowMap.type=(ge=xe[x])!=null?ge:Uh}else gn.obj(x)&&Object.assign(X.shadowMap,x);(W!==X.shadowMap.enabled||ne!==X.shadowMap.type)&&(X.shadowMap.needsUpdate=!0)}const D=Jk();D&&("enabled"in D?D.enabled=!_:"legacyMode"in D&&(D.legacyMode=_)),l||Iu(X,{outputEncoding:g?3e3:3001,toneMapping:A?so:Hw}),k.legacy!==_&&k.set(()=>({legacy:_})),k.linear!==g&&k.set(()=>({linear:g})),k.flat!==A&&k.set(()=>({flat:A})),h&&!gn.fun(h)&&!nN(h)&&!gn.equ(h,X,Lu)&&Iu(X,h),y&&!k.events.handlers&&k.set({events:y(s)});const j=gj(t,p);return gn.equ(j,k.size,Lu)||k.setSize(j.width,j.height,j.updateStyle,j.top,j.left),T&&k.viewport.dpr!==Zk(T)&&k.setDpr(T),k.frameloop!==B&&k.setFrameloop(B),k.onPointerMissed||k.set({onPointerMissed:C}),R&&!gn.equ(R,k.performance,Lu)&&k.set(W=>({performance:{...W.performance,...R}})),a=S,l=!0,this},render(f){return l||this.configure(),Jv.updateContainer(G.createElement(yj,{store:s,children:f,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){sN(t)}}}function yj({store:t,children:e,onCreated:n,rootElement:r}){return um(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),G.createElement($v.Provider,{value:t},e)}function sN(t,e){const n=$d.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Jv.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),ij(i),$d.delete(t),e&&e(t)}catch{}},500)})}}Jv.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version});function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function mM(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var f=n&&!r;return r||(r=setTimeout(l,e)),f&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}mM.debounce=mM;var xj=mM;const s2=Xp(xj);function _j(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,h=G.useRef(!1);G.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=G.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:_,top:b,width:B,height:T,bottom:R,right:L,x:P,y:C}=l.current.element.getBoundingClientRect(),k={left:_,top:b,width:B,height:T,bottom:R,right:L,x:P,y:C};l.current.element instanceof HTMLElement&&i&&(k.height=l.current.element.offsetHeight,k.width=l.current.element.offsetWidth),Object.freeze(k),h.current&&!wj(l.current.lastBounds,k)&&a(l.current.lastBounds=k)};return[A,f?s2(A,f):A,u?s2(A,u):A]},[a,i,u,f]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",y,{capture:!0,passive:!0})))}const g=A=>{!A||A===l.current.element||(S(),l.current.element=A,l.current.scrollContainers=oN(A),x())};return Aj(y,!!n),Sj(m),G.useEffect(()=>{S(),x()},[n,y,m]),G.useEffect(()=>S,[]),[g,o,p]}function Sj(t){G.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Aj(t,e){G.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function oN(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...oN(t.parentElement)]}const Mj=["x","y","top","bottom","left","right","width","height"],wj=(t,e)=>Mj.every(n=>t[n]===e[n]);var bj=Object.defineProperty,Cj=Object.defineProperties,Ej=Object.getOwnPropertyDescriptors,o2=Object.getOwnPropertySymbols,Tj=Object.prototype.hasOwnProperty,Rj=Object.prototype.propertyIsEnumerable,a2=(t,e,n)=>e in t?bj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l2=(t,e)=>{for(var n in e||(e={}))Tj.call(e,n)&&a2(t,n,e[n]);if(o2)for(var n of o2(e))Rj.call(e,n)&&a2(t,n,e[n]);return t},Pj=(t,e)=>Cj(t,Ej(e)),c2,u2;typeof window<"u"&&((c2=window.document)!=null&&c2.createElement||((u2=window.navigator)==null?void 0:u2.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function aN(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=aN(r,e,n);if(i)return i;r=e?null:r.sibling}}function lN(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const d2=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=d2;return}return d2.apply(this,arguments)};const Lb=lN(G.createContext(null));class cN extends G.Component{render(){return G.createElement(Lb.Provider,{value:this._reactInternals},this.props.children)}}function Bj(){const t=G.useContext(Lb);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=aN(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Ij(){const t=Bj(),[e]=G.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==Lb&&!e.has(i)&&e.set(i,G.useContext(lN(i)))}n=n.return}return e}function Lj(){const t=Ij();return G.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>G.createElement(e,null,G.createElement(n.Provider,Pj(l2({},r),{value:t.get(n)}))),e=>G.createElement(cN,l2({},e))),[t])}const KS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Dj(t){const{handlePointer:e}=cj(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(KS).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=KS[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=KS[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const Fj=G.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Dj,eventSource:a,eventPrefix:l,shadows:u,linear:f,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:S,performance:x,raycaster:g,camera:A,scene:_,onPointerMissed:b,onCreated:B,...T},R){G.useMemo(()=>Q7(U7),[]);const L=Lj(),[P,C]=_j({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=G.useRef(null),X=G.useRef(null);G.useImperativeHandle(R,()=>k.current);const H=Yk(b),[ee,Q]=G.useState(!1),[de,ge]=G.useState(!1);if(ee)throw ee;if(de)throw de;const D=G.useRef(null);um(()=>{const W=k.current;C.width>0&&C.height>0&&W&&(D.current||(D.current=vj(W)),D.current.configure({gl:s,events:o,shadows:u,linear:f,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:S,performance:x,raycaster:g,camera:A,scene:_,size:C,onPointerMissed:(...ne)=>H.current==null?void 0:H.current(...ne),onCreated:ne=>{ne.events.connect==null||ne.events.connect(a?ej(a)?a.current:a:X.current),l&&ne.setEvents({compute:(xe,we)=>{const re=xe[l+"X"],Se=xe[l+"Y"];we.pointer.set(re/we.size.width*2-1,-(Se/we.size.height)*2+1),we.raycaster.setFromCamera(we.pointer,we.camera)}}),B==null||B(ne)}}),D.current.render(G.createElement(L,null,G.createElement(qk,{set:ge},G.createElement(G.Suspense,{fallback:G.createElement(tj,{set:Q})},e)))))}),G.useEffect(()=>{const W=k.current;if(W)return()=>sN(W)},[]);const j=a?"none":"auto";return G.createElement("div",ol({ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i}},T),G.createElement("div",{ref:P,style:{width:"100%",height:"100%"}},G.createElement("canvas",{ref:k,style:{display:"block"}},n)))}),kj=G.forwardRef(function(e,n){return G.createElement(cN,null,G.createElement(Fj,ol({},e,{ref:n})))});function Vh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nj(t,e){if(t){if(typeof t=="string")return gM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gM(t,e)}}function Oj(t){if(Array.isArray(t))return gM(t)}function Uj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hj(t){return Oj(t)||Uj(t)||Nj(t)||zj()}new ve;new ve;function Gj(t,e,n){return Math.max(e,Math.min(n,t))}function Vj(t,e){return Gj(t-Math.floor(t/e)*e,0,e)}function Wj(t,e){var n=Vj(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function uN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rs=function t(e,n,r){var i=this;uN(this,t),Vh(this,"dot2",function(s,o){return i.x*s+i.y*o}),Vh(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=n,this.z=r},jj=[new rs(1,1,0),new rs(-1,1,0),new rs(1,-1,0),new rs(-1,-1,0),new rs(1,0,1),new rs(-1,0,1),new rs(1,0,-1),new rs(-1,0,-1),new rs(0,1,1),new rs(0,-1,1),new rs(0,1,-1),new rs(0,-1,-1)],f2=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],h2=new Array(512),p2=new Array(512),Xj=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=f2[n]^e&255:r=f2[n]^e>>8&255,h2[n]=h2[n+256]=r,p2[n]=p2[n+256]=jj[r%12]}};Xj(0);function $j(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function m2(t){var e=$j(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var Jj=function t(e){var n=this;uN(this,t),Vh(this,"seed",0),Vh(this,"init",function(r){n.seed=r,n.value=m2(r)}),Vh(this,"value",m2(this.seed)),this.init(e)};new Jj(Math.random());var Kj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},dN=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},Yj=function(e){return e},qj={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},Qj={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},Zj={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},eX={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},tX={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},nX={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function tr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:dN,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;r=Math.max(1e-4,r);var u=2/r,f=o(u*i),h=t[e]-n,p=n,m=s*r;h=Math.min(Math.max(h,-m),m),n=t[e]-h;var y=(t.__damp[l]+u*h)*i;t.__damp[l]=(t.__damp[l]-u*y)*f;var S=n+(h+y)*f;return p-t[e]>0==S>p&&(S=p,t.__damp[l]=(S-p)/i),t[e]=S,!0}var rX=function(e){return e&&e.isCamera},iX=function(e){return e&&e.isLight},sh=new N,g2=new zn,v2=new zn,oh=new tt,YS=new N;function sX(t,e,n,r,i,s,o){typeof e=="number"?sh.setScalar(e):Array.isArray(e)?sh.set(e[0],e[1],e[2]):sh.copy(e);var a=t.parent;t.updateWorldMatrix(!0,!1),YS.setFromMatrixPosition(t.matrixWorld),rX(t)||iX(t)?oh.lookAt(YS,sh,t.up):oh.lookAt(sh,YS,t.up),Kv(t.quaternion,v2.setFromRotationMatrix(oh),n,r,i,s,o),a&&(oh.extractRotation(a.matrixWorld),g2.setFromRotationMatrix(oh),Kv(t.quaternion,v2.copy(t.quaternion).premultiply(g2.invert()),n,r,i,s,o))}function Md(t,e,n,r,i,s,o,a){return tr(t,e,t[e]+Wj(t[e],n),r,i,s,o,a)}var ah=new ve,y2,x2;function oX(t,e,n,r,i,s,o){return typeof e=="number"?ah.setScalar(e):Array.isArray(e)?ah.set(e[0],e[1]):ah.copy(e),y2=tr(t,"x",ah.x,n,r,i,s,o),x2=tr(t,"y",ah.y,n,r,i,s,o),y2||x2}var Du=new N,_2,S2,A2;function vM(t,e,n,r,i,s,o){return typeof e=="number"?Du.setScalar(e):Array.isArray(e)?Du.set(e[0],e[1],e[2]):Du.copy(e),_2=tr(t,"x",Du.x,n,r,i,s,o),S2=tr(t,"y",Du.y,n,r,i,s,o),A2=tr(t,"z",Du.z,n,r,i,s,o),_2||S2||A2}var Wl=new Vt,M2,w2,b2,C2;function aX(t,e,n,r,i,s,o){return typeof e=="number"?Wl.setScalar(e):Array.isArray(e)?Wl.set(e[0],e[1],e[2],e[3]):Wl.copy(e),M2=tr(t,"x",Wl.x,n,r,i,s,o),w2=tr(t,"y",Wl.y,n,r,i,s,o),b2=tr(t,"z",Wl.z,n,r,i,s,o),C2=tr(t,"w",Wl.w,n,r,i,s,o),M2||w2||b2||C2}var lh=new xi,E2,T2,R2;function lX(t,e,n,r,i,s,o){return Array.isArray(e)?lh.set(e[0],e[1],e[2],e[3]):lh.copy(e),E2=Md(t,"x",lh.x,n,r,i,s,o),T2=Md(t,"y",lh.y,n,r,i,s,o),R2=Md(t,"z",lh.z,n,r,i,s,o),E2||T2||R2}var Fu=new De,P2,B2,I2;function cX(t,e,n,r,i,s,o){return e instanceof De?Fu.copy(e):Array.isArray(e)?Fu.setRGB(e[0],e[1],e[2]):Fu.set(e),P2=tr(t,"r",Fu.r,n,r,i,s,o),B2=tr(t,"g",Fu.g,n,r,i,s,o),I2=tr(t,"b",Fu.b,n,r,i,s,o),P2||B2||I2}var bs=new zn,Eo=new Vt,L2=new Vt,ch=new Vt,D2,F2,k2,N2;function Kv(t,e,n,r,i,s,o){var a=t;Array.isArray(e)?bs.set(e[0],e[1],e[2],e[3]):bs.copy(e);var l=t.dot(bs)>0?1:-1;return bs.x*=l,bs.y*=l,bs.z*=l,bs.w*=l,D2=tr(t,"x",bs.x,n,r,i,s,o),F2=tr(t,"y",bs.y,n,r,i,s,o),k2=tr(t,"z",bs.z,n,r,i,s,o),N2=tr(t,"w",bs.w,n,r,i,s,o),Eo.set(t.x,t.y,t.z,t.w).normalize(),L2.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),ch.copy(Eo).multiplyScalar(L2.dot(Eo)/Eo.dot(Eo)),a.__damp.velocity_x-=ch.x,a.__damp.velocity_y-=ch.y,a.__damp.velocity_z-=ch.z,a.__damp.velocity_w-=ch.w,t.set(Eo.x,Eo.y,Eo.z,Eo.w),D2||F2||k2||N2}var uh=new zk,O2,U2,z2;function uX(t,e,n,r,i,s,o){return Array.isArray(e)?uh.set(e[0],e[1],e[2]):uh.copy(e),O2=tr(t,"radius",uh.radius,n,r,i,s,o),U2=Md(t,"phi",uh.phi,n,r,i,s,o),z2=Md(t,"theta",uh.theta,n,r,i,s,o),O2||U2||z2}var S0=new tt,H2=new N,G2=new zn,V2=new N,W2,j2,X2;function dX(t,e,n,r,i,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new N,rotation:new zn,scale:new N},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?S0.set.apply(S0,Hj(e)):S0.copy(e),S0.decompose(H2,G2,V2),W2=vM(a.__damp.position,H2,n,r,i,s,o),j2=Kv(a.__damp.rotation,G2,n,r,i,s,o),X2=vM(a.__damp.scale,V2,n,r,i,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),W2||j2||X2}var $2=Object.freeze({__proto__:null,rsqw:Kj,exp:dN,linear:Yj,sine:qj,cubic:Qj,quint:Zj,circ:eX,quart:tX,expo:nX,damp:tr,dampLookAt:sX,dampAngle:Md,damp2:oX,damp3:vM,damp4:aX,dampE:lX,dampC:cX,dampQ:Kv,dampS:uX,dampM:dX});const Db=G.createContext(null);function fN(){return G.useContext(Db)}function fX({eps:t=1e-5,enabled:e=!0,infinite:n,horizontal:r,pages:i=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,style:l={},children:u}){const{get:f,setEvents:h,gl:p,size:m,invalidate:y,events:S}=ex(),[x]=G.useState(()=>document.createElement("div")),[g]=G.useState(()=>document.createElement("div")),[A]=G.useState(()=>document.createElement("div")),_=p.domElement.parentNode,b=G.useRef(0),B=G.useMemo(()=>({el:x,eps:t,fill:g,fixed:A,horizontal:r,damping:o,offset:0,delta:0,scroll:b,pages:i,range(L,P,C=0){const k=L-C,X=k+P+C*2;return this.offset<k?0:this.offset>X?1:(this.offset-k)/(X-k)},curve(L,P,C=0){return Math.sin(this.range(L,P,C)*Math.PI)},visible(L,P,C=0){const k=L-C,X=k+P+C*2;return this.offset>=k&&this.offset<=X}}),[t,o,r,i]);G.useEffect(()=>{x.style.position="absolute",x.style.width="100%",x.style.height="100%",x.style[r?"overflowX":"overflowY"]="auto",x.style[r?"overflowY":"overflowX"]="hidden",x.style.top="0px",x.style.left="0px";for(const P in l)x.style[P]=l[P];A.style.position="sticky",A.style.top="0px",A.style.left="0px",A.style.width="100%",A.style.height="100%",A.style.overflow="hidden",x.appendChild(A),g.style.height=r?"100%":`${i*s*100}%`,g.style.width=r?`${i*s*100}%`:"100%",g.style.pointerEvents="none",x.appendChild(g),_.appendChild(x),x[r?"scrollLeft":"scrollTop"]=1;const R=S.connected||p.domElement;requestAnimationFrame(()=>S.connect==null?void 0:S.connect(x));const L=f().events.compute;return h({compute(P,C){const{left:k,top:X}=_.getBoundingClientRect(),H=P.clientX-k,ee=P.clientY-X;C.pointer.set(H/C.size.width*2-1,-(ee/C.size.height)*2+1),C.raycaster.setFromCamera(C.pointer,C.camera)}}),()=>{_.removeChild(x),h({compute:L}),S.connect==null||S.connect(R)}},[i,s,r,x,g,A,_]),G.useEffect(()=>{if(S.connected===x){const R=m[r?"width":"height"],L=x[r?"scrollWidth":"scrollHeight"],P=L-R;let C=0,k=!0,X=!0;const H=()=>{if(!(!e||X)&&(y(),C=x[r?"scrollLeft":"scrollTop"],b.current=C/P,n)){if(!k){if(C>=P){const Q=1-B.offset;x[r?"scrollLeft":"scrollTop"]=1,b.current=B.offset=-Q,k=!0}else if(C<=0){const Q=1+B.offset;x[r?"scrollLeft":"scrollTop"]=L,b.current=B.offset=Q,k=!0}}k&&setTimeout(()=>k=!1,40)}};x.addEventListener("scroll",H,{passive:!0}),requestAnimationFrame(()=>X=!1);const ee=Q=>x.scrollLeft+=Q.deltaY/2;return r&&x.addEventListener("wheel",ee,{passive:!0}),()=>{x.removeEventListener("scroll",H),r&&x.removeEventListener("wheel",ee)}}},[x,S,m,n,B,y,r,e]);let T=0;return dm((R,L)=>{T=B.offset,$2.damp(B,"offset",b.current,o,L,a,void 0,t),$2.damp(B,"delta",Math.abs(T-B.offset),o,L,a,void 0,t),B.delta>t&&y()}),G.createElement(Db.Provider,{value:B},u)}const hX=G.forwardRef(({children:t},e)=>{const n=G.useRef(null);G.useImperativeHandle(e,()=>n.current,[]);const r=fN(),{width:i,height:s}=ex(o=>o.viewport);return dm(()=>{n.current.position.x=r.horizontal?-i*(r.pages-1)*r.offset:0,n.current.position.y=r.horizontal?0:s*(r.pages-1)*r.offset}),G.createElement("group",{ref:n},t)}),pX=G.forwardRef(({children:t,style:e,...n},r)=>{const i=fN(),s=G.useRef(null);G.useImperativeHandle(r,()=>s.current,[]);const{width:o,height:a}=ex(f=>f.size),l=G.useContext($v),u=G.useMemo(()=>C3(i.fixed),[i.fixed]);return dm(()=>{i.delta>i.eps&&(s.current.style.transform=`translate3d(${i.horizontal?-o*(i.pages-1)*i.offset:0}px,${i.horizontal?0:a*(i.pages-1)*-i.offset}px,0)`)}),u.render(G.createElement("div",ol({ref:s,style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},n),G.createElement(Db.Provider,{value:i},G.createElement($v.Provider,{value:l},t)))),null}),hN=G.forwardRef(({html:t,...e},n)=>{const r=t?pX:hX;return G.createElement(r,ol({ref:n},e))});function J2(t,e){if(e===AF)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Wv||e===Qw){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===Wv)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const mX=parseInt(Qp.replace(/\D+/g,""));class Fb extends jr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new _X(n)}),this.register(function(n){return new TX(n)}),this.register(function(n){return new RX(n)}),this.register(function(n){return new PX(n)}),this.register(function(n){return new AX(n)}),this.register(function(n){return new MX(n)}),this.register(function(n){return new wX(n)}),this.register(function(n){return new bX(n)}),this.register(function(n){return new xX(n)}),this.register(function(n){return new CX(n)}),this.register(function(n){return new SX(n)}),this.register(function(n){return new EX(n)}),this.register(function(n){return new vX(n)}),this.register(function(n){return new BX(n)}),this.register(function(n){return new IX(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=lo.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Hi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(f){n(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(lo.decodeText(new Uint8Array(e.slice(0,4)))===pN){try{o[Dt.KHR_BINARY_GLTF]=new LX(e)}catch(f){i&&i(f);return}s=JSON.parse(o[Dt.KHR_BINARY_GLTF].content)}else s=JSON.parse(lo.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new XX(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](l);a[f.name]=f,o[f.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const f=s.extensionsUsed[u],h=s.extensionsRequired||[];switch(f){case Dt.KHR_MATERIALS_UNLIT:o[f]=new yX;break;case Dt.KHR_DRACO_MESH_COMPRESSION:o[f]=new DX(s,this.dracoLoader);break;case Dt.KHR_TEXTURE_TRANSFORM:o[f]=new FX;break;case Dt.KHR_MESH_QUANTIZATION:o[f]=new kX;break;default:h.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function gX(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Dt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class vX{constructor(e){this.parser=e,this.name=Dt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const f=new De(16777215);l.color!==void 0&&f.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new Cb(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new bb(f),u.distance=h;break;case"spot":u=new wb(f),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Da(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class yX{constructor(){this.name=Dt.KHR_MATERIALS_UNLIT}getMaterialType(){return Fi}extendParams(e,n,r){const i=[];e.color=new De(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class xX{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class _X{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:po}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ve(a,a)}return Promise.all(s)}}class SX{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:po}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class AX{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:po}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new De(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class MX{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:po}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class wX{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:po}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new De(a[0],a[1],a[2]),Promise.all(s)}}class bX{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:po}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class CX{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:po}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new De(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class EX{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:po}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class TX{constructor(e){this.parser=e,this.name=Dt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class RX{constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class PX{constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class BX{constructor(e){this.name=Dt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,f=i.count,h=i.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,h,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(f*h);return o.decodeGltfBuffer(new Uint8Array(m),f,h,p,i.mode,i.filter),m})})}else return null}}class IX{constructor(e){this.name=Dt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==ls.TRIANGLES&&u.mode!==ls.TRIANGLE_STRIP&&u.mode!==ls.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(f=>(l[u]=f,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const f=u.pop(),h=f.isGroup?f.children:[f],p=u[0].count,m=[];for(const y of h){const S=new tt,x=new N,g=new zn,A=new N(1,1,1),_=new ub(y.geometry,y.material,p);for(let b=0;b<p;b++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,b),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,b),l.SCALE&&A.fromBufferAttribute(l.SCALE,b),_.setMatrixAt(b,S.compose(x,g,A));for(const b in l)b!=="TRANSLATION"&&b!=="ROTATION"&&b!=="SCALE"&&y.geometry.setAttribute(b,l[b]);Ut.prototype.copy.call(_,y),this.parser.assignFinalMaterial(_),m.push(_)}return f.isGroup?(f.clear(),f.add(...m),f):m[0]}))}}const pN="glTF",dh=12,K2={JSON:1313821514,BIN:5130562};class LX{constructor(e){this.name=Dt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,dh);if(this.header={magic:lo.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==pN)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-dh,i=new DataView(e,dh);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===K2.JSON){const l=new Uint8Array(e,dh+s,o);this.content=lo.decodeText(l)}else if(a===K2.BIN){const l=dh+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class DX{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Dt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const f in o){const h=yM[f]||f.toLowerCase();a[h]=o[f]}for(const f in e.attributes){const h=yM[f]||f.toLowerCase();if(o[f]!==void 0){const p=r.accessors[e.attributes[f]],m=wd[p.componentType];u[h]=m.name,l[h]=p.normalized===!0}}return n.getDependency("bufferView",s).then(function(f){return new Promise(function(h){i.decodeDracoFile(f,function(p){for(const m in p.attributes){const y=p.attributes[m],S=l[m];S!==void 0&&(y.normalized=S)}h(p)},a,u)})})}}class FX{constructor(){this.name=Dt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class kX{constructor(){this.name=Dt.KHR_MESH_QUANTIZATION}}class mN extends cf{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,f=i-n,h=(r-n)/f,p=h*h,m=p*h,y=e*u,S=y-u,x=-2*m+3*p,g=m-p,A=1-x,_=g-p+h;for(let b=0;b!==a;b++){const B=o[S+b+a],T=o[S+b+l]*f,R=o[y+b+a],L=o[y+b]*f;s[b]=A*B+_*T+x*R+g*L}return s}}const NX=new zn;class OX extends mN{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return NX.fromArray(s).normalize().toArray(s),s}}const ls={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},wd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Y2={9728:er,9729:In,9984:Ry,9985:Sd,9986:ac,9987:hs},q2={33071:Di,33648:Od,10497:rl},qS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...mX>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},wa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},UX={CUBICSPLINE:void 0,LINEAR:Ic,STEP:zd},QS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function zX(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new cm({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ho})),t.DefaultMaterial}function jl(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Da(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function HX(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,f=e.length;u<f;u++){const h=e[u];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,f=e.length;u<f;u++){const h=e[u];if(r){const p=h.POSITION!==void 0?n.getDependency("accessor",h.POSITION):t.attributes.position;o.push(p)}if(i){const p=h.NORMAL!==void 0?n.getDependency("accessor",h.NORMAL):t.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?n.getDependency("accessor",h.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const f=u[0],h=u[1],p=u[2];return r&&(t.morphAttributes.position=f),i&&(t.morphAttributes.normal=h),s&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function GX(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function VX(t){let e;const n=t.extensions&&t.extensions[Dt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+ZS(n.attributes):e=t.indices+":"+ZS(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+ZS(t.targets[r]);return e}function ZS(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function xM(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function WX(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const jX=new tt;class XX{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new gX,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new Ek(this.options.manager):this.textureLoader=new Fk(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Hi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};jl(s,a,i),Da(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,f]of o.children.entries())s(f,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Dt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(lo.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=qS[i.type],a=wd[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new zt(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=qS[i.type],u=wd[i.componentType],f=u.BYTES_PER_ELEMENT,h=f*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let S,x;if(m&&m!==h){const g=Math.floor(p/m),A="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let _=n.cache.get(A);_||(S=new u(a,g*m,i.count*m/f),_=new im(S,m/f),n.cache.add(A,_)),x=new il(_,l,p%m/f,y)}else a===null?S=new u(i.count*l):S=new u(a,p,i.count*l),x=new zt(S,l,y);if(i.sparse!==void 0){const g=qS.SCALAR,A=wd[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,b=i.sparse.values.byteOffset||0,B=new A(o[1],_,i.sparse.count*g),T=new u(o[2],b,i.sparse.count*l);a!==null&&(x=new zt(x.array.slice(),x.itemSize,x.normalized));for(let R=0,L=B.length;R<L;R++){const P=B[R];if(x.setX(P,T[R*l]),l>=2&&x.setY(P,T[R*l+1]),l>=3&&x.setZ(P,T[R*l+2]),l>=4&&x.setW(P,T[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(f){f.flipY=!1,f.name=o.name||a.name||"",f.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(f.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=Y2[p.magFilter]||In,f.minFilter=Y2[p.minFilter]||hs,f.wrapS=q2[p.wrapS]||rl,f.wrapT=q2[p.wrapT]||rl,i.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(h){u=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let y=p;n.isImageBitmapLoader===!0&&(y=function(S){const x=new yn(S);x.needsUpdate=!0,p(x)}),n.load(lo.resolveURL(h,s.path),y,void 0,m)})}).then(function(h){return u===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||WX(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=f,f}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Dt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Dt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Dt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ny,$n.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Wr,$n.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return cm}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Dt.KHR_MATERIALS_UNLIT]){const h=i[Dt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,n))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new De(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",h.baseColorTexture,3001)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Is);const f=s.alphaMode||QS.OPAQUE;if(f===QS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===QS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Fi&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ve(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Fi&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Fi&&(a.emissive=new De().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Fi&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const h=new o(a);return s.name&&(h.name=s.name),Da(h,s),n.associations.set(h,{materials:e}),s.extensions&&jl(i,h,s),h})}createUniqueName(e){const n=Ot.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Dt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return Q2(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],f=VX(u),h=i[f];if(h)o.push(h.promise);else{let p;u.extensions&&u.extensions[Dt.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=Q2(new xt,u,n),i[f]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const f=o[l].material===void 0?zX(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),f=l[l.length-1],h=[];for(let m=0,y=f.length;m<y;m++){const S=f[m],x=o[m];let g;const A=u[m];if(x.mode===ls.TRIANGLES||x.mode===ls.TRIANGLE_STRIP||x.mode===ls.TRIANGLE_FAN||x.mode===void 0)g=s.isSkinnedMesh===!0?new cb(S,A):new On(S,A),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),x.mode===ls.TRIANGLE_STRIP?g.geometry=J2(g.geometry,Qw):x.mode===ls.TRIANGLE_FAN&&(g.geometry=J2(g.geometry,Wv));else if(x.mode===ls.LINES)g=new zs(S,A);else if(x.mode===ls.LINE_STRIP)g=new Qo(S,A);else if(x.mode===ls.LINE_LOOP)g=new db(S,A);else if(x.mode===ls.POINTS)g=new fb(S,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(g.geometry.morphAttributes).length>0&&GX(g,s),g.name=n.createUniqueName(s.name||"mesh_"+e),Da(g,s),x.extensions&&jl(i,g,x),n.assignFinalMaterial(g),h.push(g)}for(let m=0,y=h.length;m<y;m++)n.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&jl(i,h[0],s),h[0];const p=new No;s.extensions&&jl(i,p,s),n.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Qn(LF.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new of(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Da(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,f=o.length;u<f;u++){const h=o[u];if(h){a.push(h);const p=new tt;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new sm(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let f=0,h=r.channels.length;f<h;f++){const p=r.channels[f],m=r.samplers[p.sampler],y=p.target,S=y.node,x=r.parameters!==void 0?r.parameters[m.input]:m.input,g=r.parameters!==void 0?r.parameters[m.output]:m.output;y.node!==void 0&&(s.push(this.getDependency("node",S)),o.push(this.getDependency("accessor",x)),a.push(this.getDependency("accessor",g)),l.push(m),u.push(y))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(f){const h=f[0],p=f[1],m=f[2],y=f[3],S=f[4],x=[];for(let g=0,A=h.length;g<A;g++){const _=h[g],b=p[g],B=m[g],T=y[g],R=S[g];if(_===void 0)continue;_.updateMatrix();let L;switch(wa[R.path]){case wa.weights:L=Wd;break;case wa.rotation:L=sl;break;case wa.position:case wa.scale:default:L=jd;break}const P=_.name?_.name:_.uuid,C=T.interpolation!==void 0?UX[T.interpolation]:Ic,k=[];wa[R.path]===wa.weights?_.traverse(function(H){H.morphTargetInfluences&&k.push(H.name?H.name:H.uuid)}):k.push(P);let X=B.array;if(B.normalized){const H=xM(X.constructor),ee=new Float32Array(X.length);for(let Q=0,de=X.length;Q<de;Q++)ee[Q]=X[Q]*H;X=ee}for(let H=0,ee=k.length;H<ee;H++){const Q=new L(k[H]+"."+wa[R.path],b.array,X,C);T.interpolation==="CUBICSPLINE"&&(Q.createInterpolant=function(ge){const D=this instanceof sl?OX:mN;return new D(this.times,this.values,this.getValueSize()/3,ge)},Q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),x.push(Q)}}return new Xd(i,void 0,x)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,f=a.length;u<f;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const f=u[0],h=u[1],p=u[2];p!==null&&f.traverse(function(m){m.isSkinnedMesh&&m.bind(p,jX)});for(let m=0,y=h.length;m<y;m++)f.add(h[m]);return f})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let f;if(s.isBone===!0?f=new ky:u.length>1?f=new No:u.length===1?f=u[0]:f=new Ut,f!==u[0])for(let h=0,p=u.length;h<p;h++)f.add(u[h]);if(s.name&&(f.userData.name=s.name,f.name=o),Da(f,s),s.extensions&&jl(r,f,s),s.matrix!==void 0){const h=new tt;h.fromArray(s.matrix),f.applyMatrix4(h)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return i.associations.has(f)||i.associations.set(f,{}),i.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new No;r.name&&(s.name=i.createUniqueName(r.name)),Da(s,r),r.extensions&&jl(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let f=0,h=l.length;f<h;f++)s.add(l[f]);const u=f=>{const h=new Map;for(const[p,m]of i.associations)(p instanceof $n||p instanceof yn)&&h.set(p,m);return f.traverse(p=>{const m=i.associations.get(p);m!=null&&h.set(p,m)}),h};return i.associations=u(s),s})}}function $X(t,e,n){const r=e.attributes,i=new Hr;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new N(l[0],l[1],l[2]),new N(u[0],u[1],u[2])),a.normalized){const f=xM(wd[a.componentType]);i.min.multiplyScalar(f),i.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new N,l=new N;for(let u=0,f=s.length;u<f;u++){const h=s[u];if(h.POSITION!==void 0){const p=n.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const S=xM(wd[p.componentType]);l.multiplyScalar(S)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new br;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function Q2(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=yM[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Da(t,e),$X(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?HX(t,e.targets,n):t})}const e1=new WeakMap;class JX extends jr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Hi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(e1.has(e)){const l=e1.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,f)=>{i._callbacks[s]={resolve:u,reject:f},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),e1.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new xt;e.index&&n.setIndex(new zt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new zt(o,a))}return n}_loadLibrary(e,n){const r=new Hi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=KX.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function KX(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(f){t.onModuleLoaded=function(h){f({draco:h})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(f=>{const h=f.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=n(h,p,m,u),S=y.attributes.map(x=>x.array.buffer);y.index&&S.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},S)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(m),h.destroy(p)}});break}};function n(o,a,l,u){const f=u.attributeIDs,h=u.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const S={index:null,attributes:[]};for(const x in f){const g=self[h[x]];let A,_;if(u.useUniqueIDs)_=f[x],A=a.GetAttributeByUniqueId(p,_);else{if(_=a.GetAttributeId(p,o[f[x]]),_===-1)continue;A=a.GetAttribute(p,_)}S.attributes.push(i(o,a,p,x,g,A))}return y===o.TRIANGULAR_MESH&&(S.index=r(o,a,p)),o.destroy(p),S}function r(o,a,l){const f=l.num_faces()*3,h=f*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,f).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,u,f,h){const p=h.num_components(),y=l.num_points()*p,S=y*f.BYTES_PER_ELEMENT,x=s(o,f),g=o._malloc(S);a.GetAttributeDataArrayForAllPoints(l,h,x,S,g);const A=new f(o.HEAPF32.buffer,g,y).slice();return o._free(g),{name:u,array:A,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let A0;const t1=()=>{if(A0)return A0;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const S=h.charCodeAt(y);p[y]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let m=0;for(let y=0;y<h.length;++y)p[m++]=p[y]<60?r[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(h,p,m,y,S,x){const g=s.exports.sbrk,A=m+3&-4,_=g(A*y),b=g(S.length),B=new Uint8Array(s.exports.memory.buffer);B.set(S,b);const T=h(_,m,y,b,S.length);if(T===0&&x&&x(_,A,y),p.set(B.subarray(_,_+m*y)),g(_-g(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return A0={ready:o,supported:!0,decodeVertexBuffer(h,p,m,y,S){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,y,s.exports[u[S]])},decodeIndexBuffer(h,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,y)},decodeIndexSequence(h,p,m,y){l(s.exports.meshopt_decodeIndexSequence,h,p,m,y)},decodeGltfBuffer(h,p,m,y,S,x){l(s.exports[f[S]],h,p,m,y,s.exports[u[x]])}},A0};let M0=null,gN="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function vN(t,e,n){return r=>{n&&n(r),t&&(M0||(M0=new JX),M0.setDecoderPath(typeof t=="string"?t:gN),r.setDRACOLoader(M0)),e&&r.setMeshoptDecoder(typeof t1=="function"?t1():t1)}}function tx(t,e=!0,n=!0,r){return fm(Fb,t,vN(e,n,r))}tx.preload=(t,e=!0,n=!0,r)=>fm.preload(Fb,t,vN(e,n,r));tx.clear=t=>fm.clear(Fb,t);tx.setDecoderPath=t=>{gN=t};const fh=t=>{const e=G.useRef(),[n,r]=G.useState(!1),[i,s]=G.useState(!1);return dm((o,a)=>{e.current&&(e.current.rotation.y+=a,e.current.scale.set(o.size.width*.001,o.size.width*.001,o.size.width*.001))}),ce.jsxs("mesh",{...t,ref:e,onClick:o=>s(!i),onPointerOver:o=>r(!0),onPointerOut:o=>r(!1),children:[ce.jsx("boxGeometry",{args:[1,1,1]}),ce.jsx("meshStandardMaterial",{color:n?"hotpink":t.color,metalness:1,roughness:.1})]})},YX=t=>{const e=G.useRef();G.useState(!1),G.useState(!1);const{nodes:n,materials:r}=tx("/pm-web-skill/assets/ModelD.glb");return dm((i,s)=>{e.current&&(e.current.rotation.y+=s,e.current.scale.set(i.size.width*.001,i.size.width*.001,i.size.width*.001))}),ce.jsx(G.Suspense,{fallback:null,children:ce.jsx("mesh",{...t,dispose:null,ref:e,geometry:n.Cube.geometry,material:r["Material.001"],castShadow:!0,receiveShadow:!0})})},qX=()=>{const{width:t,height:e}=ex(n=>n.viewport);return ce.jsxs(hN,{children:[ce.jsx(YX,{position:[t*-0,0,0],rotation:[Math.PI/3,Math.PI/3,Math.PI/3]}),ce.jsx(fh,{position:[t*-.17,e*-.83,0],rotation:[Math.PI/3,Math.PI/3,Math.PI/3],color:"orange"}),ce.jsx(fh,{position:[t*.25,e*-2,0],rotation:[Math.PI/3,Math.PI/3,Math.PI/3],color:"salmon"}),ce.jsx(fh,{position:[t*-.25,e*-3,0],rotation:[Math.PI/3,Math.PI/3,Math.PI/3],color:"skyblue"}),ce.jsx(fh,{position:[t*.25,e*-4,0],rotation:[Math.PI/3,Math.PI/3,Math.PI/3],color:"aquamarine"}),ce.jsx(fh,{position:[t*-.25,e*-5,0],rotation:[Math.PI/3,Math.PI/3,Math.PI/3],color:"mediumpurple"})]})};function QX(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ZX(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var e$=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ZX(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=QX(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Nr="-ms-",Yv="-moz-",Kt="-webkit-",yN="comm",kb="rule",Nb="decl",t$="@import",xN="@keyframes",n$="@layer",r$=Math.abs,nx=String.fromCharCode,i$=Object.assign;function s$(t,e){return Mr(t,0)^45?(((e<<2^Mr(t,0))<<2^Mr(t,1))<<2^Mr(t,2))<<2^Mr(t,3):0}function _N(t){return t.trim()}function o$(t,e){return(t=e.exec(t))?t[0]:t}function Yt(t,e,n){return t.replace(e,n)}function _M(t,e){return t.indexOf(e)}function Mr(t,e){return t.charCodeAt(e)|0}function Dp(t,e,n){return t.slice(e,n)}function Qs(t){return t.length}function Ob(t){return t.length}function w0(t,e){return e.push(t),t}function a$(t,e){return t.map(e).join("")}var rx=1,Jd=1,SN=0,_i=0,jn=0,uf="";function ix(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:rx,column:Jd,length:o,return:""}}function hh(t,e){return i$(ix("",null,null,"",null,null,0),t,{length:-t.length},e)}function l$(){return jn}function c$(){return jn=_i>0?Mr(uf,--_i):0,Jd--,jn===10&&(Jd=1,rx--),jn}function Oi(){return jn=_i<SN?Mr(uf,_i++):0,Jd++,jn===10&&(Jd=1,rx++),jn}function co(){return Mr(uf,_i)}function nv(){return _i}function hm(t,e){return Dp(uf,t,e)}function Fp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AN(t){return rx=Jd=1,SN=Qs(uf=t),_i=0,[]}function MN(t){return uf="",t}function rv(t){return _N(hm(_i-1,SM(t===91?t+2:t===40?t+1:t)))}function u$(t){for(;(jn=co())&&jn<33;)Oi();return Fp(t)>2||Fp(jn)>3?"":" "}function d$(t,e){for(;--e&&Oi()&&!(jn<48||jn>102||jn>57&&jn<65||jn>70&&jn<97););return hm(t,nv()+(e<6&&co()==32&&Oi()==32))}function SM(t){for(;Oi();)switch(jn){case t:return _i;case 34:case 39:t!==34&&t!==39&&SM(jn);break;case 40:t===41&&SM(t);break;case 92:Oi();break}return _i}function f$(t,e){for(;Oi()&&t+jn!==57;)if(t+jn===84&&co()===47)break;return"/*"+hm(e,_i-1)+"*"+nx(t===47?t:Oi())}function h$(t){for(;!Fp(co());)Oi();return hm(t,_i)}function p$(t){return MN(iv("",null,null,null,[""],t=AN(t),0,[0],t))}function iv(t,e,n,r,i,s,o,a,l){for(var u=0,f=0,h=o,p=0,m=0,y=0,S=1,x=1,g=1,A=0,_="",b=i,B=s,T=r,R=_;x;)switch(y=A,A=Oi()){case 40:if(y!=108&&Mr(R,h-1)==58){_M(R+=Yt(rv(A),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:R+=rv(A);break;case 9:case 10:case 13:case 32:R+=u$(y);break;case 92:R+=d$(nv()-1,7);continue;case 47:switch(co()){case 42:case 47:w0(m$(f$(Oi(),nv()),e,n),l);break;default:R+="/"}break;case 123*S:a[u++]=Qs(R)*g;case 125*S:case 59:case 0:switch(A){case 0:case 125:x=0;case 59+f:g==-1&&(R=Yt(R,/\f/g,"")),m>0&&Qs(R)-h&&w0(m>32?eB(R+";",r,n,h-1):eB(Yt(R," ","")+";",r,n,h-2),l);break;case 59:R+=";";default:if(w0(T=Z2(R,e,n,u,f,i,a,_,b=[],B=[],h),s),A===123)if(f===0)iv(R,e,T,T,b,s,h,a,B);else switch(p===99&&Mr(R,3)===110?100:p){case 100:case 108:case 109:case 115:iv(t,T,T,r&&w0(Z2(t,T,T,0,0,i,a,_,i,b=[],h),B),i,B,h,a,r?b:B);break;default:iv(R,T,T,T,[""],B,0,a,B)}}u=f=m=0,S=g=1,_=R="",h=o;break;case 58:h=1+Qs(R),m=y;default:if(S<1){if(A==123)--S;else if(A==125&&S++==0&&c$()==125)continue}switch(R+=nx(A),A*S){case 38:g=f>0?1:(R+="\f",-1);break;case 44:a[u++]=(Qs(R)-1)*g,g=1;break;case 64:co()===45&&(R+=rv(Oi())),p=co(),f=h=Qs(_=R+=h$(nv())),A++;break;case 45:y===45&&Qs(R)==2&&(S=0)}}return s}function Z2(t,e,n,r,i,s,o,a,l,u,f){for(var h=i-1,p=i===0?s:[""],m=Ob(p),y=0,S=0,x=0;y<r;++y)for(var g=0,A=Dp(t,h+1,h=r$(S=o[y])),_=t;g<m;++g)(_=_N(S>0?p[g]+" "+A:Yt(A,/&\f/g,p[g])))&&(l[x++]=_);return ix(t,e,n,i===0?kb:a,l,u,f)}function m$(t,e,n){return ix(t,e,n,yN,nx(l$()),Dp(t,2,-2),0)}function eB(t,e,n,r){return ix(t,e,n,Nb,Dp(t,0,r),Dp(t,r+1,-1),r)}function bd(t,e){for(var n="",r=Ob(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function g$(t,e,n,r){switch(t.type){case n$:if(t.children.length)break;case t$:case Nb:return t.return=t.return||t.value;case yN:return"";case xN:return t.return=t.value+"{"+bd(t.children,r)+"}";case kb:t.value=t.props.join(",")}return Qs(n=bd(t.children,r))?t.return=t.value+"{"+n+"}":""}function v$(t){var e=Ob(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function y$(t){return function(e){e.root||(e=e.return)&&t(e)}}var tB=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function wN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var x$=function(e,n,r){for(var i=0,s=0;i=s,s=co(),i===38&&s===12&&(n[r]=1),!Fp(s);)Oi();return hm(e,_i)},_$=function(e,n){var r=-1,i=44;do switch(Fp(i)){case 0:i===38&&co()===12&&(n[r]=1),e[r]+=x$(_i-1,n,r);break;case 2:e[r]+=rv(i);break;case 4:if(i===44){e[++r]=co()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=nx(i)}while(i=Oi());return e},S$=function(e,n){return MN(_$(AN(e),n))},nB=new WeakMap,A$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!nB.get(r))&&!i){nB.set(e,!0);for(var s=[],o=S$(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var f=0;f<a.length;f++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[f]):a[f]+" "+o[l]}}},M$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bN(t,e){switch(s$(t,e)){case 5103:return Kt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Kt+t+Yv+t+Nr+t+t;case 6828:case 4268:return Kt+t+Nr+t+t;case 6165:return Kt+t+Nr+"flex-"+t+t;case 5187:return Kt+t+Yt(t,/(\w+).+(:[^]+)/,Kt+"box-$1$2"+Nr+"flex-$1$2")+t;case 5443:return Kt+t+Nr+"flex-item-"+Yt(t,/flex-|-self/,"")+t;case 4675:return Kt+t+Nr+"flex-line-pack"+Yt(t,/align-content|flex-|-self/,"")+t;case 5548:return Kt+t+Nr+Yt(t,"shrink","negative")+t;case 5292:return Kt+t+Nr+Yt(t,"basis","preferred-size")+t;case 6060:return Kt+"box-"+Yt(t,"-grow","")+Kt+t+Nr+Yt(t,"grow","positive")+t;case 4554:return Kt+Yt(t,/([^-])(transform)/g,"$1"+Kt+"$2")+t;case 6187:return Yt(Yt(Yt(t,/(zoom-|grab)/,Kt+"$1"),/(image-set)/,Kt+"$1"),t,"")+t;case 5495:case 3959:return Yt(t,/(image-set\([^]*)/,Kt+"$1$`$1");case 4968:return Yt(Yt(t,/(.+:)(flex-)?(.*)/,Kt+"box-pack:$3"+Nr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kt+t+t;case 4095:case 3583:case 4068:case 2532:return Yt(t,/(.+)-inline(.+)/,Kt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qs(t)-1-e>6)switch(Mr(t,e+1)){case 109:if(Mr(t,e+4)!==45)break;case 102:return Yt(t,/(.+:)(.+)-([^]+)/,"$1"+Kt+"$2-$3$1"+Yv+(Mr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_M(t,"stretch")?bN(Yt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Mr(t,e+1)!==115)break;case 6444:switch(Mr(t,Qs(t)-3-(~_M(t,"!important")&&10))){case 107:return Yt(t,":",":"+Kt)+t;case 101:return Yt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kt+(Mr(t,14)===45?"inline-":"")+"box$3$1"+Kt+"$2$3$1"+Nr+"$2box$3")+t}break;case 5936:switch(Mr(t,e+11)){case 114:return Kt+t+Nr+Yt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Kt+t+Nr+Yt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Kt+t+Nr+Yt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Kt+t+Nr+t+t}return t}var w$=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Nb:e.return=bN(e.value,e.length);break;case xN:return bd([hh(e,{value:Yt(e.value,"@","@"+Kt)})],i);case kb:if(e.length)return a$(e.props,function(s){switch(o$(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bd([hh(e,{props:[Yt(s,/:(read-\w+)/,":"+Yv+"$1")]})],i);case"::placeholder":return bd([hh(e,{props:[Yt(s,/:(plac\w+)/,":"+Kt+"input-$1")]}),hh(e,{props:[Yt(s,/:(plac\w+)/,":"+Yv+"$1")]}),hh(e,{props:[Yt(s,/:(plac\w+)/,Nr+"input-$1")]})],i)}return""})}},b$=[w$],C$=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var x=S.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||b$,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var x=S.getAttribute("data-emotion").split(" "),g=1;g<x.length;g++)s[x[g]]=!0;a.push(S)});var l,u=[A$,M$];{var f,h=[g$,y$(function(S){f.insert(S)})],p=v$(u.concat(i,h)),m=function(x){return bd(p$(x),p)};l=function(x,g,A,_){f=A,m(x?x+"{"+g.styles+"}":g.styles),_&&(y.inserted[g.name]=!0)}}var y={key:n,sheet:new e$({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},CN={exports:{}},an={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=typeof Symbol=="function"&&Symbol.for,Ub=mr?Symbol.for("react.element"):60103,zb=mr?Symbol.for("react.portal"):60106,sx=mr?Symbol.for("react.fragment"):60107,ox=mr?Symbol.for("react.strict_mode"):60108,ax=mr?Symbol.for("react.profiler"):60114,lx=mr?Symbol.for("react.provider"):60109,cx=mr?Symbol.for("react.context"):60110,Hb=mr?Symbol.for("react.async_mode"):60111,ux=mr?Symbol.for("react.concurrent_mode"):60111,dx=mr?Symbol.for("react.forward_ref"):60112,fx=mr?Symbol.for("react.suspense"):60113,E$=mr?Symbol.for("react.suspense_list"):60120,hx=mr?Symbol.for("react.memo"):60115,px=mr?Symbol.for("react.lazy"):60116,T$=mr?Symbol.for("react.block"):60121,R$=mr?Symbol.for("react.fundamental"):60117,P$=mr?Symbol.for("react.responder"):60118,B$=mr?Symbol.for("react.scope"):60119;function ji(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ub:switch(t=t.type,t){case Hb:case ux:case sx:case ax:case ox:case fx:return t;default:switch(t=t&&t.$$typeof,t){case cx:case dx:case px:case hx:case lx:return t;default:return e}}case zb:return e}}}function EN(t){return ji(t)===ux}an.AsyncMode=Hb;an.ConcurrentMode=ux;an.ContextConsumer=cx;an.ContextProvider=lx;an.Element=Ub;an.ForwardRef=dx;an.Fragment=sx;an.Lazy=px;an.Memo=hx;an.Portal=zb;an.Profiler=ax;an.StrictMode=ox;an.Suspense=fx;an.isAsyncMode=function(t){return EN(t)||ji(t)===Hb};an.isConcurrentMode=EN;an.isContextConsumer=function(t){return ji(t)===cx};an.isContextProvider=function(t){return ji(t)===lx};an.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ub};an.isForwardRef=function(t){return ji(t)===dx};an.isFragment=function(t){return ji(t)===sx};an.isLazy=function(t){return ji(t)===px};an.isMemo=function(t){return ji(t)===hx};an.isPortal=function(t){return ji(t)===zb};an.isProfiler=function(t){return ji(t)===ax};an.isStrictMode=function(t){return ji(t)===ox};an.isSuspense=function(t){return ji(t)===fx};an.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sx||t===ux||t===ax||t===ox||t===fx||t===E$||typeof t=="object"&&t!==null&&(t.$$typeof===px||t.$$typeof===hx||t.$$typeof===lx||t.$$typeof===cx||t.$$typeof===dx||t.$$typeof===R$||t.$$typeof===P$||t.$$typeof===B$||t.$$typeof===T$)};an.typeOf=ji;CN.exports=an;var I$=CN.exports,TN=I$,L$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},D$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RN={};RN[TN.ForwardRef]=L$;RN[TN.Memo]=D$;var F$=!0;function k$(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var PN=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||F$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},BN=function(e,n,r){PN(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function N$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var O$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},U$=/[A-Z]|^ms/g,z$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IN=function(e){return e.charCodeAt(1)===45},rB=function(e){return e!=null&&typeof e!="boolean"},n1=wN(function(t){return IN(t)?t:t.replace(U$,"-$&").toLowerCase()}),iB=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(z$,function(r,i,s){return Zs={name:i,styles:s,next:Zs},i})}return O$[e]!==1&&!IN(e)&&typeof n=="number"&&n!==0?n+"px":n};function kp(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Zs={name:n.name,styles:n.styles,next:Zs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Zs={name:r.name,styles:r.styles,next:Zs},r=r.next;var i=n.styles+";";return i}return H$(t,e,n)}case"function":{if(t!==void 0){var s=Zs,o=n(t);return Zs=s,kp(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function H$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=kp(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":rB(o)&&(r+=n1(s)+":"+iB(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)rB(o[a])&&(r+=n1(s)+":"+iB(s,o[a])+";");else{var l=kp(t,e,o);switch(s){case"animation":case"animationName":{r+=n1(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var sB=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Zs,Gb=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Zs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=kp(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=kp(r,n,e[a]),i&&(s+=o[a]);sB.lastIndex=0;for(var l="",u;(u=sB.exec(s))!==null;)l+="-"+u[1];var f=N$(s)+l;return{name:f,styles:s,next:Zs}},G$=function(e){return e()},LN=aT.useInsertionEffect?aT.useInsertionEffect:!1,V$=LN||G$,oB=LN||G.useLayoutEffect,DN=G.createContext(typeof HTMLElement<"u"?C$({key:"css"}):null);DN.Provider;var FN=function(e){return G.forwardRef(function(n,r){var i=G.useContext(DN);return e(n,i,r)})},Np=G.createContext({}),W$=function(e,n){if(typeof n=="function"){var r=n(e);return r}return ol({},e,n)},j$=tB(function(t){return tB(function(e){return W$(t,e)})}),X$=function(e){var n=G.useContext(Np);return e.theme!==n&&(n=j$(n)(e.theme)),G.createElement(Np.Provider,{value:n},e.children)},mx=FN(function(t,e){var n=t.styles,r=Gb([n],void 0,G.useContext(Np)),i=G.useRef();return oB(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),oB(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&BN(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function $$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Gb(e)}var J$=function(){var e=$$.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},kN=String.raw,NN=kN`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,K$=()=>ce.jsx(mx,{styles:NN}),Y$=({scope:t=""})=>ce.jsx(mx,{styles:kN`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${NN}
    `});function q$(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function pm(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,a=G.createContext(o);a.displayName=e;function l(){var u;const f=G.useContext(a);if(!f&&n){const h=new Error(s??q$(r,i));throw h.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,h,l),h}return f}return[a.Provider,l,a]}var[Q$,Z$]=pm({strict:!1,name:"PortalManagerContext"});function ON(t){const{children:e,zIndex:n}=t;return ce.jsx(Q$,{value:{zIndex:n},children:e})}ON.displayName="PortalManager";var qv=globalThis!=null&&globalThis.document?G.useLayoutEffect:G.useEffect,[UN,eJ]=pm({strict:!1,name:"PortalContext"}),Vb="chakra-portal",tJ=".chakra-portal",nJ=t=>ce.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),rJ=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=G.useState(null),s=G.useRef(null),[,o]=G.useState({});G.useEffect(()=>o({}),[]);const a=eJ(),l=Z$();qv(()=>{if(!r)return;const f=r.ownerDocument,h=e?a??f.body:f.body;if(!h)return;s.current=f.createElement("div"),s.current.className=Vb,h.appendChild(s.current),o({});const p=s.current;return()=>{h.contains(p)&&h.removeChild(p)}},[r]);const u=l!=null&&l.zIndex?ce.jsx(nJ,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?zw.createPortal(ce.jsx(UN,{value:s.current,children:u}),s.current):ce.jsx("span",{ref:f=>{f&&i(f)}})},iJ=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i??(typeof window<"u"?document.body:void 0),o=G.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=Vb),l},[i]),[,a]=G.useState({});return qv(()=>a({}),[]),qv(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?zw.createPortal(ce.jsx(UN,{value:r?o:null,children:e}),o):null};function gx(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?ce.jsx(iJ,{containerRef:n,...r}):ce.jsx(rJ,{...r})}gx.className=Vb;gx.selector=tJ;gx.displayName="Portal";function sJ(){const t=G.useContext(Np);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var Wb=G.createContext({});Wb.displayName="ColorModeContext";function jb(){const t=G.useContext(Wb);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var b0={light:"chakra-ui-light",dark:"chakra-ui-dark"};function oJ(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const i=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?b0.dark:b0.light),document.body.classList.remove(r?b0.light:b0.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),s=o=>{r(o.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var aJ="chakra-ui-color-mode";function lJ(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var cJ=lJ(aJ),aB=()=>{};function lB(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function zN(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:o=cJ}=t,a=i==="dark"?"dark":"light",[l,u]=G.useState(()=>lB(o,a)),[f,h]=G.useState(()=>lB(o)),{getSystemTheme:p,setClassName:m,setDataset:y,addListener:S}=G.useMemo(()=>oJ({preventTransition:s}),[s]),x=i==="system"&&!l?f:l,g=G.useCallback(b=>{const B=b==="system"?p():b;u(B),m(B==="dark"),y(B),o.set(B)},[o,p,m,y]);qv(()=>{i==="system"&&h(p())},[]),G.useEffect(()=>{const b=o.get();if(b){g(b);return}if(i==="system"){g("system");return}g(a)},[o,a,i,g]);const A=G.useCallback(()=>{g(x==="dark"?"light":"dark")},[x,g]);G.useEffect(()=>{if(r)return S(g)},[r,S,g]);const _=G.useMemo(()=>({colorMode:e??x,toggleColorMode:e?aB:A,setColorMode:e?aB:g,forced:e!==void 0}),[x,A,g,e]);return ce.jsx(Wb.Provider,{value:_,children:n})}zN.displayName="ColorModeProvider";function uJ(){const t=jb(),e=sJ();return{...t,theme:e}}var mo=(...t)=>t.filter(Boolean).join(" ");function ks(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}function Ga(t,...e){return dJ(t)?t(...e):t}var dJ=t=>typeof t=="function",Qv={exports:{}};Qv.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Function]",y="[object GeneratorFunction]",S="[object Map]",x="[object Number]",g="[object Null]",A="[object Object]",_="[object Proxy]",b="[object RegExp]",B="[object Set]",T="[object String]",R="[object Undefined]",L="[object WeakMap]",P="[object ArrayBuffer]",C="[object DataView]",k="[object Float32Array]",X="[object Float64Array]",H="[object Int8Array]",ee="[object Int16Array]",Q="[object Int32Array]",de="[object Uint8Array]",ge="[object Uint8ClampedArray]",D="[object Uint16Array]",j="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,xe=/^(?:0|[1-9]\d*)$/,we={};we[k]=we[X]=we[H]=we[ee]=we[Q]=we[de]=we[ge]=we[D]=we[j]=!0,we[a]=we[l]=we[P]=we[f]=we[C]=we[h]=we[p]=we[m]=we[S]=we[x]=we[A]=we[b]=we[B]=we[T]=we[L]=!1;var re=typeof ug=="object"&&ug&&ug.Object===Object&&ug,Se=typeof self=="object"&&self&&self.Object===Object&&self,be=re||Se||Function("return this")(),Me=e&&!e.nodeType&&e,rt=Me&&!0&&t&&!t.nodeType&&t,pt=rt&&rt.exports===Me,st=pt&&re.process,q=function(){try{var O=rt&&rt.require&&rt.require("util").types;return O||st&&st.binding&&st.binding("util")}catch{}}(),ye=q&&q.isTypedArray;function pe(O,$,oe){switch(oe.length){case 0:return O.call($);case 1:return O.call($,oe[0]);case 2:return O.call($,oe[0],oe[1]);case 3:return O.call($,oe[0],oe[1],oe[2])}return O.apply($,oe)}function Pe(O,$){for(var oe=-1,He=Array(O);++oe<O;)He[oe]=$(oe);return He}function Ee(O){return function($){return O($)}}function Te(O,$){return O==null?void 0:O[$]}function U(O,$){return function(oe){return O($(oe))}}var I=Array.prototype,te=Function.prototype,fe=Object.prototype,me=be["__core-js_shared__"],_e=te.toString,Xe=fe.hasOwnProperty,Ae=function(){var O=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}(),Ke=fe.toString,it=_e.call(Object),Be=RegExp("^"+_e.call(Xe).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=pt?be.Buffer:void 0,ft=be.Symbol,Ve=be.Uint8Array,je=Ue?Ue.allocUnsafe:void 0,wt=U(Object.getPrototypeOf,Object),Ct=Object.create,Ht=fe.propertyIsEnumerable,Ft=I.splice,kt=ft?ft.toStringTag:void 0,$e=function(){try{var O=ia(Object,"defineProperty");return O({},"",{}),O}catch{}}(),V=Ue?Ue.isBuffer:void 0,Le=Math.max,Ie=Date.now,qe=ia(be,"Map"),Qe=ia(Object,"create"),Zt=function(){function O(){}return function($){if(!ys($))return{};if(Ct)return Ct($);O.prototype=$;var oe=new O;return O.prototype=void 0,oe}}();function Bt(O){var $=-1,oe=O==null?0:O.length;for(this.clear();++$<oe;){var He=O[$];this.set(He[0],He[1])}}function ln(){this.__data__=Qe?Qe(null):{},this.size=0}function Hn(O){var $=this.has(O)&&delete this.__data__[O];return this.size-=$?1:0,$}function en(O){var $=this.__data__;if(Qe){var oe=$[O];return oe===r?void 0:oe}return Xe.call($,O)?$[O]:void 0}function Xr(O){var $=this.__data__;return Qe?$[O]!==void 0:Xe.call($,O)}function $r(O,$){var oe=this.__data__;return this.size+=this.has(O)?0:1,oe[O]=Qe&&$===void 0?r:$,this}Bt.prototype.clear=ln,Bt.prototype.delete=Hn,Bt.prototype.get=en,Bt.prototype.has=Xr,Bt.prototype.set=$r;function Jn(O){var $=-1,oe=O==null?0:O.length;for(this.clear();++$<oe;){var He=O[$];this.set(He[0],He[1])}}function Hc(){this.__data__=[],this.size=0}function Gc(O){var $=this.__data__,oe=ut($,O);if(oe<0)return!1;var He=$.length-1;return oe==He?$.pop():Ft.call($,oe,1),--this.size,!0}function Vc(O){var $=this.__data__,oe=ut($,O);return oe<0?void 0:$[oe][1]}function Vs(O){return ut(this.__data__,O)>-1}function Wc(O,$){var oe=this.__data__,He=ut(oe,O);return He<0?(++this.size,oe.push([O,$])):oe[He][1]=$,this}Jn.prototype.clear=Hc,Jn.prototype.delete=Gc,Jn.prototype.get=Vc,Jn.prototype.has=Vs,Jn.prototype.set=Wc;function gr(O){var $=-1,oe=O==null?0:O.length;for(this.clear();++$<oe;){var He=O[$];this.set(He[0],He[1])}}function jc(){this.size=0,this.__data__={hash:new Bt,map:new(qe||Jn),string:new Bt}}function Xc(O){var $=Ai(this,O).delete(O);return this.size-=$?1:0,$}function pf(O){return Ai(this,O).get(O)}function mf(O){return Ai(this,O).has(O)}function gf(O,$){var oe=Ai(this,O),He=oe.size;return oe.set(O,$),this.size+=oe.size==He?0:1,this}gr.prototype.clear=jc,gr.prototype.delete=Xc,gr.prototype.get=pf,gr.prototype.has=mf,gr.prototype.set=gf;function F(O){var $=this.__data__=new Jn(O);this.size=$.size}function Z(){this.__data__=new Jn,this.size=0}function ae(O){var $=this.__data__,oe=$.delete(O);return this.size=$.size,oe}function le(O){return this.__data__.get(O)}function se(O){return this.__data__.has(O)}function ke(O,$){var oe=this.__data__;if(oe instanceof Jn){var He=oe.__data__;if(!qe||He.length<n-1)return He.push([O,$]),this.size=++oe.size,this;oe=this.__data__=new gr(He)}return oe.set(O,$),this.size=oe.size,this}F.prototype.clear=Z,F.prototype.delete=ae,F.prototype.get=le,F.prototype.has=se,F.prototype.set=ke;function Ye(O,$){var oe=Yc(O),He=!oe&&Tt(O),gt=!oe&&!He&&wm(O),nn=!oe&&!He&&!gt&&bm(O),rn=oe||He||gt||nn,Et=rn?Pe(O.length,String):[],Rt=Et.length;for(var yr in O)($||Xe.call(O,yr))&&!(rn&&(yr=="length"||gt&&(yr=="offset"||yr=="parent")||nn&&(yr=="buffer"||yr=="byteLength"||yr=="byteOffset")||Am(yr,Rt)))&&Et.push(yr);return Et}function nt(O,$,oe){(oe!==void 0&&!oa(O[$],oe)||oe===void 0&&!($ in O))&&ot(O,$,oe)}function ht(O,$,oe){var He=O[$];(!(Xe.call(O,$)&&oa(He,oe))||oe===void 0&&!($ in O))&&ot(O,$,oe)}function ut(O,$){for(var oe=O.length;oe--;)if(oa(O[oe][0],$))return oe;return-1}function ot(O,$,oe){$=="__proto__"&&$e?$e(O,$,{configurable:!0,enumerable:!0,value:oe,writable:!0}):O[$]=oe}var mt=vr();function tn(O){return O==null?O===void 0?R:g:kt&&kt in Object(O)?Er(O):Rx(O)}function or(O){return _l(O)&&tn(O)==a}function xn(O){if(!ys(O)||Jc(O))return!1;var $=yf(O)?Be:ne;return $.test(Bx(O))}function ar(O){return _l(O)&&Ln(O.length)&&!!we[tn(O)]}function Nt(O){if(!ys(O))return Kc(O);var $=sa(O),oe=[];for(var He in O)He=="constructor"&&($||!Xe.call(O,He))||oe.push(He);return oe}function ze(O,$,oe,He,gt){O!==$&&mt($,function(nn,rn){if(gt||(gt=new F),ys(nn))jt(O,$,rn,oe,ze,He,gt);else{var Et=He?He(vl(O,rn),nn,rn+"",O,$,gt):void 0;Et===void 0&&(Et=nn),nt(O,rn,Et)}},Mi)}function jt(O,$,oe,He,gt,nn,rn){var Et=vl(O,oe),Rt=vl($,oe),yr=rn.get(Rt);if(yr){nt(O,oe,yr);return}var lr=nn?nn(Et,Rt,oe+"",O,$,rn):void 0,$i=lr===void 0;if($i){var Sl=Yc(Rt),Al=!Sl&&wm(Rt),_f=!Sl&&!Al&&bm(Rt);lr=Rt,Sl||Al||_f?Yc(Et)?lr=Et:Mm(Et)?lr=Gt(Et):Al?($i=!1,lr=Kn(Rt,!0)):_f?($i=!1,lr=Xi(Rt,!0)):lr=[]:xf(Rt)||Tt(Rt)?(lr=Et,Tt(Et)?lr=qc(Et):(!ys(Et)||yf(Et))&&(lr=Ex(Rt))):$i=!1}$i&&(rn.set(Rt,lr),gt(lr,Rt,He,nn,rn),rn.delete(Rt)),nt(O,oe,lr)}function It(O,$){return vf(Px(O,$,wi),O+"")}var un=$e?function(O,$){return $e(O,"toString",{configurable:!0,enumerable:!1,value:Lx($),writable:!0})}:wi;function Kn(O,$){if($)return O.slice();var oe=O.length,He=je?je(oe):new O.constructor(oe);return O.copy(He),He}function Jr(O){var $=new O.constructor(O.byteLength);return new Ve($).set(new Ve(O)),$}function Xi(O,$){var oe=$?Jr(O.buffer):O.buffer;return new O.constructor(oe,O.byteOffset,O.length)}function Gt(O,$){var oe=-1,He=O.length;for($||($=Array(He));++oe<He;)$[oe]=O[oe];return $}function Kr(O,$,oe,He){var gt=!oe;oe||(oe={});for(var nn=-1,rn=$.length;++nn<rn;){var Et=$[nn],Rt=He?He(oe[Et],O[Et],Et,oe,O):void 0;Rt===void 0&&(Rt=O[Et]),gt?ot(oe,Et,Rt):ht(oe,Et,Rt)}return oe}function ra(O){return It(function($,oe){var He=-1,gt=oe.length,nn=gt>1?oe[gt-1]:void 0,rn=gt>2?oe[2]:void 0;for(nn=O.length>3&&typeof nn=="function"?(gt--,nn):void 0,rn&&Tx(oe[0],oe[1],rn)&&(nn=gt<3?void 0:nn,gt=1),$=Object($);++He<gt;){var Et=oe[He];Et&&O($,Et,He,nn)}return $})}function vr(O){return function($,oe,He){for(var gt=-1,nn=Object($),rn=He($),Et=rn.length;Et--;){var Rt=rn[O?Et:++gt];if(oe(nn[Rt],Rt,nn)===!1)break}return $}}function Ai(O,$){var oe=O.__data__;return $c($)?oe[typeof $=="string"?"string":"hash"]:oe.map}function ia(O,$){var oe=Te(O,$);return xn(oe)?oe:void 0}function Er(O){var $=Xe.call(O,kt),oe=O[kt];try{O[kt]=void 0;var He=!0}catch{}var gt=Ke.call(O);return He&&($?O[kt]=oe:delete O[kt]),gt}function Ex(O){return typeof O.constructor=="function"&&!sa(O)?Zt(wt(O)):{}}function Am(O,$){var oe=typeof O;return $=$??o,!!$&&(oe=="number"||oe!="symbol"&&xe.test(O))&&O>-1&&O%1==0&&O<$}function Tx(O,$,oe){if(!ys(oe))return!1;var He=typeof $;return(He=="number"?xl(oe)&&Am($,oe.length):He=="string"&&$ in oe)?oa(oe[$],O):!1}function $c(O){var $=typeof O;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?O!=="__proto__":O===null}function Jc(O){return!!Ae&&Ae in O}function sa(O){var $=O&&O.constructor,oe=typeof $=="function"&&$.prototype||fe;return O===oe}function Kc(O){var $=[];if(O!=null)for(var oe in Object(O))$.push(oe);return $}function Rx(O){return Ke.call(O)}function Px(O,$,oe){return $=Le($===void 0?O.length-1:$,0),function(){for(var He=arguments,gt=-1,nn=Le(He.length-$,0),rn=Array(nn);++gt<nn;)rn[gt]=He[$+gt];gt=-1;for(var Et=Array($+1);++gt<$;)Et[gt]=He[gt];return Et[$]=oe(rn),pe(O,this,Et)}}function vl(O,$){if(!($==="constructor"&&typeof O[$]=="function")&&$!="__proto__")return O[$]}var vf=yl(un);function yl(O){var $=0,oe=0;return function(){var He=Ie(),gt=s-(He-oe);if(oe=He,gt>0){if(++$>=i)return arguments[0]}else $=0;return O.apply(void 0,arguments)}}function Bx(O){if(O!=null){try{return _e.call(O)}catch{}try{return O+""}catch{}}return""}function oa(O,$){return O===$||O!==O&&$!==$}var Tt=or(function(){return arguments}())?or:function(O){return _l(O)&&Xe.call(O,"callee")&&!Ht.call(O,"callee")},Yc=Array.isArray;function xl(O){return O!=null&&Ln(O.length)&&!yf(O)}function Mm(O){return _l(O)&&xl(O)}var wm=V||xs;function yf(O){if(!ys(O))return!1;var $=tn(O);return $==m||$==y||$==u||$==_}function Ln(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=o}function ys(O){var $=typeof O;return O!=null&&($=="object"||$=="function")}function _l(O){return O!=null&&typeof O=="object"}function xf(O){if(!_l(O)||tn(O)!=A)return!1;var $=wt(O);if($===null)return!0;var oe=Xe.call($,"constructor")&&$.constructor;return typeof oe=="function"&&oe instanceof oe&&_e.call(oe)==it}var bm=ye?Ee(ye):ar;function qc(O){return Kr(O,Mi(O))}function Mi(O){return xl(O)?Ye(O,!0):Nt(O)}var Ix=ra(function(O,$,oe,He){ze(O,$,oe,He)});function Lx(O){return function(){return O}}function wi(O){return O}function xs(){return!1}t.exports=Ix})(Qv,Qv.exports);var fJ=Qv.exports;const no=Xp(fJ);var hJ=t=>/!(important)?$/.test(t),cB=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,pJ=(t,e)=>n=>{const r=String(e),i=hJ(r),s=cB(r),o=t?`${t}.${s}`:s;let a=ks(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=cB(a),i?`${a} !important`:a};function Xb(t){const{scale:e,transform:n,compose:r}=t;return(s,o)=>{var a;const l=pJ(e,s)(o);let u=(a=n==null?void 0:n(l,o))!=null?a:l;return r&&(u=r(u,o)),u}}var C0=(...t)=>e=>t.reduce((n,r)=>r(n),e);function is(t,e){return n=>{const r={property:n,scale:t};return r.transform=Xb({scale:t,transform:e}),r}}var mJ=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function gJ(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:mJ(e),transform:n?Xb({scale:n,compose:r}):r}}var HN=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function vJ(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...HN].join(" ")}function yJ(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...HN].join(" ")}var xJ={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},_J={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function SJ(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var AJ={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},AM={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},MJ=new Set(Object.values(AM)),MM=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),wJ=t=>t.trim();function bJ(t,e){if(t==null||MM.has(t))return t;if(!(wM(t)||MM.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),s=i==null?void 0:i[1],o=i==null?void 0:i[2];if(!s||!o)return t;const a=s.includes("-gradient")?s:`${s}-gradient`,[l,...u]=o.split(",").map(wJ).filter(Boolean);if((u==null?void 0:u.length)===0)return t;const f=l in AM?AM[l]:l;u.unshift(f);const h=u.map(p=>{if(MJ.has(p))return p;const m=p.indexOf(" "),[y,S]=m!==-1?[p.substr(0,m),p.substr(m+1)]:[p],x=wM(S)?S:S&&S.split(" "),g=`colors.${y}`,A=g in e.__cssMap?e.__cssMap[g].varRef:y;return x?[A,...Array.isArray(x)?x:[x]].join(" "):A});return`${a}(${h.join(", ")})`}var wM=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),CJ=(t,e)=>bJ(t,e??{});function EJ(t){return/^var\(--.+\)$/.test(t)}var TJ=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},Ks=t=>e=>`${t}(${e})`,Lt={filter(t){return t!=="auto"?t:xJ},backdropFilter(t){return t!=="auto"?t:_J},ring(t){return SJ(Lt.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?vJ():t==="auto-gpu"?yJ():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=TJ(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(EJ(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:CJ,blur:Ks("blur"),opacity:Ks("opacity"),brightness:Ks("brightness"),contrast:Ks("contrast"),dropShadow:Ks("drop-shadow"),grayscale:Ks("grayscale"),hueRotate:t=>Ks("hue-rotate")(Lt.degree(t)),invert:Ks("invert"),saturate:Ks("saturate"),sepia:Ks("sepia"),bgImage(t){return t==null||wM(t)||MM.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=(e=AJ[t])!=null?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},K={borderWidths:is("borderWidths"),borderStyles:is("borderStyles"),colors:is("colors"),borders:is("borders"),gradients:is("gradients",Lt.gradient),radii:is("radii",Lt.px),space:is("space",C0(Lt.vh,Lt.px)),spaceT:is("space",C0(Lt.vh,Lt.px)),degreeT(t){return{property:t,transform:Lt.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:Xb({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:is("sizes",C0(Lt.vh,Lt.px)),sizesT:is("sizes",C0(Lt.vh,Lt.fraction)),shadows:is("shadows"),logical:gJ,blur:is("blur",Lt.blur)},sv={background:K.colors("background"),backgroundColor:K.colors("backgroundColor"),backgroundImage:K.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Lt.bgClip},bgSize:K.prop("backgroundSize"),bgPosition:K.prop("backgroundPosition"),bg:K.colors("background"),bgColor:K.colors("backgroundColor"),bgPos:K.prop("backgroundPosition"),bgRepeat:K.prop("backgroundRepeat"),bgAttachment:K.prop("backgroundAttachment"),bgGradient:K.gradients("backgroundImage"),bgClip:{transform:Lt.bgClip}};Object.assign(sv,{bgImage:sv.backgroundImage,bgImg:sv.backgroundImage});var Jt={border:K.borders("border"),borderWidth:K.borderWidths("borderWidth"),borderStyle:K.borderStyles("borderStyle"),borderColor:K.colors("borderColor"),borderRadius:K.radii("borderRadius"),borderTop:K.borders("borderTop"),borderBlockStart:K.borders("borderBlockStart"),borderTopLeftRadius:K.radii("borderTopLeftRadius"),borderStartStartRadius:K.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:K.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:K.radii("borderTopRightRadius"),borderStartEndRadius:K.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:K.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:K.borders("borderRight"),borderInlineEnd:K.borders("borderInlineEnd"),borderBottom:K.borders("borderBottom"),borderBlockEnd:K.borders("borderBlockEnd"),borderBottomLeftRadius:K.radii("borderBottomLeftRadius"),borderBottomRightRadius:K.radii("borderBottomRightRadius"),borderLeft:K.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:K.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:K.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:K.borders(["borderLeft","borderRight"]),borderInline:K.borders("borderInline"),borderY:K.borders(["borderTop","borderBottom"]),borderBlock:K.borders("borderBlock"),borderTopWidth:K.borderWidths("borderTopWidth"),borderBlockStartWidth:K.borderWidths("borderBlockStartWidth"),borderTopColor:K.colors("borderTopColor"),borderBlockStartColor:K.colors("borderBlockStartColor"),borderTopStyle:K.borderStyles("borderTopStyle"),borderBlockStartStyle:K.borderStyles("borderBlockStartStyle"),borderBottomWidth:K.borderWidths("borderBottomWidth"),borderBlockEndWidth:K.borderWidths("borderBlockEndWidth"),borderBottomColor:K.colors("borderBottomColor"),borderBlockEndColor:K.colors("borderBlockEndColor"),borderBottomStyle:K.borderStyles("borderBottomStyle"),borderBlockEndStyle:K.borderStyles("borderBlockEndStyle"),borderLeftWidth:K.borderWidths("borderLeftWidth"),borderInlineStartWidth:K.borderWidths("borderInlineStartWidth"),borderLeftColor:K.colors("borderLeftColor"),borderInlineStartColor:K.colors("borderInlineStartColor"),borderLeftStyle:K.borderStyles("borderLeftStyle"),borderInlineStartStyle:K.borderStyles("borderInlineStartStyle"),borderRightWidth:K.borderWidths("borderRightWidth"),borderInlineEndWidth:K.borderWidths("borderInlineEndWidth"),borderRightColor:K.colors("borderRightColor"),borderInlineEndColor:K.colors("borderInlineEndColor"),borderRightStyle:K.borderStyles("borderRightStyle"),borderInlineEndStyle:K.borderStyles("borderInlineEndStyle"),borderTopRadius:K.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:K.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:K.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:K.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Jt,{rounded:Jt.borderRadius,roundedTop:Jt.borderTopRadius,roundedTopLeft:Jt.borderTopLeftRadius,roundedTopRight:Jt.borderTopRightRadius,roundedTopStart:Jt.borderStartStartRadius,roundedTopEnd:Jt.borderStartEndRadius,roundedBottom:Jt.borderBottomRadius,roundedBottomLeft:Jt.borderBottomLeftRadius,roundedBottomRight:Jt.borderBottomRightRadius,roundedBottomStart:Jt.borderEndStartRadius,roundedBottomEnd:Jt.borderEndEndRadius,roundedLeft:Jt.borderLeftRadius,roundedRight:Jt.borderRightRadius,roundedStart:Jt.borderInlineStartRadius,roundedEnd:Jt.borderInlineEndRadius,borderStart:Jt.borderInlineStart,borderEnd:Jt.borderInlineEnd,borderTopStartRadius:Jt.borderStartStartRadius,borderTopEndRadius:Jt.borderStartEndRadius,borderBottomStartRadius:Jt.borderEndStartRadius,borderBottomEndRadius:Jt.borderEndEndRadius,borderStartRadius:Jt.borderInlineStartRadius,borderEndRadius:Jt.borderInlineEndRadius,borderStartWidth:Jt.borderInlineStartWidth,borderEndWidth:Jt.borderInlineEndWidth,borderStartColor:Jt.borderInlineStartColor,borderEndColor:Jt.borderInlineEndColor,borderStartStyle:Jt.borderInlineStartStyle,borderEndStyle:Jt.borderInlineEndStyle});var RJ={color:K.colors("color"),textColor:K.colors("color"),fill:K.colors("fill"),stroke:K.colors("stroke")},bM={boxShadow:K.shadows("boxShadow"),mixBlendMode:!0,blendMode:K.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:K.prop("backgroundBlendMode"),opacity:!0};Object.assign(bM,{shadow:bM.boxShadow});var PJ={filter:{transform:Lt.filter},blur:K.blur("--chakra-blur"),brightness:K.propT("--chakra-brightness",Lt.brightness),contrast:K.propT("--chakra-contrast",Lt.contrast),hueRotate:K.propT("--chakra-hue-rotate",Lt.hueRotate),invert:K.propT("--chakra-invert",Lt.invert),saturate:K.propT("--chakra-saturate",Lt.saturate),dropShadow:K.propT("--chakra-drop-shadow",Lt.dropShadow),backdropFilter:{transform:Lt.backdropFilter},backdropBlur:K.blur("--chakra-backdrop-blur"),backdropBrightness:K.propT("--chakra-backdrop-brightness",Lt.brightness),backdropContrast:K.propT("--chakra-backdrop-contrast",Lt.contrast),backdropHueRotate:K.propT("--chakra-backdrop-hue-rotate",Lt.hueRotate),backdropInvert:K.propT("--chakra-backdrop-invert",Lt.invert),backdropSaturate:K.propT("--chakra-backdrop-saturate",Lt.saturate)},Zv={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Lt.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:K.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:K.space("gap"),rowGap:K.space("rowGap"),columnGap:K.space("columnGap")};Object.assign(Zv,{flexDir:Zv.flexDirection});var GN={gridGap:K.space("gridGap"),gridColumnGap:K.space("gridColumnGap"),gridRowGap:K.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},BJ={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Lt.outline},outlineOffset:!0,outlineColor:K.colors("outlineColor")},os={width:K.sizesT("width"),inlineSize:K.sizesT("inlineSize"),height:K.sizes("height"),blockSize:K.sizes("blockSize"),boxSize:K.sizes(["width","height"]),minWidth:K.sizes("minWidth"),minInlineSize:K.sizes("minInlineSize"),minHeight:K.sizes("minHeight"),minBlockSize:K.sizes("minBlockSize"),maxWidth:K.sizes("maxWidth"),maxInlineSize:K.sizes("maxInlineSize"),maxHeight:K.sizes("maxHeight"),maxBlockSize:K.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r.minW)!=null?i:t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r._minW)!=null?i:t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:K.propT("float",Lt.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(os,{w:os.width,h:os.height,minW:os.minWidth,maxW:os.maxWidth,minH:os.minHeight,maxH:os.maxHeight,overscroll:os.overscrollBehavior,overscrollX:os.overscrollBehaviorX,overscrollY:os.overscrollBehaviorY});var IJ={listStyleType:!0,listStylePosition:!0,listStylePos:K.prop("listStylePosition"),listStyleImage:!0,listStyleImg:K.prop("listStyleImage")};function LJ(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var DJ=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},FJ=DJ(LJ),kJ={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},NJ={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},r1=(t,e,n)=>{const r={},i=FJ(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},OJ={srOnly:{transform(t){return t===!0?kJ:t==="focusable"?NJ:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>r1(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>r1(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>r1(e,t,n)}},Wh={position:!0,pos:K.prop("position"),zIndex:K.prop("zIndex","zIndices"),inset:K.spaceT("inset"),insetX:K.spaceT(["left","right"]),insetInline:K.spaceT("insetInline"),insetY:K.spaceT(["top","bottom"]),insetBlock:K.spaceT("insetBlock"),top:K.spaceT("top"),insetBlockStart:K.spaceT("insetBlockStart"),bottom:K.spaceT("bottom"),insetBlockEnd:K.spaceT("insetBlockEnd"),left:K.spaceT("left"),insetInlineStart:K.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:K.spaceT("right"),insetInlineEnd:K.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Wh,{insetStart:Wh.insetInlineStart,insetEnd:Wh.insetInlineEnd});var UJ={ring:{transform:Lt.ring},ringColor:K.colors("--chakra-ring-color"),ringOffset:K.prop("--chakra-ring-offset-width"),ringOffsetColor:K.colors("--chakra-ring-offset-color"),ringInset:K.prop("--chakra-ring-inset")},mn={margin:K.spaceT("margin"),marginTop:K.spaceT("marginTop"),marginBlockStart:K.spaceT("marginBlockStart"),marginRight:K.spaceT("marginRight"),marginInlineEnd:K.spaceT("marginInlineEnd"),marginBottom:K.spaceT("marginBottom"),marginBlockEnd:K.spaceT("marginBlockEnd"),marginLeft:K.spaceT("marginLeft"),marginInlineStart:K.spaceT("marginInlineStart"),marginX:K.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:K.spaceT("marginInline"),marginY:K.spaceT(["marginTop","marginBottom"]),marginBlock:K.spaceT("marginBlock"),padding:K.space("padding"),paddingTop:K.space("paddingTop"),paddingBlockStart:K.space("paddingBlockStart"),paddingRight:K.space("paddingRight"),paddingBottom:K.space("paddingBottom"),paddingBlockEnd:K.space("paddingBlockEnd"),paddingLeft:K.space("paddingLeft"),paddingInlineStart:K.space("paddingInlineStart"),paddingInlineEnd:K.space("paddingInlineEnd"),paddingX:K.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:K.space("paddingInline"),paddingY:K.space(["paddingTop","paddingBottom"]),paddingBlock:K.space("paddingBlock")};Object.assign(mn,{m:mn.margin,mt:mn.marginTop,mr:mn.marginRight,me:mn.marginInlineEnd,marginEnd:mn.marginInlineEnd,mb:mn.marginBottom,ml:mn.marginLeft,ms:mn.marginInlineStart,marginStart:mn.marginInlineStart,mx:mn.marginX,my:mn.marginY,p:mn.padding,pt:mn.paddingTop,py:mn.paddingY,px:mn.paddingX,pb:mn.paddingBottom,pl:mn.paddingLeft,ps:mn.paddingInlineStart,paddingStart:mn.paddingInlineStart,pr:mn.paddingRight,pe:mn.paddingInlineEnd,paddingEnd:mn.paddingInlineEnd});var zJ={textDecorationColor:K.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:K.shadows("textShadow")},HJ={clipPath:!0,transform:K.propT("transform",Lt.transform),transformOrigin:!0,translateX:K.spaceT("--chakra-translate-x"),translateY:K.spaceT("--chakra-translate-y"),skewX:K.degreeT("--chakra-skew-x"),skewY:K.degreeT("--chakra-skew-y"),scaleX:K.prop("--chakra-scale-x"),scaleY:K.prop("--chakra-scale-y"),scale:K.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:K.degreeT("--chakra-rotate")},GJ={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:K.prop("transitionDuration","transition.duration"),transitionProperty:K.prop("transitionProperty","transition.property"),transitionTimingFunction:K.prop("transitionTimingFunction","transition.easing")},VJ={fontFamily:K.prop("fontFamily","fonts"),fontSize:K.prop("fontSize","fontSizes",Lt.px),fontWeight:K.prop("fontWeight","fontWeights"),lineHeight:K.prop("lineHeight","lineHeights"),letterSpacing:K.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},WJ={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:K.spaceT("scrollMargin"),scrollMarginTop:K.spaceT("scrollMarginTop"),scrollMarginBottom:K.spaceT("scrollMarginBottom"),scrollMarginLeft:K.spaceT("scrollMarginLeft"),scrollMarginRight:K.spaceT("scrollMarginRight"),scrollMarginX:K.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:K.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:K.spaceT("scrollPadding"),scrollPaddingTop:K.spaceT("scrollPaddingTop"),scrollPaddingBottom:K.spaceT("scrollPaddingBottom"),scrollPaddingLeft:K.spaceT("scrollPaddingLeft"),scrollPaddingRight:K.spaceT("scrollPaddingRight"),scrollPaddingX:K.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:K.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function VN(t){return ks(t)&&t.reference?t.reference:String(t)}var vx=(t,...e)=>e.map(VN).join(` ${t} `).replace(/calc/g,""),uB=(...t)=>`calc(${vx("+",...t)})`,dB=(...t)=>`calc(${vx("-",...t)})`,CM=(...t)=>`calc(${vx("*",...t)})`,fB=(...t)=>`calc(${vx("/",...t)})`,hB=t=>{const e=VN(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:CM(e,-1)},tc=Object.assign(t=>({add:(...e)=>tc(uB(t,...e)),subtract:(...e)=>tc(dB(t,...e)),multiply:(...e)=>tc(CM(t,...e)),divide:(...e)=>tc(fB(t,...e)),negate:()=>tc(hB(t)),toString:()=>t.toString()}),{add:uB,subtract:dB,multiply:CM,divide:fB,negate:hB});function jJ(t,e="-"){return t.replace(/\s+/g,e)}function XJ(t){const e=jJ(t.toString());return JJ($J(e))}function $J(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function JJ(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function KJ(t,e=""){return[e,t].filter(Boolean).join("-")}function YJ(t,e){return`var(${t}${e?`, ${e}`:""})`}function qJ(t,e=""){return XJ(`--${KJ(t,e)}`)}function ct(t,e,n){const r=qJ(t,n);return{variable:r,reference:YJ(r,e)}}function QJ(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;n[i]=ct(`${t}-${i}`,s);continue}n[r]=ct(`${t}-${r}`)}return n}function ZJ(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function eK(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function EM(t){if(t==null)return t;const{unitless:e}=eK(t);return e||typeof t=="number"?`${t}px`:t}var WN=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,$b=t=>Object.fromEntries(Object.entries(t).sort(WN));function pB(t){const e=$b(t);return Object.assign(Object.values(e),e)}function tK(t){const e=Object.keys($b(t));return new Set(e)}function mB(t){var e;if(!t)return t;t=(e=EM(t))!=null?e:t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function wh(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${EM(t)})`),e&&n.push("and",`(max-width: ${EM(e)})`),n.join(" ")}function nK(t){var e;if(!t)return null;t.base=(e=t.base)!=null?e:"0px";const n=pB(t),r=Object.entries(t).sort(WN).map(([o,a],l,u)=>{var f;let[,h]=(f=u[l+1])!=null?f:[];return h=parseFloat(h)>0?mB(h):void 0,{_minW:mB(a),breakpoint:o,minW:a,maxW:h,maxWQuery:wh(null,h),minWQuery:wh(a),minMaxQuery:wh(a,h)}}),i=tK(t),s=Array.from(i.values());return{keys:i,normalized:n,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>i.has(l))},asObject:$b(t),asArray:pB(t),details:r,get(o){return r.find(a=>a.breakpoint===o)},media:[null,...n.map(o=>wh(o)).slice(1)],toArrayValue(o){if(!ks(o))throw new Error("toArrayValue: value must be an object");const a=s.map(l=>{var u;return(u=o[l])!=null?u:null});for(;ZJ(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,u)=>{const f=s[u];return f!=null&&l!=null&&(a[f]=l),a},{})}}}var _r={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},ba=t=>jN(e=>t(e,"&"),"[role=group]","[data-group]",".group"),To=t=>jN(e=>t(e,"~ &"),"[data-peer]",".peer"),jN=(t,...e)=>e.map(t).join(", "),yx={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:ba(_r.hover),_peerHover:To(_r.hover),_groupFocus:ba(_r.focus),_peerFocus:To(_r.focus),_groupFocusVisible:ba(_r.focusVisible),_peerFocusVisible:To(_r.focusVisible),_groupActive:ba(_r.active),_peerActive:To(_r.active),_groupDisabled:ba(_r.disabled),_peerDisabled:To(_r.disabled),_groupInvalid:ba(_r.invalid),_peerInvalid:To(_r.invalid),_groupChecked:ba(_r.checked),_peerChecked:To(_r.checked),_groupFocusWithin:ba(_r.focusWithin),_peerFocusWithin:To(_r.focusWithin),_peerPlaceholderShown:To(_r.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},XN=Object.keys(yx);function gB(t,e){return ct(String(t).replace(/\./g,"-"),void 0,e)}function rK(t,e){let n={};const r={};for(const[i,s]of Object.entries(t)){const{isSemantic:o,value:a}=s,{variable:l,reference:u}=gB(i,e==null?void 0:e.cssVarPrefix);if(!o){if(i.startsWith("space")){const p=i.split("."),[m,...y]=p,S=`${m}.-${y.join(".")}`,x=tc.negate(a),g=tc.negate(u);r[S]={value:x,var:l,varRef:g}}n[l]=a,r[i]={value:a,var:l,varRef:u};continue}const f=p=>{const y=[String(i).split(".")[0],p].join(".");if(!t[y])return p;const{reference:x}=gB(y,e==null?void 0:e.cssVarPrefix);return x},h=ks(a)?a:{default:a};n=no(n,Object.entries(h).reduce((p,[m,y])=>{var S,x;if(!y)return p;const g=f(`${y}`);if(m==="default")return p[l]=g,p;const A=(x=(S=yx)==null?void 0:S[m])!=null?x:m;return p[A]={[l]:g},p},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function iK(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function sK(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function oK(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function vB(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,a=[]){var l;if(oK(o)||Array.isArray(o)){const u={};for(const[f,h]of Object.entries(o)){const p=(l=i==null?void 0:i(f))!=null?l:f,m=[...a,p];if(r!=null&&r(o,m))return e(o,a);u[p]=s(h,m)}return u}return e(o,a)}return s(t)}var aK=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function lK(t){return sK(t,aK)}function cK(t){return t.semanticTokens}function uK(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}var dK=t=>XN.includes(t)||t==="default";function fK({tokens:t,semanticTokens:e}){const n={};return vB(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),vB(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(dK)}),n}function hK(t){var e;const n=uK(t),r=lK(n),i=cK(n),s=fK({tokens:r,semanticTokens:i}),o=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=rK(s,{cssVarPrefix:o});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:nK(n.breakpoints)}),n}var Jb=no({},sv,Jt,RJ,Zv,os,PJ,UJ,BJ,GN,OJ,Wh,bM,mn,WJ,VJ,zJ,HJ,IJ,GJ);Object.assign({},mn,os,Zv,GN,Wh);var pK=[...Object.keys(Jb),...XN],mK={...Jb,...yx},gK=t=>t in mK,vK=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in t){let a=Ga(t[o],e);if(a==null)continue;if(a=ks(a)&&n(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let u=0;u<l;u+=1){const f=i==null?void 0:i[u];if(!f){s[o]=a[u];continue}s[f]=s[f]||{},a[u]!=null&&(s[f][o]=a[u])}}return s};function yK(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function xK(t){return/^var\(--.+\)$/.test(t)}var _K=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!xK(e),SK=(t,e)=>{var n,r;if(e==null)return e;const i=l=>{var u,f;return(f=(u=t.__cssMap)==null?void 0:u[l])==null?void 0:f.varRef},s=l=>{var u;return(u=i(l))!=null?u:l},[o,a]=yK(e);return e=(r=(n=i(o))!=null?n:s(a))!=null?r:s(e),e};function AK(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,o=!1)=>{var a,l,u;const f=Ga(s,r),h=vK(f)(r);let p={};for(let m in h){const y=h[m];let S=Ga(y,r);m in n&&(m=n[m]),_K(m,S)&&(S=SK(r,S));let x=e[m];if(x===!0&&(x={property:m}),ks(S)){p[m]=(a=p[m])!=null?a:{},p[m]=no({},p[m],i(S,!0));continue}let g=(u=(l=x==null?void 0:x.transform)==null?void 0:l.call(x,S,r,f))!=null?u:S;g=x!=null&&x.processResult?i(g,!0):g;const A=Ga(x==null?void 0:x.property,r);if(!o&&(x!=null&&x.static)){const _=Ga(x.static,r);p=no({},p,_)}if(A&&Array.isArray(A)){for(const _ of A)p[_]=g;continue}if(A){A==="&"&&ks(g)?p=no({},p,g):p[A]=g;continue}if(ks(g)){p=no({},p,g);continue}p[m]=g}return p};return i}var $N=t=>e=>AK({theme:e,pseudos:yx,configs:Jb})(t);function hn(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function MK(t,e){if(Array.isArray(t))return t;if(ks(t))return e(t);if(t!=null)return[t]}function wK(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function bK(t){const e=t.__breakpoints;return function(r,i,s,o){var a,l;if(!e)return;const u={},f=MK(s,e.toArrayValue);if(!f)return u;const h=f.length,p=h===1,m=!!r.parts;for(let y=0;y<h;y++){const S=e.details[y],x=e.details[wK(f,y)],g=wh(S.minW,x==null?void 0:x._minW),A=Ga((a=r[i])==null?void 0:a[f[y]],o);if(A){if(m){(l=r.parts)==null||l.forEach(_=>{no(u,{[_]:p?A[_]:{[g]:A[_]}})});continue}if(!m){p?no(u,A):u[g]=A;continue}u[g]=A}}return u}}function CK(t){return e=>{var n;const{variant:r,size:i,theme:s}=e,o=bK(s);return no({},Ga((n=t.baseStyle)!=null?n:{},e),o(t,"sizes",i,e),o(t,"variants",r,e))}}function df(t){return iK(t,["styleConfig","size","variant","colorScheme"])}var EK={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},TK={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},RK={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},PK={property:EK,easing:TK,duration:RK},BK=PK,IK={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},LK=IK,DK={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},FK=DK,kK={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},NK=kK,OK={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},UK=OK,zK={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},HK=zK,GK={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},VK=GK,WK={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},jK=WK,XK={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},JN=XK,KN={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},$K={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},JK={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},KK={...KN,...$K,container:JK},YN=KK,YK={breakpoints:NK,zIndices:LK,radii:HK,blur:jK,colors:UK,...JN,sizes:YN,shadows:VK,space:KN,borders:FK,transition:BK},{defineMultiStyleConfig:qK,definePartsStyle:bh}=hn(["stepper","step","title","description","indicator","separator","icon","number"]),Lo=ct("stepper-indicator-size"),sd=ct("stepper-icon-size"),od=ct("stepper-title-font-size"),Ch=ct("stepper-description-font-size"),ph=ct("stepper-accent-color"),QK=bh(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[ph.variable]:`colors.${t}.500`,_dark:{[ph.variable]:`colors.${t}.200`}},title:{fontSize:od.reference,fontWeight:"medium"},description:{fontSize:Ch.reference,color:"chakra-subtle-text"},number:{fontSize:od.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:sd.reference,height:sd.reference},indicator:{flexShrink:0,borderRadius:"full",width:Lo.reference,height:Lo.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:ph.reference},"&[data-status=complete]":{bg:ph.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:ph.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Lo.reference} - 8px)`,top:`calc(${Lo.reference} + 4px)`,insetStart:`calc(${Lo.reference} / 2 - 1px)`}}})),ZK=qK({baseStyle:QK,sizes:{xs:bh({stepper:{[Lo.variable]:"sizes.4",[sd.variable]:"sizes.3",[od.variable]:"fontSizes.xs",[Ch.variable]:"fontSizes.xs"}}),sm:bh({stepper:{[Lo.variable]:"sizes.6",[sd.variable]:"sizes.4",[od.variable]:"fontSizes.sm",[Ch.variable]:"fontSizes.xs"}}),md:bh({stepper:{[Lo.variable]:"sizes.8",[sd.variable]:"sizes.5",[od.variable]:"fontSizes.md",[Ch.variable]:"fontSizes.sm"}}),lg:bh({stepper:{[Lo.variable]:"sizes.10",[sd.variable]:"sizes.6",[od.variable]:"fontSizes.lg",[Ch.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Qt(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...f){r();for(const h of f)e[h]=l(h);return Qt(t,e)}function s(...f){for(const h of f)h in e||(e[h]=l(h));return Qt(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([h,p])=>[h,p.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([h,p])=>[h,p.className]))}function l(f){const m=`chakra-${(["container","root"].includes(f??"")?[t]:[t,f]).filter(Boolean).join("__")}`;return{className:m,selector:`.${m}`,toString:()=>f}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var eY=Qt("accordion").parts("root","container","button","panel").extend("icon"),tY=Qt("alert").parts("title","description","container").extend("icon","spinner"),nY=Qt("avatar").parts("label","badge","container").extend("excessLabel","group"),rY=Qt("breadcrumb").parts("link","item","container").extend("separator");Qt("button").parts();var iY=Qt("checkbox").parts("control","icon","container").extend("label");Qt("progress").parts("track","filledTrack").extend("label");var sY=Qt("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),oY=Qt("editable").parts("preview","input","textarea"),aY=Qt("form").parts("container","requiredIndicator","helperText"),lY=Qt("formError").parts("text","icon"),cY=Qt("input").parts("addon","field","element","group"),uY=Qt("list").parts("container","item","icon"),dY=Qt("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),fY=Qt("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),hY=Qt("numberinput").parts("root","field","stepperGroup","stepper");Qt("pininput").parts("field");var pY=Qt("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),mY=Qt("progress").parts("label","filledTrack","track"),gY=Qt("radio").parts("container","control","label"),vY=Qt("select").parts("field","icon"),yY=Qt("slider").parts("container","track","thumb","filledTrack","mark"),xY=Qt("stat").parts("container","label","helpText","number","icon"),_Y=Qt("switch").parts("container","track","thumb","label"),SY=Qt("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),AY=Qt("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),MY=Qt("tag").parts("container","label","closeButton"),wY=Qt("card").parts("container","header","body","footer");Qt("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function hc(t,e,n){return Math.min(Math.max(t,n),e)}class bY extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var Eh=bY;function Kb(t){if(typeof t!="string")throw new Eh(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=LY.test(t)?TY(t):t;const n=RY.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(Op(a,2),16)),parseInt(Op(o[3]||"f",2),16)/255]}const r=PY.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=BY.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=IY.exec(e);if(s){const[o,a,l,u]=Array.from(s).slice(1).map(parseFloat);if(hc(0,100,a)!==a)throw new Eh(t);if(hc(0,100,l)!==l)throw new Eh(t);return[...DY(o,a,l),Number.isNaN(u)?1:u]}throw new Eh(t)}function CY(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const yB=t=>parseInt(t.replace(/_/g,""),36),EY="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=yB(e.substring(0,3)),r=yB(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function TY(t){const e=t.toLowerCase().trim(),n=EY[CY(e)];if(!n)throw new Eh(t);return`#${n}`}const Op=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),RY=new RegExp(`^#${Op("([a-f0-9])",3)}([a-f0-9])?$`,"i"),PY=new RegExp(`^#${Op("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),BY=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Op(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),IY=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,LY=/^[a-z]+$/i,xB=t=>Math.round(t*255),DY=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(xB);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,u=o):i>=3&&i<4?(l=o,u=s):i>=4&&i<5?(a=o,u=s):i>=5&&i<6&&(a=s,u=o);const f=r-s/2,h=a+f,p=l+f,m=u+f;return[h,p,m].map(xB)};function FY(t,e,n,r){return`rgba(${hc(0,255,t).toFixed()}, ${hc(0,255,e).toFixed()}, ${hc(0,255,n).toFixed()}, ${parseFloat(hc(0,1,r).toFixed(3))})`}function kY(t,e){const[n,r,i,s]=Kb(t);return FY(n,r,i,s-e)}function NY(t){const[e,n,r,i]=Kb(t);let s=o=>{const a=hc(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(n)}${s(r)}${i<1?s(Math.round(i*255)):""}`}function OY(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}var UY=t=>Object.keys(t).length===0,ni=(t,e,n)=>{const r=OY(t,`colors.${e}`,e);try{return NY(r),r}catch{return n??"#000000"}},zY=t=>{const[e,n,r]=Kb(t);return(e*299+n*587+r*114)/1e3},HY=t=>e=>{const n=ni(e,t);return zY(n)<128?"dark":"light"},GY=t=>e=>HY(t)(e)==="dark",Kd=(t,e)=>n=>{const r=ni(n,t);return kY(r,1-e)};function _B(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}var VY=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function WY(t){const e=VY();return!t||UY(t)?e:t.string&&t.colors?XY(t.string,t.colors):t.string&&!t.colors?jY(t.string):t.colors&&!t.string?$Y(t.colors):e}function jY(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function XY(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function $Y(t){return t[Math.floor(Math.random()*t.length)]}function lt(t,e){return n=>n.colorMode==="dark"?e:t}function Yb(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function qN(t){return ks(t)&&t.reference?t.reference:String(t)}var xx=(t,...e)=>e.map(qN).join(` ${t} `).replace(/calc/g,""),SB=(...t)=>`calc(${xx("+",...t)})`,AB=(...t)=>`calc(${xx("-",...t)})`,TM=(...t)=>`calc(${xx("*",...t)})`,MB=(...t)=>`calc(${xx("/",...t)})`,wB=t=>{const e=qN(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:TM(e,-1)},Do=Object.assign(t=>({add:(...e)=>Do(SB(t,...e)),subtract:(...e)=>Do(AB(t,...e)),multiply:(...e)=>Do(TM(t,...e)),divide:(...e)=>Do(MB(t,...e)),negate:()=>Do(wB(t)),toString:()=>t.toString()}),{add:SB,subtract:AB,multiply:TM,divide:MB,negate:wB});function JY(t){return!Number.isInteger(parseFloat(t.toString()))}function KY(t,e="-"){return t.replace(/\s+/g,e)}function QN(t){const e=KY(t.toString());return e.includes("\\.")?t:JY(t)?e.replace(".","\\."):t}function YY(t,e=""){return[e,QN(t)].filter(Boolean).join("-")}function qY(t,e){return`var(${QN(t)}${e?`, ${e}`:""})`}function QY(t,e=""){return`--${YY(t,e)}`}function sr(t,e){const n=QY(t,e==null?void 0:e.prefix);return{variable:n,reference:qY(n,ZY(e==null?void 0:e.fallback))}}function ZY(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{defineMultiStyleConfig:eq,definePartsStyle:ov}=hn(_Y.keys),jh=sr("switch-track-width"),Ac=sr("switch-track-height"),i1=sr("switch-track-diff"),tq=Do.subtract(jh,Ac),RM=sr("switch-thumb-x"),mh=sr("switch-bg"),nq=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[jh.reference],height:[Ac.reference],transitionProperty:"common",transitionDuration:"fast",[mh.variable]:"colors.gray.300",_dark:{[mh.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[mh.variable]:`colors.${e}.500`,_dark:{[mh.variable]:`colors.${e}.200`}},bg:mh.reference}},rq={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Ac.reference],height:[Ac.reference],_checked:{transform:`translateX(${RM.reference})`}},iq=ov(t=>({container:{[i1.variable]:tq,[RM.variable]:i1.reference,_rtl:{[RM.variable]:Do(i1).negate().toString()}},track:nq(t),thumb:rq})),sq={sm:ov({container:{[jh.variable]:"1.375rem",[Ac.variable]:"sizes.3"}}),md:ov({container:{[jh.variable]:"1.875rem",[Ac.variable]:"sizes.4"}}),lg:ov({container:{[jh.variable]:"2.875rem",[Ac.variable]:"sizes.6"}})},oq=eq({baseStyle:iq,sizes:sq,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:aq,definePartsStyle:Cd}=hn(SY.keys),lq=Cd({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),ey={"&[data-is-numeric=true]":{textAlign:"end"}},cq=Cd(t=>{const{colorScheme:e}=t;return{th:{color:lt("gray.600","gray.400")(t),borderBottom:"1px",borderColor:lt(`${e}.100`,`${e}.700`)(t),...ey},td:{borderBottom:"1px",borderColor:lt(`${e}.100`,`${e}.700`)(t),...ey},caption:{color:lt("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),uq=Cd(t=>{const{colorScheme:e}=t;return{th:{color:lt("gray.600","gray.400")(t),borderBottom:"1px",borderColor:lt(`${e}.100`,`${e}.700`)(t),...ey},td:{borderBottom:"1px",borderColor:lt(`${e}.100`,`${e}.700`)(t),...ey},caption:{color:lt("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:lt(`${e}.100`,`${e}.700`)(t)},td:{background:lt(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),dq={simple:cq,striped:uq,unstyled:{}},fq={sm:Cd({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Cd({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Cd({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},hq=aq({baseStyle:lq,variants:dq,sizes:fq,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),hi=ct("tabs-color"),Ls=ct("tabs-bg"),E0=ct("tabs-border-color"),{defineMultiStyleConfig:pq,definePartsStyle:uo}=hn(AY.keys),mq=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},gq=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},vq=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},yq={p:4},xq=uo(t=>({root:mq(t),tab:gq(t),tablist:vq(t),tabpanel:yq})),_q={sm:uo({tab:{py:1,px:4,fontSize:"sm"}}),md:uo({tab:{fontSize:"md",py:2,px:4}}),lg:uo({tab:{fontSize:"lg",py:3,px:4}})},Sq=uo(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[hi.variable]:`colors.${e}.600`,_dark:{[hi.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[Ls.variable]:"colors.gray.200",_dark:{[Ls.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:hi.reference,bg:Ls.reference}}}),Aq=uo(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[E0.variable]:"transparent",_selected:{[hi.variable]:`colors.${e}.600`,[E0.variable]:"colors.white",_dark:{[hi.variable]:`colors.${e}.300`,[E0.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:E0.reference},color:hi.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Mq=uo(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[Ls.variable]:"colors.gray.50",_dark:{[Ls.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Ls.variable]:"colors.white",[hi.variable]:`colors.${e}.600`,_dark:{[Ls.variable]:"colors.gray.800",[hi.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:hi.reference,bg:Ls.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),wq=uo(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:ni(n,`${e}.700`),bg:ni(n,`${e}.100`)}}}}),bq=uo(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[hi.variable]:"colors.gray.600",_dark:{[hi.variable]:"inherit"},_selected:{[hi.variable]:"colors.white",[Ls.variable]:`colors.${e}.600`,_dark:{[hi.variable]:"colors.gray.800",[Ls.variable]:`colors.${e}.300`}},color:hi.reference,bg:Ls.reference}}}),Cq=uo({}),Eq={line:Sq,enclosed:Aq,"enclosed-colored":Mq,"soft-rounded":wq,"solid-rounded":bq,unstyled:Cq},Tq=pq({baseStyle:xq,sizes:_q,variants:Eq,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),Un=QJ("badge",["bg","color","shadow"]),Rq={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Un.bg.reference,color:Un.color.reference,boxShadow:Un.shadow.reference},Pq=t=>{const{colorScheme:e,theme:n}=t,r=Kd(`${e}.500`,.6)(n);return{[Un.bg.variable]:`colors.${e}.500`,[Un.color.variable]:"colors.white",_dark:{[Un.bg.variable]:r,[Un.color.variable]:"colors.whiteAlpha.800"}}},Bq=t=>{const{colorScheme:e,theme:n}=t,r=Kd(`${e}.200`,.16)(n);return{[Un.bg.variable]:`colors.${e}.100`,[Un.color.variable]:`colors.${e}.800`,_dark:{[Un.bg.variable]:r,[Un.color.variable]:`colors.${e}.200`}}},Iq=t=>{const{colorScheme:e,theme:n}=t,r=Kd(`${e}.200`,.8)(n);return{[Un.color.variable]:`colors.${e}.500`,_dark:{[Un.color.variable]:r},[Un.shadow.variable]:`inset 0 0 0px 1px ${Un.color.reference}`}},Lq={solid:Pq,subtle:Bq,outline:Iq},Xh={baseStyle:Rq,variants:Lq,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Dq,definePartsStyle:Mc}=hn(MY.keys),bB=ct("tag-bg"),CB=ct("tag-color"),s1=ct("tag-shadow"),av=ct("tag-min-height"),lv=ct("tag-min-width"),cv=ct("tag-font-size"),uv=ct("tag-padding-inline"),Fq={fontWeight:"medium",lineHeight:1.2,outline:0,[CB.variable]:Un.color.reference,[bB.variable]:Un.bg.reference,[s1.variable]:Un.shadow.reference,color:CB.reference,bg:bB.reference,boxShadow:s1.reference,borderRadius:"md",minH:av.reference,minW:lv.reference,fontSize:cv.reference,px:uv.reference,_focusVisible:{[s1.variable]:"shadows.outline"}},kq={lineHeight:1.2,overflow:"visible"},Nq={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Oq=Mc({container:Fq,label:kq,closeButton:Nq}),Uq={sm:Mc({container:{[av.variable]:"sizes.5",[lv.variable]:"sizes.5",[cv.variable]:"fontSizes.xs",[uv.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Mc({container:{[av.variable]:"sizes.6",[lv.variable]:"sizes.6",[cv.variable]:"fontSizes.sm",[uv.variable]:"space.2"}}),lg:Mc({container:{[av.variable]:"sizes.8",[lv.variable]:"sizes.8",[cv.variable]:"fontSizes.md",[uv.variable]:"space.3"}})},zq={subtle:Mc(t=>{var e;return{container:(e=Xh.variants)==null?void 0:e.subtle(t)}}),solid:Mc(t=>{var e;return{container:(e=Xh.variants)==null?void 0:e.solid(t)}}),outline:Mc(t=>{var e;return{container:(e=Xh.variants)==null?void 0:e.outline(t)}})},Hq=Dq({variants:zq,baseStyle:Oq,sizes:Uq,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:Uo,defineMultiStyleConfig:Gq}=hn(cY.keys),ad=ct("input-height"),ld=ct("input-font-size"),cd=ct("input-padding"),ud=ct("input-border-radius"),Vq=Uo({addon:{height:ad.reference,fontSize:ld.reference,px:cd.reference,borderRadius:ud.reference},field:{width:"100%",height:ad.reference,fontSize:ld.reference,px:cd.reference,borderRadius:ud.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Ca={lg:{[ld.variable]:"fontSizes.lg",[cd.variable]:"space.4",[ud.variable]:"radii.md",[ad.variable]:"sizes.12"},md:{[ld.variable]:"fontSizes.md",[cd.variable]:"space.4",[ud.variable]:"radii.md",[ad.variable]:"sizes.10"},sm:{[ld.variable]:"fontSizes.sm",[cd.variable]:"space.3",[ud.variable]:"radii.sm",[ad.variable]:"sizes.8"},xs:{[ld.variable]:"fontSizes.xs",[cd.variable]:"space.2",[ud.variable]:"radii.sm",[ad.variable]:"sizes.6"}},Wq={lg:Uo({field:Ca.lg,group:Ca.lg}),md:Uo({field:Ca.md,group:Ca.md}),sm:Uo({field:Ca.sm,group:Ca.sm}),xs:Uo({field:Ca.xs,group:Ca.xs})};function qb(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||lt("blue.500","blue.300")(t),errorBorderColor:n||lt("red.500","red.300")(t)}}var jq=Uo(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=qb(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:lt("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ni(e,r),boxShadow:`0 0 0 1px ${ni(e,r)}`},_focusVisible:{zIndex:1,borderColor:ni(e,n),boxShadow:`0 0 0 1px ${ni(e,n)}`}},addon:{border:"1px solid",borderColor:lt("inherit","whiteAlpha.50")(t),bg:lt("gray.100","whiteAlpha.300")(t)}}}),Xq=Uo(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=qb(t);return{field:{border:"2px solid",borderColor:"transparent",bg:lt("gray.100","whiteAlpha.50")(t),_hover:{bg:lt("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ni(e,r)},_focusVisible:{bg:"transparent",borderColor:ni(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:lt("gray.100","whiteAlpha.50")(t)}}}),$q=Uo(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=qb(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ni(e,r),boxShadow:`0px 1px 0px 0px ${ni(e,r)}`},_focusVisible:{borderColor:ni(e,n),boxShadow:`0px 1px 0px 0px ${ni(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),Jq=Uo({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),Kq={outline:jq,filled:Xq,flushed:$q,unstyled:Jq},qt=Gq({baseStyle:Vq,sizes:Wq,variants:Kq,defaultProps:{size:"md",variant:"outline"}}),EB,Yq={...(EB=qt.baseStyle)==null?void 0:EB.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},TB,RB,qq={outline:t=>{var e,n;return(n=(e=qt.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var e,n;return(n=(e=qt.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var e,n;return(n=(e=qt.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(RB=(TB=qt.variants)==null?void 0:TB.unstyled.field)!=null?RB:{}},PB,BB,IB,LB,DB,FB,kB,NB,Qq={xs:(BB=(PB=qt.sizes)==null?void 0:PB.xs.field)!=null?BB:{},sm:(LB=(IB=qt.sizes)==null?void 0:IB.sm.field)!=null?LB:{},md:(FB=(DB=qt.sizes)==null?void 0:DB.md.field)!=null?FB:{},lg:(NB=(kB=qt.sizes)==null?void 0:kB.lg.field)!=null?NB:{}},Zq={baseStyle:Yq,sizes:Qq,variants:qq,defaultProps:{size:"md",variant:"outline"}},T0=sr("tooltip-bg"),o1=sr("tooltip-fg"),eQ=sr("popper-arrow-bg"),tQ={bg:T0.reference,color:o1.reference,[T0.variable]:"colors.gray.700",[o1.variable]:"colors.whiteAlpha.900",_dark:{[T0.variable]:"colors.gray.300",[o1.variable]:"colors.gray.900"},[eQ.variable]:T0.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},nQ={baseStyle:tQ},{defineMultiStyleConfig:rQ,definePartsStyle:Th}=hn(mY.keys),iQ=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=lt(_B(),_B("1rem","rgba(0,0,0,0.1)"))(t),o=lt(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${ni(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},sQ={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},oQ=t=>({bg:lt("gray.100","whiteAlpha.300")(t)}),aQ=t=>({transitionProperty:"common",transitionDuration:"slow",...iQ(t)}),lQ=Th(t=>({label:sQ,filledTrack:aQ(t),track:oQ(t)})),cQ={xs:Th({track:{h:"1"}}),sm:Th({track:{h:"2"}}),md:Th({track:{h:"3"}}),lg:Th({track:{h:"4"}})},uQ=rQ({sizes:cQ,baseStyle:lQ,defaultProps:{size:"md",colorScheme:"blue"}}),dQ=t=>typeof t=="function";function si(t,...e){return dQ(t)?t(...e):t}var{definePartsStyle:dv,defineMultiStyleConfig:fQ}=hn(iY.keys),$h=ct("checkbox-size"),hQ=t=>{const{colorScheme:e}=t;return{w:$h.reference,h:$h.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:lt(`${e}.500`,`${e}.200`)(t),borderColor:lt(`${e}.500`,`${e}.200`)(t),color:lt("white","gray.900")(t),_hover:{bg:lt(`${e}.600`,`${e}.300`)(t),borderColor:lt(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:lt("gray.200","transparent")(t),bg:lt("gray.200","whiteAlpha.300")(t),color:lt("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:lt(`${e}.500`,`${e}.200`)(t),borderColor:lt(`${e}.500`,`${e}.200`)(t),color:lt("white","gray.900")(t)},_disabled:{bg:lt("gray.100","whiteAlpha.100")(t),borderColor:lt("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:lt("red.500","red.300")(t)}}},pQ={_disabled:{cursor:"not-allowed"}},mQ={userSelect:"none",_disabled:{opacity:.4}},gQ={transitionProperty:"transform",transitionDuration:"normal"},vQ=dv(t=>({icon:gQ,container:pQ,control:si(hQ,t),label:mQ})),yQ={sm:dv({control:{[$h.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:dv({control:{[$h.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:dv({control:{[$h.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},ty=fQ({baseStyle:vQ,sizes:yQ,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:xQ,definePartsStyle:fv}=hn(gY.keys),_Q=t=>{var e;const n=(e=si(ty.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},SQ=fv(t=>{var e,n,r,i;return{label:(n=(e=ty).baseStyle)==null?void 0:n.call(e,t).label,container:(i=(r=ty).baseStyle)==null?void 0:i.call(r,t).container,control:_Q(t)}}),AQ={md:fv({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:fv({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:fv({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},MQ=xQ({baseStyle:SQ,sizes:AQ,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:wQ,definePartsStyle:bQ}=hn(vY.keys),R0=ct("select-bg"),OB,CQ={...(OB=qt.baseStyle)==null?void 0:OB.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:R0.reference,[R0.variable]:"colors.white",_dark:{[R0.variable]:"colors.gray.700"},"> option, > optgroup":{bg:R0.reference}},EQ={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},TQ=bQ({field:CQ,icon:EQ}),P0={paddingInlineEnd:"8"},UB,zB,HB,GB,VB,WB,jB,XB,RQ={lg:{...(UB=qt.sizes)==null?void 0:UB.lg,field:{...(zB=qt.sizes)==null?void 0:zB.lg.field,...P0}},md:{...(HB=qt.sizes)==null?void 0:HB.md,field:{...(GB=qt.sizes)==null?void 0:GB.md.field,...P0}},sm:{...(VB=qt.sizes)==null?void 0:VB.sm,field:{...(WB=qt.sizes)==null?void 0:WB.sm.field,...P0}},xs:{...(jB=qt.sizes)==null?void 0:jB.xs,field:{...(XB=qt.sizes)==null?void 0:XB.xs.field,...P0},icon:{insetEnd:"1"}}},PQ=wQ({baseStyle:TQ,sizes:RQ,variants:qt.variants,defaultProps:qt.defaultProps}),a1=ct("skeleton-start-color"),l1=ct("skeleton-end-color"),BQ={[a1.variable]:"colors.gray.100",[l1.variable]:"colors.gray.400",_dark:{[a1.variable]:"colors.gray.800",[l1.variable]:"colors.gray.600"},background:a1.reference,borderColor:l1.reference,opacity:.7,borderRadius:"sm"},IQ={baseStyle:BQ},c1=ct("skip-link-bg"),LQ={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[c1.variable]:"colors.white",_dark:{[c1.variable]:"colors.gray.700"},bg:c1.reference}},DQ={baseStyle:LQ},{defineMultiStyleConfig:FQ,definePartsStyle:_x}=hn(yY.keys),Up=ct("slider-thumb-size"),zp=ct("slider-track-size"),Ua=ct("slider-bg"),kQ=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Yb({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},NQ=t=>({...Yb({orientation:t.orientation,horizontal:{h:zp.reference},vertical:{w:zp.reference}}),overflow:"hidden",borderRadius:"sm",[Ua.variable]:"colors.gray.200",_dark:{[Ua.variable]:"colors.whiteAlpha.200"},_disabled:{[Ua.variable]:"colors.gray.300",_dark:{[Ua.variable]:"colors.whiteAlpha.300"}},bg:Ua.reference}),OQ=t=>{const{orientation:e}=t;return{...Yb({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Up.reference,h:Up.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},UQ=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[Ua.variable]:`colors.${e}.500`,_dark:{[Ua.variable]:`colors.${e}.200`},bg:Ua.reference}},zQ=_x(t=>({container:kQ(t),track:NQ(t),thumb:OQ(t),filledTrack:UQ(t)})),HQ=_x({container:{[Up.variable]:"sizes.4",[zp.variable]:"sizes.1"}}),GQ=_x({container:{[Up.variable]:"sizes.3.5",[zp.variable]:"sizes.1"}}),VQ=_x({container:{[Up.variable]:"sizes.2.5",[zp.variable]:"sizes.0.5"}}),WQ={lg:HQ,md:GQ,sm:VQ},jQ=FQ({baseStyle:zQ,sizes:WQ,defaultProps:{size:"md",colorScheme:"blue"}}),nc=sr("spinner-size"),XQ={width:[nc.reference],height:[nc.reference]},$Q={xs:{[nc.variable]:"sizes.3"},sm:{[nc.variable]:"sizes.4"},md:{[nc.variable]:"sizes.6"},lg:{[nc.variable]:"sizes.8"},xl:{[nc.variable]:"sizes.12"}},JQ={baseStyle:XQ,sizes:$Q,defaultProps:{size:"md"}},{defineMultiStyleConfig:KQ,definePartsStyle:ZN}=hn(xY.keys),YQ={fontWeight:"medium"},qQ={opacity:.8,marginBottom:"2"},QQ={verticalAlign:"baseline",fontWeight:"semibold"},ZQ={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},eZ=ZN({container:{},label:YQ,helpText:qQ,number:QQ,icon:ZQ}),tZ={md:ZN({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},nZ=KQ({baseStyle:eZ,sizes:tZ,defaultProps:{size:"md"}}),u1=ct("kbd-bg"),rZ={[u1.variable]:"colors.gray.100",_dark:{[u1.variable]:"colors.whiteAlpha.100"},bg:u1.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},iZ={baseStyle:rZ},sZ={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},oZ={baseStyle:sZ},{defineMultiStyleConfig:aZ,definePartsStyle:lZ}=hn(uY.keys),cZ={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},uZ=lZ({icon:cZ}),dZ=aZ({baseStyle:uZ}),{defineMultiStyleConfig:fZ,definePartsStyle:hZ}=hn(dY.keys),qs=ct("menu-bg"),d1=ct("menu-shadow"),pZ={[qs.variable]:"#fff",[d1.variable]:"shadows.sm",_dark:{[qs.variable]:"colors.gray.700",[d1.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:qs.reference,boxShadow:d1.reference},mZ={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[qs.variable]:"colors.gray.100",_dark:{[qs.variable]:"colors.whiteAlpha.100"}},_active:{[qs.variable]:"colors.gray.200",_dark:{[qs.variable]:"colors.whiteAlpha.200"}},_expanded:{[qs.variable]:"colors.gray.100",_dark:{[qs.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:qs.reference},gZ={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},vZ={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},yZ={opacity:.6},xZ={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},_Z={transitionProperty:"common",transitionDuration:"normal"},SZ=hZ({button:_Z,list:pZ,item:mZ,groupTitle:gZ,icon:vZ,command:yZ,divider:xZ}),AZ=fZ({baseStyle:SZ}),{defineMultiStyleConfig:MZ,definePartsStyle:PM}=hn(fY.keys),f1=ct("modal-bg"),h1=ct("modal-shadow"),wZ={bg:"blackAlpha.600",zIndex:"modal"},bZ=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},CZ=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[f1.variable]:"colors.white",[h1.variable]:"shadows.lg",_dark:{[f1.variable]:"colors.gray.700",[h1.variable]:"shadows.dark-lg"},bg:f1.reference,boxShadow:h1.reference}},EZ={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},TZ={position:"absolute",top:"2",insetEnd:"3"},RZ=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},PZ={px:"6",py:"4"},BZ=PM(t=>({overlay:wZ,dialogContainer:si(bZ,t),dialog:si(CZ,t),header:EZ,closeButton:TZ,body:si(RZ,t),footer:PZ}));function Cs(t){return PM(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var IZ={xs:Cs("xs"),sm:Cs("sm"),md:Cs("md"),lg:Cs("lg"),xl:Cs("xl"),"2xl":Cs("2xl"),"3xl":Cs("3xl"),"4xl":Cs("4xl"),"5xl":Cs("5xl"),"6xl":Cs("6xl"),full:Cs("full")},LZ=MZ({baseStyle:BZ,sizes:IZ,defaultProps:{size:"md"}}),{defineMultiStyleConfig:DZ,definePartsStyle:eO}=hn(hY.keys),Qb=sr("number-input-stepper-width"),tO=sr("number-input-input-padding"),FZ=Do(Qb).add("0.5rem").toString(),p1=sr("number-input-bg"),m1=sr("number-input-color"),g1=sr("number-input-border-color"),kZ={[Qb.variable]:"sizes.6",[tO.variable]:FZ},NZ=t=>{var e,n;return(n=(e=si(qt.baseStyle,t))==null?void 0:e.field)!=null?n:{}},OZ={width:Qb.reference},UZ={borderStart:"1px solid",borderStartColor:g1.reference,color:m1.reference,bg:p1.reference,[m1.variable]:"colors.chakra-body-text",[g1.variable]:"colors.chakra-border-color",_dark:{[m1.variable]:"colors.whiteAlpha.800",[g1.variable]:"colors.whiteAlpha.300"},_active:{[p1.variable]:"colors.gray.200",_dark:{[p1.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},zZ=eO(t=>{var e;return{root:kZ,field:(e=si(NZ,t))!=null?e:{},stepperGroup:OZ,stepper:UZ}});function B0(t){var e,n,r;const i=(e=qt.sizes)==null?void 0:e[t],s={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=JN.fontSizes[o];return eO({field:{...i.field,paddingInlineEnd:tO.reference,verticalAlign:"top"},stepper:{fontSize:Do(a).multiply(.75).toString(),_first:{borderTopEndRadius:s[t]},_last:{borderBottomEndRadius:s[t],mt:"-1px",borderTopWidth:1}}})}var HZ={xs:B0("xs"),sm:B0("sm"),md:B0("md"),lg:B0("lg")},GZ=DZ({baseStyle:zZ,sizes:HZ,variants:qt.variants,defaultProps:qt.defaultProps}),$B,VZ={...($B=qt.baseStyle)==null?void 0:$B.field,textAlign:"center"},WZ={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},JB,KB,jZ={outline:t=>{var e,n,r;return(r=(n=si((e=qt.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var e,n,r;return(r=(n=si((e=qt.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var e,n,r;return(r=(n=si((e=qt.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:(KB=(JB=qt.variants)==null?void 0:JB.unstyled.field)!=null?KB:{}},XZ={baseStyle:VZ,sizes:WZ,variants:jZ,defaultProps:qt.defaultProps},{defineMultiStyleConfig:$Z,definePartsStyle:JZ}=hn(pY.keys),I0=sr("popper-bg"),KZ=sr("popper-arrow-bg"),YB=sr("popper-arrow-shadow-color"),YZ={zIndex:10},qZ={[I0.variable]:"colors.white",bg:I0.reference,[KZ.variable]:I0.reference,[YB.variable]:"colors.gray.200",_dark:{[I0.variable]:"colors.gray.700",[YB.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},QZ={px:3,py:2,borderBottomWidth:"1px"},ZZ={px:3,py:2},eee={px:3,py:2,borderTopWidth:"1px"},tee={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},nee=JZ({popper:YZ,content:qZ,header:QZ,body:ZZ,footer:eee,closeButton:tee}),ree=$Z({baseStyle:nee}),{definePartsStyle:BM,defineMultiStyleConfig:iee}=hn(sY.keys),v1=ct("drawer-bg"),y1=ct("drawer-box-shadow");function ku(t){return BM(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var see={bg:"blackAlpha.600",zIndex:"modal"},oee={display:"flex",zIndex:"modal",justifyContent:"center"},aee=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[v1.variable]:"colors.white",[y1.variable]:"shadows.lg",_dark:{[v1.variable]:"colors.gray.700",[y1.variable]:"shadows.dark-lg"},bg:v1.reference,boxShadow:y1.reference}},lee={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},cee={position:"absolute",top:"2",insetEnd:"3"},uee={px:"6",py:"2",flex:"1",overflow:"auto"},dee={px:"6",py:"4"},fee=BM(t=>({overlay:see,dialogContainer:oee,dialog:si(aee,t),header:lee,closeButton:cee,body:uee,footer:dee})),hee={xs:ku("xs"),sm:ku("md"),md:ku("lg"),lg:ku("2xl"),xl:ku("4xl"),full:ku("full")},pee=iee({baseStyle:fee,sizes:hee,defaultProps:{size:"xs"}}),{definePartsStyle:mee,defineMultiStyleConfig:gee}=hn(oY.keys),vee={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},yee={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},xee={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},_ee=mee({preview:vee,input:yee,textarea:xee}),See=gee({baseStyle:_ee}),{definePartsStyle:Aee,defineMultiStyleConfig:Mee}=hn(aY.keys),Ed=ct("form-control-color"),wee={marginStart:"1",[Ed.variable]:"colors.red.500",_dark:{[Ed.variable]:"colors.red.300"},color:Ed.reference},bee={mt:"2",[Ed.variable]:"colors.gray.600",_dark:{[Ed.variable]:"colors.whiteAlpha.600"},color:Ed.reference,lineHeight:"normal",fontSize:"sm"},Cee=Aee({container:{width:"100%",position:"relative"},requiredIndicator:wee,helperText:bee}),Eee=Mee({baseStyle:Cee}),{definePartsStyle:Tee,defineMultiStyleConfig:Ree}=hn(lY.keys),Td=ct("form-error-color"),Pee={[Td.variable]:"colors.red.500",_dark:{[Td.variable]:"colors.red.300"},color:Td.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},Bee={marginEnd:"0.5em",[Td.variable]:"colors.red.500",_dark:{[Td.variable]:"colors.red.300"},color:Td.reference},Iee=Tee({text:Pee,icon:Bee}),Lee=Ree({baseStyle:Iee}),Dee={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},Fee={baseStyle:Dee},kee={fontFamily:"heading",fontWeight:"bold"},Nee={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},Oee={baseStyle:kee,sizes:Nee,defaultProps:{size:"xl"}},{defineMultiStyleConfig:Uee,definePartsStyle:zee}=hn(rY.keys),x1=ct("breadcrumb-link-decor"),Hee={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:x1.reference,[x1.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[x1.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},Gee=zee({link:Hee}),Vee=Uee({baseStyle:Gee}),Wee={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},nO=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:lt("gray.800","whiteAlpha.900")(t),_hover:{bg:lt("gray.100","whiteAlpha.200")(t)},_active:{bg:lt("gray.200","whiteAlpha.300")(t)}};const r=Kd(`${e}.200`,.12)(n),i=Kd(`${e}.200`,.24)(n);return{color:lt(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:lt(`${e}.50`,r)(t)},_active:{bg:lt(`${e}.100`,i)(t)}}},jee=t=>{const{colorScheme:e}=t,n=lt("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...si(nO,t)}},Xee={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},$ee=t=>{var e;const{colorScheme:n}=t;if(n==="gray"){const l=lt("gray.100","whiteAlpha.200")(t);return{bg:l,color:lt("gray.800","whiteAlpha.900")(t),_hover:{bg:lt("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:lt("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:s=`${n}.600`,activeBg:o=`${n}.700`}=(e=Xee[n])!=null?e:{},a=lt(r,`${n}.200`)(t);return{bg:a,color:lt(i,"gray.800")(t),_hover:{bg:lt(s,`${n}.300`)(t),_disabled:{bg:a}},_active:{bg:lt(o,`${n}.400`)(t)}}},Jee=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:lt(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:lt(`${e}.700`,`${e}.500`)(t)}}},Kee={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},Yee={ghost:nO,outline:jee,solid:$ee,link:Jee,unstyled:Kee},qee={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},Qee={baseStyle:Wee,variants:Yee,sizes:qee,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:wc,defineMultiStyleConfig:Zee}=hn(wY.keys),ny=ct("card-bg"),Vo=ct("card-padding"),rO=ct("card-shadow"),hv=ct("card-radius"),iO=ct("card-border-width","0"),sO=ct("card-border-color"),ete=wc({container:{[ny.variable]:"colors.chakra-body-bg",backgroundColor:ny.reference,boxShadow:rO.reference,borderRadius:hv.reference,color:"chakra-body-text",borderWidth:iO.reference,borderColor:sO.reference},body:{padding:Vo.reference,flex:"1 1 0%"},header:{padding:Vo.reference},footer:{padding:Vo.reference}}),tte={sm:wc({container:{[hv.variable]:"radii.base",[Vo.variable]:"space.3"}}),md:wc({container:{[hv.variable]:"radii.md",[Vo.variable]:"space.5"}}),lg:wc({container:{[hv.variable]:"radii.xl",[Vo.variable]:"space.7"}})},nte={elevated:wc({container:{[rO.variable]:"shadows.base",_dark:{[ny.variable]:"colors.gray.700"}}}),outline:wc({container:{[iO.variable]:"1px",[sO.variable]:"colors.chakra-border-color"}}),filled:wc({container:{[ny.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Vo.variable]:0},header:{[Vo.variable]:0},footer:{[Vo.variable]:0}}},rte=Zee({baseStyle:ete,variants:nte,sizes:tte,defaultProps:{variant:"elevated",size:"md"}}),Jh=sr("close-button-size"),gh=sr("close-button-bg"),ite={w:[Jh.reference],h:[Jh.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[gh.variable]:"colors.blackAlpha.100",_dark:{[gh.variable]:"colors.whiteAlpha.100"}},_active:{[gh.variable]:"colors.blackAlpha.200",_dark:{[gh.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:gh.reference},ste={lg:{[Jh.variable]:"sizes.10",fontSize:"md"},md:{[Jh.variable]:"sizes.8",fontSize:"xs"},sm:{[Jh.variable]:"sizes.6",fontSize:"2xs"}},ote={baseStyle:ite,sizes:ste,defaultProps:{size:"md"}},{variants:ate,defaultProps:lte}=Xh,cte={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Un.bg.reference,color:Un.color.reference,boxShadow:Un.shadow.reference},ute={baseStyle:cte,variants:ate,defaultProps:lte},dte={w:"100%",mx:"auto",maxW:"prose",px:"4"},fte={baseStyle:dte},hte={opacity:.6,borderColor:"inherit"},pte={borderStyle:"solid"},mte={borderStyle:"dashed"},gte={solid:pte,dashed:mte},vte={baseStyle:hte,variants:gte,defaultProps:{variant:"solid"}},{definePartsStyle:yte,defineMultiStyleConfig:xte}=hn(eY.keys),_te={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},Ste={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},Ate={pt:"2",px:"4",pb:"5"},Mte={fontSize:"1.25em"},wte=yte({container:_te,button:Ste,panel:Ate,icon:Mte}),bte=xte({baseStyle:wte}),{definePartsStyle:mm,defineMultiStyleConfig:Cte}=hn(tY.keys),Ui=ct("alert-fg"),Zo=ct("alert-bg"),Ete=mm({container:{bg:Zo.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Ui.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Ui.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Zb(t){const{theme:e,colorScheme:n}=t,r=Kd(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}var Tte=mm(t=>{const{colorScheme:e}=t,n=Zb(t);return{container:{[Ui.variable]:`colors.${e}.600`,[Zo.variable]:n.light,_dark:{[Ui.variable]:`colors.${e}.200`,[Zo.variable]:n.dark}}}}),Rte=mm(t=>{const{colorScheme:e}=t,n=Zb(t);return{container:{[Ui.variable]:`colors.${e}.600`,[Zo.variable]:n.light,_dark:{[Ui.variable]:`colors.${e}.200`,[Zo.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Ui.reference}}}),Pte=mm(t=>{const{colorScheme:e}=t,n=Zb(t);return{container:{[Ui.variable]:`colors.${e}.600`,[Zo.variable]:n.light,_dark:{[Ui.variable]:`colors.${e}.200`,[Zo.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Ui.reference}}}),Bte=mm(t=>{const{colorScheme:e}=t;return{container:{[Ui.variable]:"colors.white",[Zo.variable]:`colors.${e}.600`,_dark:{[Ui.variable]:"colors.gray.900",[Zo.variable]:`colors.${e}.200`},color:Ui.reference}}}),Ite={subtle:Tte,"left-accent":Rte,"top-accent":Pte,solid:Bte},Lte=Cte({baseStyle:Ete,variants:Ite,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:oO,defineMultiStyleConfig:Dte}=hn(nY.keys),Rd=ct("avatar-border-color"),Kh=ct("avatar-bg"),Hp=ct("avatar-font-size"),Yd=ct("avatar-size"),Fte={borderRadius:"full",border:"0.2em solid",borderColor:Rd.reference,[Rd.variable]:"white",_dark:{[Rd.variable]:"colors.gray.800"}},kte={bg:Kh.reference,fontSize:Hp.reference,width:Yd.reference,height:Yd.reference,lineHeight:"1",[Kh.variable]:"colors.gray.200",_dark:{[Kh.variable]:"colors.whiteAlpha.400"}},Nte=t=>{const{name:e,theme:n}=t,r=e?WY({string:e}):"colors.gray.400",i=GY(r)(n);let s="white";return i||(s="gray.800"),{bg:Kh.reference,fontSize:Hp.reference,color:s,borderColor:Rd.reference,verticalAlign:"top",width:Yd.reference,height:Yd.reference,"&:not([data-loaded])":{[Kh.variable]:r},[Rd.variable]:"colors.white",_dark:{[Rd.variable]:"colors.gray.800"}}},Ote={fontSize:Hp.reference,lineHeight:"1"},Ute=oO(t=>({badge:si(Fte,t),excessLabel:si(kte,t),container:si(Nte,t),label:Ote}));function Ea(t){const e=t!=="100%"?YN[t]:void 0;return oO({container:{[Yd.variable]:e??t,[Hp.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[Yd.variable]:e??t,[Hp.variable]:`calc(${e??t} / 2.5)`}})}var zte={"2xs":Ea(4),xs:Ea(6),sm:Ea(8),md:Ea(12),lg:Ea(16),xl:Ea(24),"2xl":Ea(32),full:Ea("100%")},Hte=Dte({baseStyle:Ute,sizes:zte,defaultProps:{size:"md"}}),Gte={Accordion:bte,Alert:Lte,Avatar:Hte,Badge:Xh,Breadcrumb:Vee,Button:Qee,Checkbox:ty,CloseButton:ote,Code:ute,Container:fte,Divider:vte,Drawer:pee,Editable:See,Form:Eee,FormError:Lee,FormLabel:Fee,Heading:Oee,Input:qt,Kbd:iZ,Link:oZ,List:dZ,Menu:AZ,Modal:LZ,NumberInput:GZ,PinInput:XZ,Popover:ree,Progress:uQ,Radio:MQ,Select:PQ,Skeleton:IQ,SkipLink:DQ,Slider:jQ,Spinner:JQ,Stat:nZ,Switch:oq,Table:hq,Tabs:Tq,Tag:Hq,Textarea:Zq,Tooltip:nQ,Card:rte,Stepper:ZK},Vte={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Wte={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},jte="ltr",Xte={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},$te={semanticTokens:Vte,direction:jte,...YK,components:Gte,styles:Wte,config:Xte};function Jte(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function Kte(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var Yte=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},aO=Yte(Kte);function lO(t,e){const n={};return Object.keys(t).forEach(r=>{const i=t[r];e(i,r,t)&&(n[r]=i)}),n}var cO=t=>lO(t,e=>e!=null);function qte(t){return typeof t=="function"}function uO(t,...e){return qte(t)?t(...e):t}var Qte=typeof Element<"u",Zte=typeof Map=="function",ene=typeof Set=="function",tne=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function pv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!pv(t[r],e[r]))return!1;return!0}var s;if(Zte&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!pv(r.value[1],e.get(r.value[0])))return!1;return!0}if(ene&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(tne&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Qte&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!pv(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var nne=function(e,n){try{return pv(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const rne=Xp(nne);function dO(t,e={}){var n;const{styleConfig:r,...i}=e,{theme:s,colorMode:o}=uJ(),a=t?aO(s,`components.${t}`):void 0,l=r||a,u=no({theme:s,colorMode:o},(n=l==null?void 0:l.defaultProps)!=null?n:{},cO(Jte(i,["children"]))),f=G.useRef({});if(l){const p=CK(l)(u);rne(f.current,p)||(f.current=p)}return f.current}function ff(t,e={}){return dO(t,e)}function ine(t,e={}){return dO(t,e)}var sne=new Set([...pK,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),one=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function ane(t){return one.has(t)||!sne.has(t)}function lne(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function fO(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var cne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,une=wN(function(t){return cne.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),dne=une,fne=function(e){return e!=="theme"},qB=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?dne:fne},QB=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},hne=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return PN(n,r,i),V$(function(){return BN(n,r,i)}),null},pne=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=QB(e,n,r),l=a||qB(i),u=!l("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{h.push(f[0][0]);for(var p=f.length,m=1;m<p;m++)h.push(f[m],f[0][m])}var y=FN(function(S,x,g){var A=u&&S.as||i,_="",b=[],B=S;if(S.theme==null){B={};for(var T in S)B[T]=S[T];B.theme=G.useContext(Np)}typeof S.className=="string"?_=k$(x.registered,b,S.className):S.className!=null&&(_=S.className+" ");var R=Gb(h.concat(b),x.registered,B);_+=x.key+"-"+R.name,o!==void 0&&(_+=" "+o);var L=u&&a===void 0?qB(A):l,P={};for(var C in S)u&&C==="as"||L(C)&&(P[C]=S[C]);return P.className=_,P.ref=g,G.createElement(G.Fragment,null,G.createElement(hne,{cache:x,serialized:R,isStringTag:typeof A=="string"}),G.createElement(A,P))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=h,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(S,x){return t(S,ol({},n,x,{shouldForwardProp:QB(y,x,!0)})).apply(void 0,h)},y}},mne=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ry=pne.bind();mne.forEach(function(t){ry[t]=ry(t)});var ZB,gne=(ZB=ry.default)!=null?ZB:ry,vne=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...o}=e,a=lO(o,(h,p)=>gK(p)),l=uO(t,e),u=lne({},i,l,cO(a),s),f=$N(u)(e.theme);return r?[f,r]:f};function _1(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=ane);const i=vne({baseStyle:n}),s=gne(t,r)(i);return Pd.forwardRef(function(l,u){const{colorMode:f,forced:h}=jb();return Pd.createElement(s,{ref:u,"data-theme":h?f:void 0,...l})})}function yne(){const t=new Map;return new Proxy(_1,{apply(e,n,r){return _1(...r)},get(e,n){return t.has(n)||t.set(n,_1(n)),t.get(n)}})}var ir=yne();function Si(t){return G.forwardRef(t)}function xne(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,i=G.createContext(void 0);i.displayName=r;function s(){var o;const a=G.useContext(i);if(!a&&e){const l=new Error(n);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,s),l}return a}return[i.Provider,s,i]}function _ne(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=G.useMemo(()=>hK(n),[n]);return ce.jsxs(X$,{theme:i,children:[ce.jsx(Sne,{root:e}),r]})}function Sne({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return ce.jsx(mx,{styles:n=>({[e]:n.__cssVars})})}xne({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function Ane(){const{colorMode:t}=jb();return ce.jsx(mx,{styles:e=>{const n=aO(e,"styles.global"),r=uO(n,{theme:e,colorMode:t});return r?$N(r)(e):void 0}})}var hO=G.createContext({getDocument(){return document},getWindow(){return window}});hO.displayName="EnvironmentContext";function pO(t){const{children:e,environment:n,disabled:r}=t,i=G.useRef(null),s=G.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),o=!r||!n;return ce.jsxs(hO.Provider,{value:s,children:[e,o&&ce.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}pO.displayName="EnvironmentProvider";var Mne=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:f}=t,h=ce.jsx(pO,{environment:a,disabled:u,children:e});return ce.jsx(_ne,{theme:o,cssVarsRoot:l,children:ce.jsxs(zN,{colorModeManager:n,options:o.config,children:[s?ce.jsx(Y$,{scope:i}):ce.jsx(K$,{}),!f&&ce.jsx(Ane,{}),r?ce.jsx(ON,{zIndex:r,children:h}):h]})})},wne=(t,e)=>t.find(n=>n.id===e);function eI(t,e){const n=mO(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function mO(t,e){for(const[n,r]of Object.entries(t))if(wne(r,e))return n}function bne(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function Cne(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:o}}function Ene(t,e=[]){const n=G.useRef(t);return G.useEffect(()=>{n.current=t}),G.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function Tne(t,e){const n=Ene(t);G.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function tI(t,e){const n=G.useRef(!1),r=G.useRef(!1);G.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),G.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const eC=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Sx=G.createContext({}),gm=G.createContext(null),tC=typeof document<"u",nC=tC?G.useLayoutEffect:G.useEffect,gO=G.createContext({strict:!1}),rC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Rne="framerAppearId",vO="data-"+rC(Rne),Pne={skipAnimations:!1,useManualTiming:!1};class nI{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Bne(t){let e=new nI,n=new nI,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,f=!1)=>{const h=f&&i,p=h?e:n;return u&&o.add(l),p.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const f=e.order[u];o.has(f)&&(a.schedule(f),t()),f(l)}i=!1,s&&(s=!1,a.process(l))}};return a}const L0=["read","resolveKeyframes","update","preRender","render","postRender"],Ine=40;function yO(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=L0.reduce((h,p)=>(h[p]=Bne(()=>n=!0),h),{}),o=h=>{s[h].process(i)},a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,Ine),1),i.timestamp=h,i.isProcessing=!0,L0.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:L0.reduce((h,p)=>{const m=s[p];return h[p]=(y,S=!1,x=!1)=>(n||l(),m.schedule(y,S,x)),h},{}),cancel:h=>L0.forEach(p=>s[p].cancel(h)),state:i,steps:s}}const{schedule:iC,cancel:xae}=yO(queueMicrotask,!1);function Lne(t,e,n,r){const{visualElement:i}=G.useContext(Sx),s=G.useContext(gO),o=G.useContext(gm),a=G.useContext(eC).reducedMotion,l=G.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;G.useInsertionEffect(()=>{u&&u.update(n,o)});const f=G.useRef(!!(n[vO]&&!window.HandoffComplete));return nC(()=>{u&&(iC.postRender(u.render),f.current&&u.animationState&&u.animationState.animateChanges())}),G.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function dd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Dne(t,e,n){return G.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dd(n)&&(n.current=r))},[e])}function Gp(t){return typeof t=="string"||Array.isArray(t)}function Ax(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const sC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oC=["initial",...sC];function Mx(t){return Ax(t.animate)||oC.some(e=>Gp(t[e]))}function xO(t){return!!(Mx(t)||t.variants)}function Fne(t,e){if(Mx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Gp(n)?n:void 0,animate:Gp(r)?r:void 0}}return t.inherit!==!1?e:{}}function kne(t){const{initial:e,animate:n}=Fne(t,G.useContext(Sx));return G.useMemo(()=>({initial:e,animate:n}),[rI(e),rI(n)])}function rI(t){return Array.isArray(t)?t.join(" "):t}const iI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vp={};for(const t in iI)Vp[t]={isEnabled:e=>iI[t].some(n=>!!e[n])};function Nne(t){for(const e in t)Vp[e]={...Vp[e],...t[e]}}const aC=G.createContext({}),_O=G.createContext({}),One=Symbol.for("motionComponentSymbol");function Une({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Nne(t);function s(a,l){let u;const f={...G.useContext(eC),...a,layoutId:zne(a)},{isStatic:h}=f,p=kne(a),m=r(a,h);if(!h&&tC){p.visualElement=Lne(i,m,f,e);const y=G.useContext(_O),S=G.useContext(gO).strict;p.visualElement&&(u=p.visualElement.loadFeatures(f,S,t,y))}return G.createElement(Sx.Provider,{value:p},u&&p.visualElement?G.createElement(u,{visualElement:p.visualElement,...f}):null,n(i,a,Dne(m,p.visualElement,l),m,h,p.visualElement))}const o=G.forwardRef(s);return o[One]=i,o}function zne({layoutId:t}){const e=G.useContext(aC).id;return e&&t!==void 0?e+"-"+t:t}function Hne(t){function e(r,i={}){return Une(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Gne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lC(t){return typeof t!="string"||t.includes("-")?!1:!!(Gne.indexOf(t)>-1||/[A-Z]/u.test(t))}const iy={};function Vne(t){Object.assign(iy,t)}const vm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zc=new Set(vm);function SO(t,{layout:e,layoutId:n}){return zc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!iy[t]||t==="opacity")}const zr=t=>!!(t&&t.getVelocity),Wne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jne=vm.length;function Xne(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<jne;o++){const a=vm[o];if(t[a]!==void 0){const l=Wne[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const AO=t=>e=>typeof e=="string"&&e.startsWith(t),MO=AO("--"),$ne=AO("var(--"),cC=t=>$ne(t)?Jne.test(t.split("/*")[0].trim()):!1,Jne=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kne=(t,e)=>e&&typeof t=="number"?e.transform(t):t,al=(t,e,n)=>n>e?e:n<t?t:n,hf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yh={...hf,transform:t=>al(0,1,t)},D0={...hf,default:1},qh=t=>Math.round(t*1e5)/1e5,uC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Yne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,qne=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function ym(t){return typeof t=="string"}const xm=t=>({test:e=>ym(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ta=xm("deg"),fo=xm("%"),dt=xm("px"),Qne=xm("vh"),Zne=xm("vw"),sI={...fo,parse:t=>fo.parse(t)/100,transform:t=>fo.transform(t*100)},oI={...hf,transform:Math.round},wO={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,size:dt,top:dt,right:dt,bottom:dt,left:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,rotate:Ta,rotateX:Ta,rotateY:Ta,rotateZ:Ta,scale:D0,scaleX:D0,scaleY:D0,scaleZ:D0,skew:Ta,skewX:Ta,skewY:Ta,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:Yh,originX:sI,originY:sI,originZ:dt,zIndex:oI,backgroundPositionX:dt,backgroundPositionY:dt,fillOpacity:Yh,strokeOpacity:Yh,numOctaves:oI};function dC(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,f=!0;for(const h in e){const p=e[h];if(MO(h)){s[h]=p;continue}const m=wO[h],y=Kne(p,m);if(zc.has(h)){if(l=!0,o[h]=y,!f)continue;p!==(m.default||0)&&(f=!1)}else h.startsWith("origin")?(u=!0,a[h]=y):i[h]=y}if(e.transform||(l||r?i.transform=Xne(t.transform,n,f,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${p} ${m}`}}const fC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bO(t,e,n){for(const r in e)!zr(e[r])&&!SO(r,n)&&(t[r]=e[r])}function ere({transformTemplate:t},e,n){return G.useMemo(()=>{const r=fC();return dC(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function tre(t,e,n){const r=t.style||{},i={};return bO(i,r,t),Object.assign(i,ere(t,e,n)),i}function nre(t,e,n){const r={},i=tre(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const rre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rre.has(t)}let CO=t=>!sy(t);function ire(t){t&&(CO=e=>e.startsWith("on")?!sy(e):t(e))}try{ire(require("@emotion/is-prop-valid").default)}catch{}function sre(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(CO(i)||n===!0&&sy(i)||!e&&!sy(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function aI(t,e,n){return typeof t=="string"?t:dt.transform(e+n*t)}function ore(t,e,n){const r=aI(e,t.x,t.width),i=aI(n,t.y,t.height);return`${r} ${i}`}const are={offset:"stroke-dashoffset",array:"stroke-dasharray"},lre={offset:"strokeDashoffset",array:"strokeDasharray"};function cre(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?are:lre;t[s.offset]=dt.transform(-r);const o=dt.transform(e),a=dt.transform(n);t[s.array]=`${o} ${a}`}function hC(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,h,p){if(dC(t,u,f,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:S}=t;m.transform&&(S&&(y.transform=m.transform),delete m.transform),S&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=ore(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&cre(m,o,a,l,!1)}const EO=()=>({...fC(),attrs:{}}),pC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ure(t,e,n,r){const i=G.useMemo(()=>{const s=EO();return hC(s,e,{enableHardwareAcceleration:!1},pC(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};bO(s,t.style,t),i.style={...s,...i.style}}return i}function dre(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(lC(n)?ure:nre)(r,s,o,n),u=sre(r,typeof n=="string",t),f=n!==G.Fragment?{...u,...l,ref:i}:{},{children:h}=r,p=G.useMemo(()=>zr(h)?h.get():h,[h]);return G.createElement(n,{...f,children:p})}}function TO(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const RO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PO(t,e,n,r){TO(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(RO.has(i)?i:rC(i),e.attrs[i])}function mC(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(zr(i[o])||e.style&&zr(e.style[o])||SO(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function BO(t,e,n){const r=mC(t,e,n);for(const i in t)if(zr(t[i])||zr(e[i])){const s=vm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function gC(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function IO(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const IM=t=>Array.isArray(t),fre=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),hre=t=>IM(t)?t[t.length-1]||0:t;function mv(t){const e=zr(t)?t.get():t;return fre(e)?e.toValue():e}function pre({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:mre(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const LO=t=>(e,n)=>{const r=G.useContext(Sx),i=G.useContext(gm),s=()=>pre(t,e,r,i);return n?s():IO(s)};function mre(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=mv(s[p]);let{initial:o,animate:a}=t;const l=Mx(t),u=xO(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?a:o;return h&&typeof h!="boolean"&&!Ax(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=gC(t,m);if(!y)return;const{transitionEnd:S,transition:x,...g}=y;for(const A in g){let _=g[A];if(Array.isArray(_)){const b=f?_.length-1:0;_=_[b]}_!==null&&(i[A]=_)}for(const A in S)i[A]=S[A]}),i}const Gr=t=>t,{schedule:pr,cancel:ll,state:Ar,steps:S1}=yO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gr,!0),gre={useVisualState:LO({scrapeMotionValuesFromProps:BO,createRenderState:EO,onMount:(t,e,{renderState:n,latestValues:r})=>{pr.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),pr.render(()=>{hC(n,r,{enableHardwareAcceleration:!1},pC(e.tagName),t.transformTemplate),PO(e,n)})}})},vre={useVisualState:LO({scrapeMotionValuesFromProps:mC,createRenderState:fC})};function yre(t,{forwardMotionProps:e=!1},n,r){return{...lC(t)?gre:vre,preloadedFeatures:n,useRender:dre(e),createVisualElement:r,Component:t}}function zo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const DO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function wx(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const xre=t=>e=>DO(e)&&t(e,wx(e));function Wo(t,e,n,r){return zo(t,e,xre(n),r)}const _re=(t,e)=>n=>e(t(n)),jo=(...t)=>t.reduce(_re);function FO(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const lI=FO("dragHorizontal"),cI=FO("dragVertical");function kO(t){let e=!1;if(t==="y")e=cI();else if(t==="x")e=lI();else{const n=lI(),r=cI();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function NO(){const t=kO(!0);return t?(t(),!1):!0}class gl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function uI(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||NO())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&a[r](s,o)};return Wo(t.current,n,i,{passive:!t.getProps()[r]})}class Sre extends gl{mount(){this.unmount=jo(uI(this.node,!0),uI(this.node,!1))}unmount(){}}class Are extends gl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jo(zo(this.node.current,"focus",()=>this.onFocus()),zo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const OO=(t,e)=>e?t===e?!0:OO(t,e.parentElement):!1;function A1(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,wx(n))}class Mre extends gl{constructor(){super(...arguments),this.removeStartListeners=Gr,this.removeEndListeners=Gr,this.removeAccessibleListeners=Gr,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Wo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:h}=this.node.getProps();!h&&!OO(this.node.current,a.target)?f&&f(a,l):u&&u(a,l)},{passive:!(r.onTap||r.onPointerUp)}),o=Wo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=jo(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||A1("up",(l,u)=>{const{onTap:f}=this.node.getProps();f&&f(l,u)})};this.removeEndListeners(),this.removeEndListeners=zo(this.node.current,"keyup",o),A1("down",(a,l)=>{this.startPress(a,l)})},n=zo(this.node.current,"keydown",e),r=()=>{this.isPressing&&A1("cancel",(s,o)=>this.cancelPress(s,o))},i=zo(this.node.current,"blur",r);this.removeAccessibleListeners=jo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&r(e,n)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!NO()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&r(e,n)}mount(){const e=this.node.getProps(),n=Wo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=zo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const LM=new WeakMap,M1=new WeakMap,wre=t=>{const e=LM.get(t.target);e&&e(t)},bre=t=>{t.forEach(wre)};function Cre({root:t,...e}){const n=t||document;M1.has(n)||M1.set(n,{});const r=M1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(bre,{root:t,...e})),r[i]}function Ere(t,e,n){const r=Cre(e);return LM.set(t,n),r.observe(t),()=>{LM.delete(t),r.unobserve(t)}}const Tre={some:0,all:1};class Rre extends gl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Tre[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=u?f:h;p&&p(l)};return Ere(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Pre(e,n))&&this.startObserver()}unmount(){}}function Pre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Bre={inView:{Feature:Rre},tap:{Feature:Mre},focus:{Feature:Are},hover:{Feature:Sre}};function UO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Ire(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Lre(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function bx(t,e,n){const r=t.getProps();return gC(r,e,n!==void 0?n:r.custom,Ire(t),Lre(t))}const Qa=t=>t*1e3,Xo=t=>t/1e3,Dre={type:"spring",stiffness:500,damping:25,restSpeed:10},Fre=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kre={type:"keyframes",duration:.8},Nre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ore=(t,{keyframes:e})=>e.length>2?kre:zc.has(t)?t.startsWith("scale")?Fre(e[1]):Dre:Nre;function Ure({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}function vC(t,e){return t[e]||t.default||t}const zre=t=>t!==null;function Cx(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(zre),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let gv;function Hre(){gv=void 0}const Za={now:()=>(gv===void 0&&Za.set(Ar.isProcessing||Pne.useManualTiming?Ar.timestamp:performance.now()),gv),set:t=>{gv=t,queueMicrotask(Hre)}},zO=t=>/^0[^.\s]+$/u.test(t);function Gre(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||zO(t):!0}let HO=Gr;const GO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Vre=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wre(t){const e=Vre.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function VO(t,e,n=1){const[r,i]=Wre(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return GO(o)?parseFloat(o):o}return cC(i)?VO(i,e,n+1):i}const jre=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),dI=t=>t===hf||t===dt,fI=(t,e)=>parseFloat(t.split(", ")[e]),hI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return fI(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?fI(s[1],t):0}},Xre=new Set(["x","y","z"]),$re=vm.filter(t=>!Xre.has(t));function pI(t){const e=[];return $re.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const qd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:hI(4,13),y:hI(5,14)};qd.translateX=qd.x;qd.translateY=qd.y;const WO=t=>e=>e.test(t),Jre={test:t=>t==="auto",parse:t=>t},jO=[hf,dt,fo,Ta,Zne,Qne,Jre],mI=t=>jO.find(WO(t)),bc=new Set;let DM=!1,FM=!1;function XO(){if(FM){const t=Array.from(bc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{pI(r).length&&(n.set(r,pI(r)),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render()}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}FM=!1,DM=!1,bc.forEach(t=>t.complete()),bc.clear()}function $O(){bc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(FM=!0)})}function Kre(){$O(),XO()}class yC{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bc.add(this),DM||(DM=!0,pr.read($O),pr.resolveKeyframes(XO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xC=(t,e)=>n=>!!(ym(n)&&qne.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),JO=(t,e,n)=>r=>{if(!ym(r))return r;const[i,s,o,a]=r.match(uC);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Yre=t=>al(0,255,t),w1={...hf,transform:t=>Math.round(Yre(t))},pc={test:xC("rgb","red"),parse:JO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+w1.transform(t)+", "+w1.transform(e)+", "+w1.transform(n)+", "+qh(Yh.transform(r))+")"};function qre(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const kM={test:xC("#"),parse:qre,transform:pc.transform},fd={test:xC("hsl","hue"),parse:JO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+fo.transform(qh(e))+", "+fo.transform(qh(n))+", "+qh(Yh.transform(r))+")"},Or={test:t=>pc.test(t)||kM.test(t)||fd.test(t),parse:t=>pc.test(t)?pc.parse(t):fd.test(t)?fd.parse(t):kM.parse(t),transform:t=>ym(t)?t:t.hasOwnProperty("red")?pc.transform(t):fd.transform(t)};function Qre(t){var e,n;return isNaN(t)&&ym(t)&&(((e=t.match(uC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Yne))===null||n===void 0?void 0:n.length)||0)>0}const KO="number",YO="color",Zre="var",eie="var(",gI="${}",tie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(tie,l=>(Or.test(l)?(r.color.push(s),i.push(YO),n.push(Or.parse(l))):l.startsWith(eie)?(r.var.push(s),i.push(Zre),n.push(l)):(r.number.push(s),i.push(KO),n.push(parseFloat(l))),++s,gI)).split(gI);return{values:n,split:a,indexes:r,types:i}}function qO(t){return oy(t).values}function QO(t){const{split:e,types:n}=oy(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===KO?s+=qh(i[o]):a===YO?s+=Or.transform(i[o]):s+=i[o]}return s}}const nie=t=>typeof t=="number"?0:t;function rie(t){const e=qO(t);return QO(t)(e.map(nie))}const cl={test:Qre,parse:qO,createTransformer:QO,getAnimatableNone:rie},iie=new Set(["brightness","contrast","saturate","opacity"]);function sie(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uC)||[];if(!r)return t;const i=n.replace(r,"");let s=iie.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const oie=/\b([a-z-]*)\(.*?\)/gu,NM={...cl,getAnimatableNone:t=>{const e=t.match(oie);return e?e.map(sie).join(" "):t}},aie={...wO,color:Or,backgroundColor:Or,outlineColor:Or,fill:Or,stroke:Or,borderColor:Or,borderTopColor:Or,borderRightColor:Or,borderBottomColor:Or,borderLeftColor:Or,filter:NM,WebkitFilter:NM},_C=t=>aie[t];function ZO(t,e){let n=_C(t);return n!==NM&&(n=cl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function lie(t,e,n){let r=0,i;for(;r<t.length&&!i;)typeof t[r]=="string"&&t[r]!=="none"&&t[r]!=="0"&&(i=t[r]),r++;if(i&&n)for(const s of e)t[s]=ZO(n,i)}class eU extends yC{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){const u=e[l];if(typeof u=="string"&&cC(u)){const f=VO(u,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(!jre.has(r)||e.length!==2)return this.resolveNoneKeyframes();const[i,s]=e,o=mI(i),a=mI(s);if(o!==a)if(dI(o)&&dI(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Gre(e[i])&&r.push(i);r.length&&lie(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=qd[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function cie(t){let e;return()=>(e===void 0&&(e=t()),e)}const vI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cl.test(t)||t==="0")&&!t.startsWith("url("));function uie(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function die(t,e,n,r){const i=t[0];if(i===null)return!1;const s=t[t.length-1],o=vI(i,e),a=vI(s,e);return!o||!a?!1:uie(t)||n==="spring"&&r}class tU{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Kre(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!die(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Cx(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function nU(t,e){return e?t*(1e3/e):0}const fie=5;function rU(t,e,n){const r=Math.max(e-fie,0);return nU(n-t(r),e-r)}const b1=.001,hie=.01,pie=10,mie=.05,gie=1;function vie({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=al(mie,gie,o),t=al(hie,pie,Xo(t)),o<1?(i=u=>{const f=u*o,h=f*t,p=f-n,m=OM(u,o),y=Math.exp(-h);return b1-p/m*y},s=u=>{const h=u*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-h),S=OM(Math.pow(u,2),o);return(-i(u)+b1>0?-1:1)*((p-m)*y)/S}):(i=u=>{const f=Math.exp(-u*t),h=(u-n)*t+1;return-b1+f*h},s=u=>{const f=Math.exp(-u*t),h=(n-u)*(t*t);return f*h});const a=5/t,l=xie(i,s,a);if(t=Qa(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const yie=12;function xie(t,e,n){let r=n;for(let i=1;i<yie;i++)r=r-t(r)/e(r);return r}function OM(t,e){return t*Math.sqrt(1-e*e)}const _ie=["duration","bounce"],Sie=["stiffness","damping","mass"];function yI(t,e){return e.some(n=>t[n]!==void 0)}function Aie(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!yI(t,Sie)&&yI(t,_ie)){const n=vie(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function iU({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Aie({...r,velocity:-Xo(r.velocity||0)}),m=h||0,y=l/(2*Math.sqrt(a*u)),S=s-i,x=Xo(Math.sqrt(a/u)),g=Math.abs(S)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let A;if(y<1){const _=OM(x,y);A=b=>{const B=Math.exp(-y*x*b);return s-B*((m+y*x*S)/_*Math.sin(_*b)+S*Math.cos(_*b))}}else if(y===1)A=_=>s-Math.exp(-x*_)*(S+(m+x*S)*_);else{const _=x*Math.sqrt(y*y-1);A=b=>{const B=Math.exp(-y*x*b),T=Math.min(_*b,300);return s-B*((m+y*x*S)*Math.sinh(T)+_*S*Math.cosh(T))/_}}return{calculatedDuration:p&&f||null,next:_=>{const b=A(_);if(p)o.done=_>=f;else{let B=m;_!==0&&(y<1?B=rU(A,_,b):B=0);const T=Math.abs(B)<=n,R=Math.abs(s-b)<=e;o.done=T&&R}return o.value=o.done?s:b,o}}}function xI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},m=L=>a!==void 0&&L<a||l!==void 0&&L>l,y=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let S=n*e;const x=h+S,g=o===void 0?x:o(x);g!==x&&(S=g-h);const A=L=>-S*Math.exp(-L/r),_=L=>g+A(L),b=L=>{const P=A(L),C=_(L);p.done=Math.abs(P)<=u,p.value=p.done?g:C};let B,T;const R=L=>{m(p.value)&&(B=L,T=iU({keyframes:[p.value,y(p.value)],velocity:rU(_,L,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return R(0),{calculatedDuration:null,next:L=>{let P=!1;return!T&&B===void 0&&(P=!0,b(L),R(L)),B!==void 0&&L>=B?T.next(L-B):(!P&&b(L),p)}}}const sU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Mie=1e-7,wie=12;function bie(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=sU(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Mie&&++a<wie);return o}function _m(t,e,n,r){if(t===e&&n===r)return Gr;const i=s=>bie(s,0,1,t,n);return s=>s===0||s===1?s:sU(i(s),e,r)}const Cie=_m(.42,0,1,1),Eie=_m(0,0,.58,1),oU=_m(.42,0,.58,1),Tie=t=>Array.isArray(t)&&typeof t[0]!="number",aU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lU=t=>e=>1-t(1-e),SC=t=>1-Math.sin(Math.acos(t)),cU=lU(SC),Rie=aU(SC),uU=_m(.33,1.53,.69,.99),AC=lU(uU),Pie=aU(AC),Bie=t=>(t*=2)<1?.5*AC(t):.5*(2-Math.pow(2,-10*(t-1))),Iie={linear:Gr,easeIn:Cie,easeInOut:oU,easeOut:Eie,circIn:SC,circInOut:Rie,circOut:cU,backIn:AC,backInOut:Pie,backOut:uU,anticipate:Bie},_I=t=>{if(Array.isArray(t)){HO(t.length===4);const[e,n,r,i]=t;return _m(e,n,r,i)}else if(typeof t=="string")return Iie[t];return t},Wp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},bn=(t,e,n)=>t+(e-t)*n;function C1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Lie({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=C1(l,a,t+1/3),s=C1(l,a,t),o=C1(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const E1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Die=[kM,pc,fd],Fie=t=>Die.find(e=>e.test(t));function SI(t){const e=Fie(t);let n=e.parse(t);return e===fd&&(n=Lie(n)),n}const AI=(t,e)=>{const n=SI(t),r=SI(e),i={...n};return s=>(i.red=E1(n.red,r.red,s),i.green=E1(n.green,r.green,s),i.blue=E1(n.blue,r.blue,s),i.alpha=bn(n.alpha,r.alpha,s),pc.transform(i))};function UM(t,e){return n=>n>0?e:t}function kie(t,e){return n=>bn(t,e,n)}function MC(t){return typeof t=="number"?kie:typeof t=="string"?cC(t)?UM:Or.test(t)?AI:Uie:Array.isArray(t)?dU:typeof t=="object"?Or.test(t)?AI:Nie:UM}function dU(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>MC(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Nie(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=MC(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Oie(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const Uie=(t,e)=>{const n=cl.createTransformer(e),r=oy(t),i=oy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?jo(dU(Oie(r,i),i.values),n):UM(t,e)};function fU(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bn(t,e,n):MC(t)(t,e)}function zie(t,e,n){const r=[],i=n||fU,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Gr:e;a=jo(l,a)}r.push(a)}return r}function Hie(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(HO(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=zie(e,r,i),a=o.length,l=u=>{let f=0;if(a>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const h=Wp(t[f],t[f+1],u);return o[f](h)};return n?u=>l(al(t[0],t[s-1],u)):l}function Gie(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Wp(0,e,r);t.push(bn(n,1,i))}}function Vie(t){const e=[0];return Gie(e,t.length-1),e}function Wie(t,e){return t.map(n=>n*e)}function jie(t,e){return t.map(()=>e||oU).splice(0,t.length-1)}function ay({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Tie(r)?r.map(_I):_I(r),s={done:!1,value:e[0]},o=Wie(n&&n.length===e.length?n:Vie(e),t),a=Hie(o,e,{ease:Array.isArray(i)?i:jie(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const MI=2e4;function Xie(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<MI;)e+=n,r=t.next(e);return e>=MI?1/0:e}const $ie=t=>{const e=({timestamp:n})=>t(n);return{start:()=>pr.update(e,!0),stop:()=>ll(e),now:()=>Ar.isProcessing?Ar.timestamp:Za.now()}},Jie={decay:xI,inertia:xI,tween:ay,keyframes:ay,spring:iU},Kie=t=>t/100;class wC extends tU{constructor({KeyframeResolver:e=yC,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle";const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Jie[n]||ay;let l,u;a!==ay&&typeof e[0]!="number"&&(l=jo(Kie,fU(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=Xie(f));const{calculatedDuration:h}=f,p=h+i,m=p*(r+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:L}=this.options;return{done:!0,value:L[L.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:f,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:y,repeatDelay:S,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),A=this.speed>=0?g<0:g>f;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let _=this.currentTime,b=s;if(m){const L=Math.min(this.currentTime,f)/h;let P=Math.floor(L),C=L%1;!C&&L>=1&&(C=1),C===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(y==="reverse"?(C=1-C,S&&(C-=S/h)):y==="mirror"&&(b=o)),_=al(0,1,C)*h}const B=A?{done:!1,value:l[0]}:b.next(_);a&&(B.value=a(B.value));let{done:T}=B;!A&&u!==null&&(T=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return R&&i!==void 0&&(B.value=Cx(l,this.options,i)),x&&x(B.value),R&&this.finish(),B}get duration(){const{resolved:e}=this;return e?Xo(e.calculatedDuration):0}get time(){return Xo(this.currentTime)}set time(e){e=Qa(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$ie,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:e}=this.options;e&&e()}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const hU=t=>Array.isArray(t)&&typeof t[0]=="number";function pU(t){return!!(!t||typeof t=="string"&&mU[t]||hU(t)||Array.isArray(t)&&t.every(pU))}const Rh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rh([0,.65,.55,1]),circOut:Rh([.55,0,1,.45]),backIn:Rh([.31,.01,.66,-.59]),backOut:Rh([.33,1.53,.69,.99])};function gU(t){if(t)return hU(t)?Rh(t):Array.isArray(t)?t.map(gU):mU[t]}function Yie(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const f=gU(a);return Array.isArray(f)&&(u.easing=f),t.animate(u,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const qie=cie(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qie=new Set(["opacity","clipPath","filter","transform"]),ly=10,Zie=2e4;function ese(t){return t.type==="spring"||t.name==="backgroundColor"||!pU(t.ease)}function tse(t,e){const n=new wC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Zie;)r=n.sample(s),i.push(r.value),s+=ly;return{times:void 0,keyframes:i,duration:s-ly,ease:"linear"}}class wI extends tU{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new eU(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(ese(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,...y}=this.options,S=tse(e,y);e=S.keyframes,e.length===1&&(e[1]=e[0]),i=S.duration,s=S.times,o=S.ease,a="keyframes"}const f=Yie(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return f.startTime=Za.now(),this.pendingTimeline?(f.timeline=this.pendingTimeline,this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;l.set(Cx(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Xo(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Xo(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qa(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Gr;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Gr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:f,...h}=this.options,p=new wC({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),m=Qa(this.time);l.setWithVelocity(p.sample(m-ly).value,p.sample(m).value,ly)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return qie()&&r&&Qie.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const bC=(t,e,n,r={},i,s)=>o=>{const a=vC(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Qa(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Ure(a)||(f={...f,...Ore(t,f)}),f.duration&&(f.duration=Qa(f.duration)),f.repeatDelay&&(f.repeatDelay=Qa(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=Cx(f.keyframes,a);if(p!==void 0){pr.update(()=>{f.onUpdate(p),f.onComplete()});return}}return!s&&wI.supports(f)?new wI(f):new wC(f)};function cy(t){return!!(zr(t)&&t.add)}function CC(t,e){t.indexOf(e)===-1&&t.push(e)}function EC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class TC{constructor(){this.subscriptions=[]}add(e){return CC(this.subscriptions,e),()=>EC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bI=30,nse=t=>!isNaN(parseFloat(t));class rse{constructor(e,n={}){this.version="11.0.28",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Za.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=nse(this.current),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Za.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new TC);const r=this.events[e].add(n);return e==="change"?()=>{r(),pr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Za.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>bI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bI);return nU(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jp(t,e){return new rse(t,e)}function ise(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jp(n))}function sse(t,e){const n=bx(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=hre(s[o]);ise(t,o,a)}}function ose({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vU(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;const u=t.getValue("willChange");r&&(o=r);const f=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const m=t.getValue(p,(s=t.latestValues[p])!==null&&s!==void 0?s:null),y=l[p];if(y===void 0||h&&ose(h,p))continue;const S={delay:n,elapsed:0,...vC(o||{},p)};let x=!1;if(window.HandoffAppearAnimations){const A=t.getProps()[vO];if(A){const _=window.HandoffAppearAnimations(A,p);_!==null&&(S.elapsed=_,x=!0)}}m.start(bC(p,m,y,t.shouldReduceMotion&&zc.has(p)?{type:!1}:S,t,x));const g=m.animation;g&&(cy(u)&&(u.add(p),g.then(()=>u.remove(p))),f.push(g))}return a&&Promise.all(f).then(()=>{pr.update(()=>{a&&sse(t,a)})}),f}function zM(t,e,n={}){var r;const i=bx(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(vU(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=s;return ase(t,e,f+u,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,f]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function ase(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(lse).forEach((u,f)=>{u.notify("AnimationStart",e),o.push(zM(u,e,{...s,delay:n+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function lse(t,e){return t.sortNodePosition(e)}function cse(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>zM(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=zM(t,e,n);else{const i=typeof e=="function"?bx(t,e,n.custom):e;r=Promise.all(vU(t,i,n))}return r.then(()=>{pr.postRender(()=>{t.notify("AnimationComplete",e)})})}const use=[...sC].reverse(),dse=sC.length;function fse(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cse(t,n,r)))}function hse(t){let e=fse(t);const n=mse();let r=!0;const i=l=>(u,f)=>{var h;const p=bx(t,f,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:y,...S}=p;u={...u,...S,...y}}return u};function s(l){e=l(t)}function o(l){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},y=1/0;for(let x=0;x<dse;x++){const g=use[x],A=n[g],_=u[g]!==void 0?u[g]:f[g],b=Gp(_),B=g===l?A.isActive:null;B===!1&&(y=x);let T=_===f[g]&&_!==u[g]&&b;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),A.protectedKeys={...m},!A.isActive&&B===null||!_&&!A.prevProp||Ax(_)||typeof _=="boolean")continue;let L=pse(A.prevProp,_)||g===l&&A.isActive&&!T&&b||x>y&&b,P=!1;const C=Array.isArray(_)?_:[_];let k=C.reduce(i(g),{});B===!1&&(k={});const{prevResolvedValues:X={}}=A,H={...X,...k},ee=Q=>{L=!0,p.has(Q)&&(P=!0,p.delete(Q)),A.needsAnimating[Q]=!0;const de=t.getValue(Q);de&&(de.liveStyle=!1)};for(const Q in H){const de=k[Q],ge=X[Q];if(m.hasOwnProperty(Q))continue;let D=!1;IM(de)&&IM(ge)?D=!UO(de,ge):D=de!==ge,D?de!=null?ee(Q):p.add(Q):de!==void 0&&p.has(Q)?ee(Q):A.protectedKeys[Q]=!0}A.prevProp=_,A.prevResolvedValues=k,A.isActive&&(m={...m,...k}),r&&t.blockInitialAnimation&&(L=!1),L&&(!T||P)&&h.push(...C.map(Q=>({animation:Q,options:{type:g}})))}if(p.size){const x={};p.forEach(g=>{const A=t.getBaseTarget(g),_=t.getValue(g);_&&(_.liveStyle=!0),x[g]=A===void 0?null:A}),h.push({animation:x})}let S=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function pse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UO(e,t):!1}function Xl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mse(){return{animate:Xl(!0),whileInView:Xl(),whileHover:Xl(),whileTap:Xl(),whileDrag:Xl(),whileFocus:Xl(),exit:Xl()}}class gse extends gl{constructor(e){super(e),e.animationState||(e.animationState=hse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ax(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let vse=0;class yse extends gl{constructor(){super(...arguments),this.id=vse++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xse={animation:{Feature:gse},exit:{Feature:yse}},CI=(t,e)=>Math.abs(t-e);function _se(t,e){const n=CI(t.x,e.x),r=CI(t.y,e.y);return Math.sqrt(n**2+r**2)}class yU{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=R1(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=_se(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=h,{timestamp:S}=Ar;this.history.push({...y,timestamp:S});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=T1(p,this.transformPagePoint),pr.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=R1(h.type==="pointercancel"?this.lastMoveEventInfo:T1(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),y&&y(h,x)},!DO(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=wx(e),a=T1(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ar;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,R1(a,this.history)),this.removeListeners=jo(Wo(this.contextWindow,"pointermove",this.handlePointerMove),Wo(this.contextWindow,"pointerup",this.handlePointerUp),Wo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ll(this.updatePoint)}}function T1(t,e){return e?{point:e(t.point)}:t}function EI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function R1({point:t},e){return{point:t,delta:EI(t,xU(e)),offset:EI(t,Sse(e)),velocity:Ase(e,.1)}}function Sse(t){return t[0]}function xU(t){return t[t.length-1]}function Ase(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=xU(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Qa(e)));)n--;if(!r)return{x:0,y:0};const s=Xo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Gi(t){return t.max-t.min}function HM(t,e=0,n=.01){return Math.abs(t-e)<=n}function TI(t,e,n,r=.5){t.origin=r,t.originPoint=bn(e.min,e.max,t.origin),t.scale=Gi(n)/Gi(e),(HM(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=bn(n.min,n.max,t.origin)-t.originPoint,(HM(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Qh(t,e,n,r){TI(t.x,e.x,n.x,r?r.originX:void 0),TI(t.y,e.y,n.y,r?r.originY:void 0)}function RI(t,e,n){t.min=n.min+e.min,t.max=t.min+Gi(e)}function Mse(t,e,n){RI(t.x,e.x,n.x),RI(t.y,e.y,n.y)}function PI(t,e,n){t.min=e.min-n.min,t.max=t.min+Gi(e)}function Zh(t,e,n){PI(t.x,e.x,n.x),PI(t.y,e.y,n.y)}function wse(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?bn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?bn(n,t,r.max):Math.min(t,n)),t}function BI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bse(t,{top:e,left:n,bottom:r,right:i}){return{x:BI(t.x,n,i),y:BI(t.y,e,r)}}function II(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Cse(t,e){return{x:II(t.x,e.x),y:II(t.y,e.y)}}function Ese(t,e){let n=.5;const r=Gi(t),i=Gi(e);return i>r?n=Wp(e.min,e.max-r,t.min):r>i&&(n=Wp(t.min,t.max-i,e.min)),al(0,1,n)}function Tse(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const GM=.35;function Rse(t=GM){return t===!1?t=0:t===!0&&(t=GM),{x:LI(t,"left","right"),y:LI(t,"top","bottom")}}function LI(t,e,n){return{min:DI(t,e),max:DI(t,n)}}function DI(t,e){return typeof t=="number"?t:t[e]||0}const FI=()=>({translate:0,scale:1,origin:0,originPoint:0}),hd=()=>({x:FI(),y:FI()}),kI=()=>({min:0,max:0}),kn=()=>({x:kI(),y:kI()});function as(t){return[t("x"),t("y")]}function _U({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Pse({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Bse(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function P1(t){return t===void 0||t===1}function VM({scale:t,scaleX:e,scaleY:n}){return!P1(t)||!P1(e)||!P1(n)}function ql(t){return VM(t)||SU(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SU(t){return NI(t.x)||NI(t.y)}function NI(t){return t&&t!=="0%"}function uy(t,e,n){const r=t-n,i=e*r;return n+i}function OI(t,e,n,r,i){return i!==void 0&&(t=uy(t,i,r)),uy(t,n,r)+e}function WM(t,e=0,n=1,r,i){t.min=OI(t.min,e,n,r,i),t.max=OI(t.max,e,n,r,i)}function AU(t,{x:e,y:n}){WM(t.x,e.translate,e.scale,e.originPoint),WM(t.y,n.translate,n.scale,n.originPoint)}function Ise(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&pd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AU(t,o)),r&&ql(s.latestValues)&&pd(t,s.latestValues))}e.x=UI(e.x),e.y=UI(e.y)}function UI(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Fa(t,e){t.min=t.min+e,t.max=t.max+e}function zI(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=bn(t.min,t.max,s);WM(t,e[n],e[r],o,e.scale)}const Lse=["x","scaleX","originX"],Dse=["y","scaleY","originY"];function pd(t,e){zI(t.x,e,Lse),zI(t.y,e,Dse)}function MU(t,e){return _U(Bse(t.getBoundingClientRect(),e))}function Fse(t,e,n){const r=MU(t,n),{scroll:i}=e;return i&&(Fa(r.x,i.offset.x),Fa(r.y,i.offset.y)),r}const wU=({current:t})=>t?t.ownerDocument.defaultView:null,kse=new WeakMap;class Nse{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wx(f,"page").point)},s=(f,h)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=kO(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),as(x=>{let g=this.getAxisMotionValue(x).get()||0;if(fo.test(g)){const{projection:A}=this.visualElement;if(A&&A.layout){const _=A.layout.layoutBox[x];_&&(g=Gi(_)*(parseFloat(g)/100))}}this.originPoint[x]=g}),y&&y(f,h);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:S}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=Ose(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),S&&S(f,h)},a=(f,h)=>this.stop(f,h),l=()=>as(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yU(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:wU(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&s(e,n)}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!F0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=wse(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&dd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=bse(i.layoutBox,n):this.constraints=!1,this.elastic=Rse(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&as(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Tse(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Fse(r,i.root,this.visualElement.getTransformPagePoint());let o=Cse(i.layout.layoutBox,s);if(n){const a=n(Pse(o));this.hasMutatedConstraints=!!a,a&&(o=_U(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=as(f=>{if(!F0(f,n,this.currentDirection))return;let h=l&&l[f]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(bC(e,r,0,n,this.visualElement))}stopAnimation(){as(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){as(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){as(n=>{const{drag:r}=this.getProps();if(!F0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-bn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};as(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Ese({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),as(o=>{if(!F0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(bn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;kse.set(this.visualElement,this);const e=this.visualElement.current,n=Wo(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();dd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=zo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(as(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=GM,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function F0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ose(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Use extends gl{constructor(e){super(e),this.removeGroupControls=Gr,this.removeListeners=Gr,this.controls=new Nse(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const HI=t=>(e,n)=>{t&&t(e,n)};class zse extends gl{constructor(){super(...arguments),this.removePointerDownListener=Gr}onPointerDown(e){this.session=new yU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:HI(e),onStart:HI(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&i(s,o)}}}mount(){this.removePointerDownListener=Wo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Hse(){const t=G.useContext(gm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=G.useId();return G.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function Gse(){return Vse(G.useContext(gm))}function Vse(t){return t===null?!0:t.isPresent}const vv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(dt.test(t))t=parseFloat(t);else return t;const n=GI(t,e.target.x),r=GI(t,e.target.y);return`${n}% ${r}%`}},Wse={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=cl.parse(t);if(i.length>5)return r;const s=cl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=bn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class jse extends Pd.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Vne(Xse),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),vv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||pr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bU(t){const[e,n]=Hse(),r=G.useContext(aC);return Pd.createElement(jse,{...t,layoutGroup:r,switchLayoutGroup:G.useContext(_O),isPresent:e,safeToRemove:n})}const Xse={borderRadius:{...vh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vh,borderTopRightRadius:vh,borderBottomLeftRadius:vh,borderBottomRightRadius:vh,boxShadow:Wse},CU=["TopLeft","TopRight","BottomLeft","BottomRight"],$se=CU.length,VI=t=>typeof t=="string"?parseFloat(t):t,WI=t=>typeof t=="number"||dt.test(t);function Jse(t,e,n,r,i,s){i?(t.opacity=bn(0,n.opacity!==void 0?n.opacity:1,Kse(r)),t.opacityExit=bn(e.opacity!==void 0?e.opacity:1,0,Yse(r))):s&&(t.opacity=bn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<$se;o++){const a=`border${CU[o]}Radius`;let l=jI(e,a),u=jI(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||WI(l)===WI(u)?(t[a]=Math.max(bn(VI(l),VI(u),r),0),(fo.test(u)||fo.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=bn(e.rotate||0,n.rotate||0,r))}function jI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kse=EU(0,.5,cU),Yse=EU(.5,.95,Gr);function EU(t,e,n){return r=>r<t?0:r>e?1:n(Wp(t,e,r))}function XI(t,e){t.min=e.min,t.max=e.max}function ss(t,e){XI(t.x,e.x),XI(t.y,e.y)}function $I(t,e,n,r,i){return t-=e,t=uy(t,1/n,r),i!==void 0&&(t=uy(t,1/i,r)),t}function qse(t,e=0,n=1,r=.5,i,s=t,o=t){if(fo.test(e)&&(e=parseFloat(e),e=bn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=bn(s.min,s.max,r);t===s&&(a-=e),t.min=$I(t.min,e,n,a,i),t.max=$I(t.max,e,n,a,i)}function JI(t,e,[n,r,i],s,o){qse(t,e[n],e[r],e[i],e.scale,s,o)}const Qse=["x","scaleX","originX"],Zse=["y","scaleY","originY"];function KI(t,e,n,r){JI(t.x,e,Qse,n?n.x:void 0,r?r.x:void 0),JI(t.y,e,Zse,n?n.y:void 0,r?r.y:void 0)}function YI(t){return t.translate===0&&t.scale===1}function TU(t){return YI(t.x)&&YI(t.y)}function eoe(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function RU(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function qI(t){return Gi(t.x)/Gi(t.y)}class toe{constructor(){this.members=[]}add(e){CC(this.members,e),e.scheduleRender()}remove(e){if(EC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QI(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:h,rotateY:p,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const noe=(t,e)=>t.depth-e.depth;class roe{constructor(){this.children=[],this.isDirty=!1}add(e){CC(this.children,e),this.isDirty=!0}remove(e){EC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(noe),this.isDirty=!1,this.children.forEach(e)}}function ioe(t,e){const n=Za.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ll(r),t(s-e))};return pr.read(r,!0),()=>ll(r)}function soe(t){window.MotionDebug&&window.MotionDebug.record(t)}function ooe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function aoe(t,e,n){const r=zr(t)?t:jp(t);return r.start(bC("",r,e,n)),r.animation}const B1=["","X","Y","Z"],loe={visibility:"hidden"},ZI=1e3;let coe=0;const Ql={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function I1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function PU({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=coe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ql.totalNodes=Ql.resolvedTargetDeltas=Ql.recalculatedProjection=0,this.nodes.forEach(foe),this.nodes.forEach(voe),this.nodes.forEach(yoe),this.nodes.forEach(hoe),soe(Ql)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new roe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new TC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ooe(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=ioe(p,250),vv.hasAnimatedSinceResize&&(vv.hasAnimatedSinceResize=!1,this.nodes.forEach(tL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||Moe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=f.getProps(),A=!this.targetLayout||!RU(this.targetLayout,y)||m,_=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const b={...vC(S,"layout"),onPlay:x,onComplete:g};(f.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||tL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xoe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eL);return}this.isUpdating||this.nodes.forEach(moe),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(goe),this.nodes.forEach(uoe),this.nodes.forEach(doe),this.clearAllSnapshots();const a=Za.now();Ar.delta=al(0,1e3/60,a-Ar.timestamp),Ar.timestamp=a,Ar.isProcessing=!0,S1.update.process(Ar),S1.preRender.process(Ar),S1.render.process(Ar),Ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iC.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(poe),this.sharedNodes.forEach(_oe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!TU(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||ql(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),woe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return kn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Fa(a.x,l.offset.x),Fa(a.y,l.offset.y)),a}removeElementScroll(o){const a=kn();ss(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:f,options:h}=u;if(u!==this.root&&f&&h.layoutScroll){if(f.isRoot){ss(a,o);const{scroll:p}=this.root;p&&(Fa(a.x,-p.offset.x),Fa(a.y,-p.offset.y))}Fa(a.x,f.offset.x),Fa(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=kn();ss(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&pd(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ql(f.latestValues)&&pd(l,f.latestValues)}return ql(this.latestValues)&&pd(l,this.latestValues),l}removeTransform(o){const a=kn();ss(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ql(u.latestValues))continue;VM(u.latestValues)&&u.updateSnapshot();const f=kn(),h=u.measurePageBox();ss(f,h),KI(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return ql(this.latestValues)&&KI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Ar.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),Zh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Mse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ss(this.target,this.layout.layoutBox),AU(this.target,this.targetDelta)):ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),Zh(this.relativeTargetOrigin,this.target,m.target),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ql.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||VM(this.parent.latestValues)||SU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ar.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ss(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Ise(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=kn());const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=hd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=hd(),this.projectionDeltaWithTransform=hd());const S=this.projectionTransform;Qh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=QI(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Ql.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},h=hd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=kn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,S=m!==y,x=this.getStack(),g=!x||x.members.length<=1,A=!!(S&&!g&&this.options.crossfade===!0&&!this.path.some(Aoe));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const B=b/1e3;nL(h.x,o.x,B),nL(h.y,o.y,B),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Soe(this.relativeTarget,this.relativeTargetOrigin,p,B),_&&eoe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=kn()),ss(_,this.relativeTarget)),S&&(this.animationValues=f,Jse(f,u,this.latestValues,B,A,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pr.update(()=>{vv.hasAnimatedSinceResize=!0,this.currentAnimation=aoe(0,ZI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&BU(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||kn();const h=Gi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Gi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ss(a,l),pd(a,f),Qh(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new toe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&I1("z",o,u,this.animationValues);for(let f=0;f<B1.length;f++)I1(`rotate${B1[f]}`,o,u,this.animationValues),I1(`skew${B1[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return loe;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=mv(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=mv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ql(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=QI(this.projectionDeltaWithTransform,this.treeScale,p),f&&(u.transform=f(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in iy){if(p[S]===void 0)continue;const{correct:x,applyTo:g}=iy[S],A=u.transform==="none"?p[S]:x(p[S],h);if(g){const _=g.length;for(let b=0;b<_;b++)u[g[b]]=A}else u[S]=A}return this.options.layoutId&&(u.pointerEvents=h===this?mv(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(eL),this.root.sharedNodes.clear()}}}function uoe(t){t.updateLayout()}function doe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?as(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=Gi(p);p.min=r[h].min,p.max=p.min+m}):BU(s,n.layoutBox,r)&&as(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=Gi(r[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=hd();Qh(a,r,n.layoutBox);const l=hd();o?Qh(l,t.applyTransform(i,!0),n.measuredBox):Qh(l,r,n.layoutBox);const u=!TU(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=kn();Zh(y,n.layoutBox,p.layoutBox);const S=kn();Zh(S,r,m.layoutBox),RU(y,S)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function foe(t){Ql.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hoe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function poe(t){t.clearSnapshot()}function eL(t){t.clearMeasurements()}function moe(t){t.isLayoutDirty=!1}function goe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function voe(t){t.resolveTargetDelta()}function yoe(t){t.calcProjection()}function xoe(t){t.resetSkewAndRotation()}function _oe(t){t.removeLeadSnapshot()}function nL(t,e,n){t.translate=bn(e.translate,0,n),t.scale=bn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rL(t,e,n,r){t.min=bn(e.min,n.min,r),t.max=bn(e.max,n.max,r)}function Soe(t,e,n,r){rL(t.x,e.x,n.x,r),rL(t.y,e.y,n.y,r)}function Aoe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Moe={duration:.45,ease:[.4,0,.1,1]},iL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sL=iL("applewebkit/")&&!iL("chrome/")?Math.round:Gr;function oL(t){t.min=sL(t.min),t.max=sL(t.max)}function woe(t){oL(t.x),oL(t.y)}function BU(t,e,n){return t==="position"||t==="preserve-aspect"&&!HM(qI(e),qI(n),.2)}const boe=PU({attachResizeListener:(t,e)=>zo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),L1={current:void 0},IU=PU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!L1.current){const t=new boe({});t.mount(window),t.setOptions({layoutScroll:!0}),L1.current=t}return L1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Coe={pan:{Feature:zse},drag:{Feature:Use,ProjectionNode:IU,MeasureLayout:bU}},jM={current:null},LU={current:!1};function Eoe(){if(LU.current=!0,!!tC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jM.current=t.matches;t.addListener(e),e()}else jM.current=!1}function Toe(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(zr(s))t.addValue(i,s),cy(r)&&r.add(i);else if(zr(o))t.addValue(i,jp(s,{owner:t})),cy(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,jp(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const aL=new WeakMap,Roe=[...jO,Or,cl],Poe=t=>Roe.find(WO(t)),DU=Object.keys(Vp),Boe=DU.length,lL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ioe=oC.length;function FU(t){if(t)return t.options.allowProjection!==!1?t.projection:FU(t.parent)}class Loe{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(p,m,y,S)=>new this.KeyframeResolver(p,m,y,S,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>pr.render(this.render,!1,!0);const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Mx(n),this.isVariantNode=xO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&zr(m)&&(m.set(l[p],!1),cy(f)&&f.add(p))}}scrapeMotionValuesFromProps(e,n,r){return{}}mount(e){this.current=e,aL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LU.current||Eoe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aL.delete(this.current),this.projection&&this.projection.unmount(),ll(this.notifyUpdate),ll(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=zc.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&pr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<Boe;l++){const u=DU[l],{isEnabled:f,Feature:h,ProjectionNode:p,MeasureLayout:m}=Vp[u];p&&(o=p),f(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,FU(this.parent));const{layoutId:l,layout:u,drag:f,dragConstraints:h,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!f||h&&dd(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lL.length;r++){const i=lL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Toe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Ioe;r++){const i=oC[r],s=this.props[i];(Gp(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=jp(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(GO(i)||zO(i))?i=parseFloat(i):!Poe(i)&&cl.test(n)&&(i=ZO(e,n)),this.setBaseTarget(e,zr(i)?i.get():i)),zr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n,r;const{initial:i}=this.props,s=typeof i=="string"||typeof i=="object"?(r=gC(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom))===null||r===void 0?void 0:r[e]:void 0;if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!zr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new TC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class kU extends Loe{constructor(){super(...arguments),this.KeyframeResolver=eU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Doe(t){return window.getComputedStyle(t)}class Foe extends kU{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(zc.has(n)){const r=_C(n);return r&&r.default||0}else{const r=Doe(e),i=(MO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return MU(e,n)}build(e,n,r,i){dC(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return mC(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){TO(e,n,r,i)}}class koe extends kU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zc.has(n)){const r=_C(n);return r&&r.default||0}return n=RO.has(n)?n:rC(n),e.getAttribute(n)}measureInstanceViewportBox(){return kn()}scrapeMotionValuesFromProps(e,n,r){return BO(e,n,r)}build(e,n,r,i){hC(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){PO(e,n,r,i)}mount(e){this.isSVGTag=pC(e.tagName),super.mount(e)}}const Noe=(t,e)=>lC(t)?new koe(e,{enableHardwareAcceleration:!1}):new Foe(e,{allowProjection:t!==G.Fragment,enableHardwareAcceleration:!0}),Ooe={layout:{ProjectionNode:IU,MeasureLayout:bU}},Uoe={...xse,...Bre,...Coe,...Ooe},zoe=Hne((t,e)=>yre(t,e,Uoe,Noe));function NU(){const t=G.useRef(!1);return nC(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Hoe(){const t=NU(),[e,n]=G.useState(0),r=G.useCallback(()=>{t.current&&n(e+1)},[e]);return[G.useCallback(()=>pr.postRender(r),[r]),e]}class Goe extends G.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Voe({children:t,isPresent:e}){const n=G.useId(),r=G.useRef(null),i=G.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=G.useContext(eC);return G.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),G.createElement(Goe,{isPresent:e,childRef:r,sizeRef:i},G.cloneElement(t,{ref:r}))}const D1=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=IO(Woe),l=G.useId(),u=G.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:f=>{a.set(f,!0);for(const h of a.values())if(!h)return;r&&r()},register:f=>(a.set(f,!1),()=>a.delete(f))}),s?void 0:[n]);return G.useMemo(()=>{a.forEach((f,h)=>a.set(h,!1))},[n]),G.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=G.createElement(Voe,{isPresent:n},t)),G.createElement(gm.Provider,{value:u},t)};function Woe(){return new Map}function joe(t){return G.useEffect(()=>()=>t(),[])}const Zl=t=>t.key||"";function Xoe(t,e){t.forEach(n=>{const r=Zl(n);e.set(r,n)})}function $oe(t){const e=[];return G.Children.forEach(t,n=>{G.isValidElement(n)&&e.push(n)}),e}const Joe=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=G.useContext(aC).forceRender||Hoe()[0],l=NU(),u=$oe(t);let f=u;const h=G.useRef(new Map).current,p=G.useRef(f),m=G.useRef(new Map).current,y=G.useRef(!0);if(nC(()=>{y.current=!1,Xoe(u,m),p.current=f}),joe(()=>{y.current=!0,m.clear(),h.clear()}),y.current)return G.createElement(G.Fragment,null,f.map(A=>G.createElement(D1,{key:Zl(A),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},A)));f=[...f];const S=p.current.map(Zl),x=u.map(Zl),g=S.length;for(let A=0;A<g;A++){const _=S[A];x.indexOf(_)===-1&&!h.has(_)&&h.set(_,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((A,_)=>{if(x.indexOf(_)!==-1)return;const b=m.get(_);if(!b)return;const B=S.indexOf(_);let T=A;if(!T){const R=()=>{h.delete(_);const L=Array.from(m.keys()).filter(P=>!x.includes(P));if(L.forEach(P=>m.delete(P)),p.current=u.filter(P=>{const C=Zl(P);return C===_||L.includes(C)}),!h.size){if(l.current===!1)return;a(),r&&r()}};T=G.createElement(D1,{key:Zl(b),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:s,mode:o},b),h.set(_,T)}f.splice(B,0,T)}),f=f.map(A=>{const _=A.key;return h.has(_)?A:G.createElement(D1,{key:Zl(A),isPresent:!0,presenceAffectsLayout:s,mode:o},A)}),G.createElement(G.Fragment,null,h.size?f:f.map(A=>G.cloneElement(A)))};var Koe={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},OU=G.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:u=Koe,toastSpacing:f="0.5rem"}=t,[h,p]=G.useState(a),m=Gse();tI(()=>{m||r==null||r()},[m]),tI(()=>{p(a)},[a]);const y=()=>p(null),S=()=>p(a),x=()=>{m&&i()};G.useEffect(()=>{m&&s&&i()},[m,s,i]),Tne(x,h);const g=G.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:f,...l}),[l,f]),A=G.useMemo(()=>bne(o),[o]);return ce.jsx(zoe.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:y,onHoverEnd:S,custom:{position:o},style:A,children:ce.jsx(ir.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:g,children:Ga(n,{id:e,onClose:x})})})});OU.displayName="ToastComponent";var cL={path:ce.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[ce.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),ce.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),ce.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Sm=Si((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...u}=t,f=mo("chakra-icon",a),h=ff("Icon",t),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...h},m={ref:e,focusable:s,className:f,__css:p},y=r??cL.viewBox;if(n&&typeof n!="string")return ce.jsx(ir.svg,{as:n,...m,...u});const S=o??cL.path;return ce.jsx(ir.svg,{verticalAlign:"middle",viewBox:y,...m,...u,children:S})});Sm.displayName="Icon";function Yoe(t){return ce.jsx(Sm,{viewBox:"0 0 24 24",...t,children:ce.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function qoe(t){return ce.jsx(Sm,{viewBox:"0 0 24 24",...t,children:ce.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function uL(t){return ce.jsx(Sm,{viewBox:"0 0 24 24",...t,children:ce.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var Qoe=J$({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),UU=Si((t,e)=>{const n=ff("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=df(t),u=mo("chakra-spinner",a),f={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${Qoe} ${s} linear infinite`,...n};return ce.jsx(ir.div,{ref:e,__css:f,className:u,...l,children:r&&ce.jsx(ir.span,{srOnly:!0,children:r})})});UU.displayName="Spinner";var[Zoe,RC]=pm({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[eae,PC]=pm({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),zU={info:{icon:qoe,colorScheme:"blue"},warning:{icon:uL,colorScheme:"orange"},success:{icon:Yoe,colorScheme:"green"},error:{icon:uL,colorScheme:"red"},loading:{icon:UU,colorScheme:"blue"}};function tae(t){return zU[t].colorScheme}function nae(t){return zU[t].icon}var HU=Si(function(e,n){const r=PC(),{status:i}=RC(),s={display:"inline",...r.description};return ce.jsx(ir.div,{ref:n,"data-status":i,...e,className:mo("chakra-alert__desc",e.className),__css:s})});HU.displayName="AlertDescription";function GU(t){const{status:e}=RC(),n=nae(e),r=PC(),i=e==="loading"?r.spinner:r.icon;return ce.jsx(ir.span,{display:"inherit","data-status":e,...t,className:mo("chakra-alert__icon",t.className),__css:i,children:t.children||ce.jsx(n,{h:"100%",w:"100%"})})}GU.displayName="AlertIcon";var VU=Si(function(e,n){const r=PC(),{status:i}=RC();return ce.jsx(ir.div,{ref:n,"data-status":i,...e,className:mo("chakra-alert__title",e.className),__css:r.title})});VU.displayName="AlertTitle";var WU=Si(function(e,n){var r;const{status:i="info",addRole:s=!0,...o}=df(e),a=(r=e.colorScheme)!=null?r:tae(i),l=ine("Alert",{...e,colorScheme:a}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return ce.jsx(Zoe,{value:{status:i},children:ce.jsx(eae,{value:l,children:ce.jsx(ir.div,{"data-status":i,role:s?"alert":void 0,ref:n,...o,className:mo("chakra-alert",e.className),__css:u})})})});WU.displayName="Alert";function rae(t){return ce.jsx(Sm,{focusable:"false","aria-hidden":!0,...t,children:ce.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var jU=Si(function(e,n){const r=ff("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=df(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return ce.jsx(ir.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...o},...a,children:i||ce.jsx(rae,{width:"1em",height:"1em"})})});jU.displayName="CloseButton";var iae={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},ep=sae(iae);function sae(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=oae(i,s),{position:a,id:l}=o;return r(u=>{var f,h;const m=a.includes("top")?[o,...(f=u[a])!=null?f:[]]:[...(h=u[a])!=null?h:[],o];return{...u,[a]:m}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:u}=eI(a,i);return l&&u!==-1&&(a[l][u]={...a[l][u],...s,message:lae(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=s[u].map(f=>({...f,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=mO(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>!!eI(ep.getState(),i).position}}var dL=0;function oae(t,e={}){var n,r;dL+=1;const i=(n=e.id)!=null?n:dL,s=(r=e.position)!=null?r:"bottom";return{id:i,message:t,position:s,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>ep.removeToast(String(i),s),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var aae=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:o,description:a,colorScheme:l,icon:u}=t,f=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return ce.jsxs(WU,{addRole:!1,status:e,variant:n,id:f==null?void 0:f.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[ce.jsx(GU,{children:u}),ce.jsxs(ir.div,{flex:"1",maxWidth:"100%",children:[i&&ce.jsx(VU,{id:f==null?void 0:f.title,children:i}),a&&ce.jsx(HU,{id:f==null?void 0:f.description,display:"block",children:a})]}),s&&ce.jsx(jU,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function lae(t={}){const{render:e,toastComponent:n=aae}=t;return i=>typeof e=="function"?e({...i,...t}):ce.jsx(n,{...i,...t})}var[cae,Sae]=pm({name:"ToastOptionsContext",strict:!1}),uae=t=>{const e=G.useSyncExternalStore(ep.subscribe,ep.getState,ep.getState),{motionVariants:n,component:r=OU,portalProps:i}=t,o=Object.keys(e).map(a=>{const l=e[a];return ce.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:Cne(a),children:ce.jsx(Joe,{initial:!1,children:l.map(u=>ce.jsx(r,{motionVariants:n,...u},u.id))})},a)});return ce.jsx(gx,{...i,children:o})},dae=t=>function({children:n,theme:r=t,toastOptions:i,...s}){return ce.jsxs(Mne,{theme:r,...s,children:[ce.jsx(cae,{value:i==null?void 0:i.defaultOptions,children:n}),ce.jsx(uae,{...i})]})},fae=dae($te);function hae(t){return G.Children.toArray(t).filter(e=>G.isValidElement(e))}var Uu=Si(function(e,n){const{templateAreas:r,gap:i,rowGap:s,columnGap:o,column:a,row:l,autoFlow:u,autoRows:f,templateRows:h,autoColumns:p,templateColumns:m,...y}=e,S={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:s,gridColumnGap:o,gridAutoColumns:p,gridColumn:a,gridRow:l,gridAutoFlow:u,gridAutoRows:f,gridTemplateRows:h,gridTemplateColumns:m};return ce.jsx(ir.div,{ref:n,__css:S,...y})});Uu.displayName="Grid";function XU(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):ks(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}var zu=Si(function(e,n){const r=ff("Text",e),{className:i,align:s,decoration:o,casing:a,...l}=df(e),u=fO({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return ce.jsx(ir.p,{ref:n,className:mo("chakra-text",e.className),...u,...l,__css:r})});zu.displayName="Text";var $U=t=>ce.jsx(ir.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});$U.displayName="StackItem";function pae(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":XU(n,i=>r[i])}}var Hu=Si((t,e)=>{const{isInline:n,direction:r,align:i,justify:s,spacing:o="0.5rem",wrap:a,children:l,divider:u,className:f,shouldWrapChildren:h,...p}=t,m=n?"row":r??"column",y=G.useMemo(()=>pae({spacing:o,direction:m}),[o,m]),S=!!u,x=!h&&!S,g=G.useMemo(()=>{const _=hae(l);return x?_:_.map((b,B)=>{const T=typeof b.key<"u"?b.key:B,R=B+1===_.length,P=h?ce.jsx($U,{children:b},T):b;if(!S)return P;const C=G.cloneElement(u,{__css:y}),k=R?null:C;return ce.jsxs(G.Fragment,{children:[P,k]},T)})},[u,y,S,x,h,l]),A=mo("chakra-stack",f);return ce.jsx(ir.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:m,flexWrap:a,gap:S?void 0:o,className:A,...p,children:g})});Hu.displayName="Stack";function fL(t){return XU(t,e=>e==="auto"?"auto":`span ${e}/span ${e}`)}var Gu=Si(function(e,n){const{area:r,colSpan:i,colStart:s,colEnd:o,rowEnd:a,rowSpan:l,rowStart:u,...f}=e,h=fO({gridArea:r,gridColumn:fL(i),gridRow:fL(l),gridColumnStart:s,gridColumnEnd:o,gridRowStart:u,gridRowEnd:a});return ce.jsx(ir.div,{ref:n,__css:h,...f})});Gu.displayName="GridItem";var Ra=Si(function(e,n){const r=ff("Heading",e),{className:i,...s}=df(e);return ce.jsx(ir.h2,{ref:n,className:mo("chakra-heading",e.className),...s,__css:r})});Ra.displayName="Heading";var rc=ir("div");rc.displayName="Box";var JU=Si(function(e,n){const{size:r,centerContent:i=!0,...s}=e,o=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return ce.jsx(rc,{ref:n,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...s})});JU.displayName="Square";var mae=Si(function(e,n){const{size:r,...i}=e;return ce.jsx(JU,{size:r,ref:n,borderRadius:"9999px",...i})});mae.displayName="Circle";var Pa=Si(function(e,n){const{className:r,centerContent:i,...s}=df(e),o=ff("Container",e);return ce.jsx(ir.div,{ref:n,className:mo("chakra-container",r),...s,__css:{...o,...i&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});Pa.displayName="Container";const gae=()=>ce.jsx(hN,{html:!0,style:{width:"100%"},children:ce.jsxs(fae,{children:[ce.jsx(Pa,{maxW:"100%",h:"100vh",style:{position:"absolute",top:"0vh",left:"0vw"},children:ce.jsx(Ra,{as:"h1",w:"100%",textAlign:"center",fontSize:{base:"35px",sm:"55px",md:"75px",lg:"85px",xl:"100px","2xl":"120px"},style:{position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%,-50%, 0)"},children:"Creative Coding"})}),ce.jsx(Pa,{maxW:"100%",h:"100vh",style:{position:"absolute",top:"100vh",left:"0vw"},children:ce.jsx(Uu,{h:"100%",templateRows:"repeat(7, 1fr)",templateColumns:"repeat(12, 1fr)",children:ce.jsx(Gu,{colStart:8,rowStart:3,colSpan:4,rowSpan:3,padding:"50px",bg:"orange",children:ce.jsxs(Hu,{spacing:5,children:[ce.jsx(Ra,{as:"h1",w:"100%",textAlign:"left",fontSize:{base:"5px",sm:"55px",md:"75px",lg:"85px",xl:"100px","2xl":"72px"},children:"¿Qué es creative coding?"}),ce.jsx(rc,{children:ce.jsx(zu,{fontSize:"lg",align:"justify",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Porro aperiam doloribus ducimus laborum tempore ratione eum a obcaecati, similique debitis exercitationem incidunt facere tempora eligendi quasi perspiciatis vel illo consequuntur? Nemo voluptate explicabo aspernatur ullam, quos amet blanditiis consequuntur magni cumque, ipsa doloribus modi rerum."})})]})})})}),ce.jsx(Pa,{maxW:"100%",h:"100vh",style:{position:"absolute",top:"200vh",left:"0vw"},children:ce.jsx(Uu,{h:"100%",templateRows:"repeat(7, 1fr)",templateColumns:"repeat(12, 1fr)",children:ce.jsx(Gu,{colStart:2,rowStart:3,colSpan:4,rowSpan:3,padding:"50px",bg:"salmon",children:ce.jsxs(Hu,{spacing:5,children:[ce.jsx(Ra,{as:"h1",fontSize:"4xl",children:"¿Para qué sirve?"}),ce.jsx(rc,{children:ce.jsx(zu,{fontSize:"lg",align:"justify",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Porro aperiam doloribus ducimus laborum tempore ratione eum a obcaecati, similique debitis exercitationem incidunt facere tempora eligendi quasi perspiciatis vel illo consequuntur? Nemo voluptate explicabo aspernatur ullam, quos amet blanditiis consequuntur magni cumque, ipsa doloribus modi rerum."})})]})})})}),ce.jsx(Pa,{maxW:"100%",h:"100vh",style:{position:"absolute",top:"300vh",left:"0vw"},children:ce.jsx(Uu,{h:"100%",templateRows:"repeat(7, 1fr)",templateColumns:"repeat(12, 1fr)",children:ce.jsx(Gu,{colStart:8,rowStart:3,colSpan:4,rowSpan:3,padding:"50px",bg:"skyblue",children:ce.jsxs(Hu,{spacing:5,children:[ce.jsx(Ra,{as:"h1",fontSize:"4xl",children:"¿Quiénes lo emplean?"}),ce.jsx(rc,{children:ce.jsx(zu,{fontSize:"lg",align:"justify",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Porro aperiam doloribus ducimus laborum tempore ratione eum a obcaecati, similique debitis exercitationem incidunt facere tempora eligendi quasi perspiciatis vel illo consequuntur? Nemo voluptate explicabo aspernatur ullam, quos amet blanditiis consequuntur magni cumque, ipsa doloribus modi rerum."})})]})})})}),ce.jsx(Pa,{maxW:"100%",h:"100vh",style:{position:"absolute",top:"400vh",left:"0vw"},children:ce.jsx(Uu,{h:"100%",templateRows:"repeat(7, 1fr)",templateColumns:"repeat(12, 1fr)",children:ce.jsx(Gu,{colStart:2,rowStart:3,colSpan:4,rowSpan:3,padding:"50px",bg:"aquamarine",children:ce.jsxs(Hu,{spacing:5,children:[ce.jsx(Ra,{as:"h1",fontSize:"4xl",noOfLines:1,children:"¿Cuáles son sus oportunidades?"}),ce.jsx(rc,{children:ce.jsx(zu,{fontSize:"lg",align:"justify",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Porro aperiam doloribus ducimus laborum tempore ratione eum a obcaecati, similique debitis exercitationem incidunt facere tempora eligendi quasi perspiciatis vel illo consequuntur? Nemo voluptate explicabo aspernatur ullam, quos amet blanditiis consequuntur magni cumque, ipsa doloribus modi rerum."})})]})})})}),ce.jsx(Pa,{maxW:"100%",h:"100vh",style:{position:"absolute",top:"500vh",left:"0vw"},children:ce.jsx(Uu,{h:"100%",templateRows:"repeat(7, 1fr)",templateColumns:"repeat(12, 1fr)",children:ce.jsx(Gu,{colStart:8,rowStart:3,colSpan:4,rowSpan:3,padding:"50px",bg:"mediumpurple",children:ce.jsxs(Hu,{spacing:5,children:[ce.jsx(Ra,{as:"h1",fontSize:"4xl",children:"¿Cómo aprenderlo?"}),ce.jsx(rc,{children:ce.jsx(zu,{fontSize:"lg",align:"justify",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Porro aperiam doloribus ducimus laborum tempore ratione eum a obcaecati, similique debitis exercitationem incidunt facere tempora eligendi quasi perspiciatis vel illo consequuntur? Nemo voluptate explicabo aspernatur ullam, quos amet blanditiis consequuntur magni cumque, ipsa doloribus modi rerum."})})]})})})}),ce.jsx(Pa,{maxW:"100%",h:"100vh",style:{position:"absolute",top:"600vh",left:"0vw"},children:ce.jsx(Ra,{as:"h1",fontSize:"8xl",style:{position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%,-50%, 0)"},children:"Cierre"})})]})}),vae=()=>ce.jsxs(kj,{orthographic:!0,camera:{fov:45,zoom:100,position:[0,0,50]},children:[ce.jsx("ambientLight",{intensity:Math.PI*.5}),ce.jsx("spotLight",{position:[0,1,1],angle:.8,penumbra:.5,decay:0,intensity:Math.PI*50}),ce.jsx("pointLight",{position:[0,0,5],decay:0,intensity:Math.PI}),ce.jsxs(fX,{damping:.25,pages:7,children:[ce.jsx(gae,{}),ce.jsx(qX,{})]})]});F1.createRoot(document.getElementById("root")).render(ce.jsx(Pd.StrictMode,{children:ce.jsx(vae,{})}));
